<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="pt-br"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="pt-br"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="pt-br"> <![endif]-->
<!--[if IE 9 ]>    <html class="no-js ie9" lang="pt-br"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="pt-br">
<!--<![endif]-->

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="robots" content="noindex,nofollow" />
    <link href="//adoorei.s3.us-east-2.amazonaws.com" rel="dns-prefetch" />
    <link href="//api.adoorei.com" rel="dns-prefetch" />
    <link href="//www.google-analytics.com" rel="dns-prefetch" />
    <link href="//www.googleadservices.com" rel="dns-prefetch" />
    <link href="//googleads.g.doubleclick.net" rel="dns-prefetch" />
    <link href="//connect.facebook.net" rel="dns-prefetch" />
    <link href="//staticxx.facebook.com" rel="dns-prefetch" />
    <link href="//static.xx.fbcdn.net" rel="dns-prefetch" />
    <link href="//cdn.adoorei.com" rel="dns-prefetch" />
    <link href="//s.pinimg.com" rel="dns-prefetch" />
    <link href="//a.mgid.com" rel="dns-prefetch" />
    <link href="//s1.kwai.net" rel="dns-prefetch" />
    <link href="//amplify.outbrain.com" rel="dns-prefetch" />
    <link href="//www.mercadopago.com" rel="dns-prefetch" />
    <link href="//sdk.mercadopago.com" rel="dns-prefetch" />
    <link href="//wtfismyip.com/" rel="dns-prefetch" />

    <link rel="shortcut icon" type="image/x-icon" href="/icon.ico" />
    <link rel="icon" href="/icon.ico" />

    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="/icon.ico" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/icon.ico" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/icon.ico" />

    <title>Finalizar Pedido - MegaMart Brasil</title>
    <meta name="description" content="Finalizar Compra"/>

    <style type="text/css">@font-face {font-family:Montserrat;font-style:normal;font-weight:400;src:url(/cf-fonts/v/montserrat/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Montserrat;font-style:normal;font-weight:400;src:url(/cf-fonts/v/montserrat/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Montserrat;font-style:normal;font-weight:400;src:url(/cf-fonts/v/montserrat/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Montserrat;font-style:normal;font-weight:400;src:url(/cf-fonts/v/montserrat/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Montserrat;font-style:normal;font-weight:400;src:url(/cf-fonts/v/montserrat/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Montserrat;font-style:normal;font-weight:500;src:url(/cf-fonts/v/montserrat/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Montserrat;font-style:normal;font-weight:500;src:url(/cf-fonts/v/montserrat/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Montserrat;font-style:normal;font-weight:500;src:url(/cf-fonts/v/montserrat/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Montserrat;font-style:normal;font-weight:500;src:url(/cf-fonts/v/montserrat/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Montserrat;font-style:normal;font-weight:500;src:url(/cf-fonts/v/montserrat/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Montserrat;font-style:normal;font-weight:700;src:url(/cf-fonts/v/montserrat/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Montserrat;font-style:normal;font-weight:700;src:url(/cf-fonts/v/montserrat/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Montserrat;font-style:normal;font-weight:700;src:url(/cf-fonts/v/montserrat/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Montserrat;font-style:normal;font-weight:700;src:url(/cf-fonts/v/montserrat/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Montserrat;font-style:normal;font-weight:700;src:url(/cf-fonts/v/montserrat/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:500;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:500;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:500;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:500;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:500;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:700;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:700;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:700;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:700;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:700;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Rubik;font-style:normal;font-weight:400;src:url(/cf-fonts/v/rubik/5.0.18/arabic/wght/normal.woff2);unicode-range:U+0600-06FF,U+0750-077F,U+0870-088E,U+0890-0891,U+0898-08E1,U+08E3-08FF,U+200C-200E,U+2010-2011,U+204F,U+2E41,U+FB50-FDFF,U+FE70-FE74,U+FE76-FEFC;font-display:swap;}@font-face {font-family:Rubik;font-style:normal;font-weight:400;src:url(/cf-fonts/v/rubik/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Rubik;font-style:normal;font-weight:400;src:url(/cf-fonts/v/rubik/5.0.18/hebrew/wght/normal.woff2);unicode-range:U+0590-05FF,U+200C-2010,U+20AA,U+25CC,U+FB1D-FB4F;font-display:swap;}@font-face {font-family:Rubik;font-style:normal;font-weight:400;src:url(/cf-fonts/v/rubik/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Rubik;font-style:normal;font-weight:400;src:url(/cf-fonts/v/rubik/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Rubik;font-style:normal;font-weight:400;src:url(/cf-fonts/v/rubik/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Rubik;font-style:normal;font-weight:500;src:url(/cf-fonts/v/rubik/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Rubik;font-style:normal;font-weight:500;src:url(/cf-fonts/v/rubik/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Rubik;font-style:normal;font-weight:500;src:url(/cf-fonts/v/rubik/5.0.18/hebrew/wght/normal.woff2);unicode-range:U+0590-05FF,U+200C-2010,U+20AA,U+25CC,U+FB1D-FB4F;font-display:swap;}@font-face {font-family:Rubik;font-style:normal;font-weight:500;src:url(/cf-fonts/v/rubik/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Rubik;font-style:normal;font-weight:500;src:url(/cf-fonts/v/rubik/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Rubik;font-style:normal;font-weight:500;src:url(/cf-fonts/v/rubik/5.0.18/arabic/wght/normal.woff2);unicode-range:U+0600-06FF,U+0750-077F,U+0870-088E,U+0890-0891,U+0898-08E1,U+08E3-08FF,U+200C-200E,U+2010-2011,U+204F,U+2E41,U+FB50-FDFF,U+FE70-FE74,U+FE76-FEFC;font-display:swap;}@font-face {font-family:Rubik;font-style:normal;font-weight:700;src:url(/cf-fonts/v/rubik/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Rubik;font-style:normal;font-weight:700;src:url(/cf-fonts/v/rubik/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Rubik;font-style:normal;font-weight:700;src:url(/cf-fonts/v/rubik/5.0.18/arabic/wght/normal.woff2);unicode-range:U+0600-06FF,U+0750-077F,U+0870-088E,U+0890-0891,U+0898-08E1,U+08E3-08FF,U+200C-200E,U+2010-2011,U+204F,U+2E41,U+FB50-FDFF,U+FE70-FE74,U+FE76-FEFC;font-display:swap;}@font-face {font-family:Rubik;font-style:normal;font-weight:700;src:url(/cf-fonts/v/rubik/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Rubik;font-style:normal;font-weight:700;src:url(/cf-fonts/v/rubik/5.0.18/hebrew/wght/normal.woff2);unicode-range:U+0590-05FF,U+200C-2010,U+20AA,U+25CC,U+FB1D-FB4F;font-display:swap;}@font-face {font-family:Rubik;font-style:normal;font-weight:700;src:url(/cf-fonts/v/rubik/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Taviraj;font-style:normal;font-weight:400;src:url(/cf-fonts/s/taviraj/5.0.18/thai/400/normal.woff2);unicode-range:U+0E01-0E5B,U+200C-200D,U+25CC;font-display:swap;}@font-face {font-family:Taviraj;font-style:normal;font-weight:400;src:url(/cf-fonts/s/taviraj/5.0.18/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Taviraj;font-style:normal;font-weight:400;src:url(/cf-fonts/s/taviraj/5.0.18/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Taviraj;font-style:normal;font-weight:400;src:url(/cf-fonts/s/taviraj/5.0.18/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Taviraj;font-style:normal;font-weight:500;src:url(/cf-fonts/s/taviraj/5.0.18/latin-ext/500/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Taviraj;font-style:normal;font-weight:500;src:url(/cf-fonts/s/taviraj/5.0.18/thai/500/normal.woff2);unicode-range:U+0E01-0E5B,U+200C-200D,U+25CC;font-display:swap;}@font-face {font-family:Taviraj;font-style:normal;font-weight:500;src:url(/cf-fonts/s/taviraj/5.0.18/latin/500/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Taviraj;font-style:normal;font-weight:500;src:url(/cf-fonts/s/taviraj/5.0.18/vietnamese/500/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Taviraj;font-style:normal;font-weight:700;src:url(/cf-fonts/s/taviraj/5.0.18/latin-ext/700/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Taviraj;font-style:normal;font-weight:700;src:url(/cf-fonts/s/taviraj/5.0.18/latin/700/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Taviraj;font-style:normal;font-weight:700;src:url(/cf-fonts/s/taviraj/5.0.18/vietnamese/700/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Taviraj;font-style:normal;font-weight:700;src:url(/cf-fonts/s/taviraj/5.0.18/thai/700/normal.woff2);unicode-range:U+0E01-0E5B,U+200C-200D,U+25CC;font-display:swap;}@font-face {font-family:Work Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/work-sans/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Work Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/work-sans/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Work Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/work-sans/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Work Sans;font-style:normal;font-weight:500;src:url(/cf-fonts/v/work-sans/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Work Sans;font-style:normal;font-weight:500;src:url(/cf-fonts/v/work-sans/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Work Sans;font-style:normal;font-weight:500;src:url(/cf-fonts/v/work-sans/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Work Sans;font-style:normal;font-weight:700;src:url(/cf-fonts/v/work-sans/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Work Sans;font-style:normal;font-weight:700;src:url(/cf-fonts/v/work-sans/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Work Sans;font-style:normal;font-weight:700;src:url(/cf-fonts/v/work-sans/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}</style>

    <style>

        * {
            padding: 0px;
            margin: 0px;
            font-family: Arial;
            /*font-family: 'Nunito', sans-serif;*/
        }

        body {
            background-color: #f3f4f8;
        }

        .container {
            max-width: 920px;
            margin: 20px auto 20px auto;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .rounded {
            border-radius: .3rem;
        }

        .bg-white {
            background-color: white;
        }

        .flex {
            display: flex;
            display: -webkit-flex;
        }

        .flex-col {
            flex-direction: column;
        }

        .flex-row {
            flex-direction: row;
        }

        .justify-center {
            justify-content: center;
        }

        .items-center {
            align-items: center;
            -webkit-align-items: center;
        }

        .justify-end {
            justify-content: flex-end;
        }

        .items-end {
            align-items: flex-end;
        }

        .justify-start {
            justify-content: flex-start;
        }

        .justify-between {
            justify-content: space-between;
        }

        .items-start {
            align-items: flex-start;
        }

        .input-default {
            height: 3.1rem;
            border-radius: 5px;
            border: 1px solid #d0d0d0;
            padding: 2px 20px;
            transition: all .3s;
            color: black;
            color: #666666;
        }

        .input-default-select {
            background-color: white;
            height: 3.47rem;
        }

        .input-default-error {
            background-color: #FEECEF;
        }

        .input-default:focus {
            outline: none;
            border: 1px solid var(--primary-background);
        }

        .label-error {
            display: none;
            margin-left: 1px;
            margin-top: 5px;
            color: #ff6666;
            font-size: 13px;
        }

        .btn-default {
            border-radius: 4px;
            border: 1px solid transparent;
            padding: 10px 15px;
            color: black;
            background-color: var(--primary-background);
            color: white;
            cursor: pointer;
            font-size: 12px;
            font-weight: 400;
        }


        .btn-default-disabled,
        .btn-default:disabled,
        .btn-default[disabled] {
            cursor: not-allowed;
            opacity: 0.4;
        }
    </style>

        <style>
        #loader-container {
            background-color: #f3f4f8;
            position: fixed;
            width: 100vw;
            height: 100vh;
            z-index: 999999;
        }

        #loader-container .lds-dual-ring::after {
            border-color: rgba(0, 0, 0, 0.3) transparent rgba(0, 0, 0, 0.3) transparent;
        }
    </style>
    <style>
        #head_top_components {
            position: relative;
            z-index: 999;
        }

        #head_logo_bar_components {
            z-index: 999;
        }

        #cart-mobile svg {
            min-width: 30px;
            height: 30px;
        }

        #cart-mobile {
            display: none;
            margin-right: 15px;
        }

        #bar-logo h2 {
            margin-left: 15px;
        }

        #cart-mobile {
            order: 1;
        }

        #logo-sucurity-desktop {
            order: 2;
        }

        #bar-security-mobile {
            display: none;
            justify-content: center;
            align-items: center;
            text-align: center;
            color: white;
        }

        .security-icon-container {
            border-radius: 100%;
            background-color: var(--header_elements_color);
            color: white;
            padding: 2px;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

                    /* Create dynamic gradiant */
            
            #gradient-container {
                height: 4px;
                background: linear-gradient(to right, #EA0A0A, #93F805, #0D00FF, #FF00EE);
            }
        
                    #bar-logo {
                margin-top: 15px;
                width: 1024px;
                align-items: center;
            }
                
                    #logo-sucurity-desktop span {
                background-color: transparent !important;
            }
        
        #logo-sucurity-desktop .logo-security-text {
            min-width: max-content;
        }

        #notify-cart {
            background-color: var(--cart-quantity-circle-color);
            padding: 0.01rem;
            border-radius: 100%;
            font-size: 12px;
            position: absolute;
            margin-top: -40px;
            margin-left: 18px;
            min-width: 1.2rem;
            min-height: 1.2rem;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @media (max-width: 1060px) {
            #cart-mobile {
                order: 2;
            }

            #logo-sucurity-desktop {
                order: 1;

                            }

            #cart-mobile {
                display: block;
            }

            #bar-security-mobile {
                display: flex;
            }

            #bar-logo {
                margin-top: 0px;
                width: 768px;
            }
        }

        @media (min-width: 576px) and (max-width: 767.98px) {
            #cart-mobile {
                order: 2;
            }

            #logo-sucurity-desktop {
                order: 1;
            }

            #cart-mobile {
                display: block;
            }

            #bar-security-mobile {
                display: flex;
            }

            #bar-logo {
                margin-top: 15px;
                width: 100%;
            }
        }


        @media (max-width: 575px) {
            #cart-mobile {
                order: 2;
                margin-right: 30px;
            }

            #bar-logo img {
                margin-left: 30px;
            }

            #bar-logo h2 {
                margin-left: 30px;
                white-space: nowrap;
            }

            #logo-sucurity-desktop {
                order: 1;
            }

            #cart-mobile {
                display: block;
            }

            #bar-security-mobile {
                display: flex;
            }

            #bar-logo {
                margin-top: 0px;
                width: 100%;
            }
        }
    </style>
    <style>
        #cashback_default {
            color: #000;
            text-align: center;
            font-size: 25px;
            font-weight: 700;
            margin: 32px 21px;
        }

        #modal-cashback-avaliable {
            background-color:#00000066;
            width:100%;
            height:100%;
            position:fixed;
            color:#666;
            display:none;
            align-items:center;
            justify-content:center;
            z-index:1000;
            align-items:center;
        }

        #modal-cashback-content {
            width: 40vw;
            max-width: 423px;
            border-radius: 10px; 
            background-color:white;
            padding:20px;
            font-size:14px;
            font-weight:400;
        }

        #apply-cashback-button {
            font-weight: 700;
            width:auto; 
            padding:12px 40px;
            font-size:14px;
            max-width: 238px;
            margin-bottom: 16px;
            background-color:var(--primary-background);
            color:var(--primary-text);
            width: 100%;
        }

        #modal-cashback-emoji {
            font-size: 80px;
        }

        .close-button {
            text-align:right;
            margin-bottom:6px;
            width:100%;
            font-weight: 400;
            font-size: 20px;
            cursor:pointer;
        }

        .refuse-offer {
            text-align:center;
            cursor:pointer;
            color: #666;
            font-size: 13px;
        }

        @media (min-width: 768px) and (max-width: 1023px) {
            #modal-cashback-content {
                width: 60vw;
            }

        }

        @media (min-width: 576px) and (max-width: 767.98px) {

            #modal-cashback-content {
                width: 60vw;
            }
        }


        @media (max-width: 575px) {
            #modal-cashback-content {
                width: 80vw;
            }
        }
    </style>
    <style>
        #modal-autofill-container {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 999;
        }

        #modal-autofill {
            width: 390px;
            background-color: #FFFFFF;
            border: 1px solid #666666;
            padding: 30px;
        }

        #modal-autofill.shake {
            animation: shake 0.5s;
            animation-iteration-count: 1;
        }

        #modal-autofill #modal-autofill-name::before {
            content: 'Olá, ';
        }

        #modal-autofill #modal-autofill-name {
            font-size: 18px;
            font-weight: 700;
            color: #666666;
            margin-bottom: 5px;
            text-transform: capitalize
        }

        #modal-autofill .modal-autofill-description {
            font-size: 13px;
            font-weight: 400;
            color: #666666;
            margin: 0px;
        }

        #modal-autofill #modal-autofill-code-container {
            margin-top: 20px;
            margin-bottom: 15px;
            gap: 10px
        }

        #modal-autofill #modal-autofill-code-container input {
            width: 50px;
            height: 50px;
            border: 1px solid #D0D0D0;
            border-radius: 4px;
            text-align: center;
            font-size: 18px;
            font-weight: 700;
            color: #666666;
        }

        #modal-autofill #modal-autofill-code-container input[type=number]::-webkit-outer-spin-button,
        #modal-autofill #modal-autofill-code-container input[type=number]::-webkit-inner-spin-button {
            -webkit-appearance: none;
        }

        #modal-autofill #modal-autofill-code-container input[type=number] {
            -moz-appearance: textfield;
        }

        #modal-autofill #modal-autofill-send-code-btn {
            background-color: transparent;
            border: none;
            gap: 10px;
            cursor: pointer;
        }

        #modal-autofill #modal-autofill-send-code-btn .modal-autofill-send-code-btn-text {
            font-size: 13px;
            font-weight: 400;
            color: #666666;
        }

        #modal-autofill #modal-autofill-send-code-btn:hover .modal-autofill-send-code-btn-text {
            color: #3FC583;
        }

        #modal-autofill #modal-autofill-send-code-btn:hover svg path {
            fill: #3FC583;
        }

        #modal-autofill #modal-autofill-btns-container {
            margin-top: 20px;
            gap: 10px;
        }

        #modal-autofill #modal-autofill-btns-container #modal-autofill-validate-btn {
            border: none;
            border-radius: var(--btn-radius);
            background-color: #3FC583;
            font-size: 16px;
            font-weight: 700;
            color: #FFFFFF;
            padding: 16px;
            cursor: pointer;
        }

        #modal-autofill #modal-autofill-btns-container #modal-autofill-close-btn {
            border: 1px solid #3FC583;
            border-radius: var(--btn-radius);
            background-color: #FFFFFF;
            font-size: 12px;
            font-weight: 500;
            color: #3FC583;
            padding: 7px;
            cursor: pointer;
        }

        
        @media (max-width: 400px) {
            #modal-autofill-code-container {
                flex-wrap: wrap;
            }
        }

        @media (max-width: 580px) {
            #modal-autofill {
                width: 90%;
            }
        }

        @keyframes shake {
            0% {
                transform: translate(1px, 1px) rotate(0deg);
            }

            10% {
                transform: translate(-1px, -2px) rotate(-1deg);
            }

            20% {
                transform: translate(-3px, 0px) rotate(1deg);
            }

            30% {
                transform: translate(3px, 2px) rotate(0deg);
            }

            40% {
                transform: translate(1px, -1px) rotate(1deg);
            }

            50% {
                transform: translate(-1px, 2px) rotate(-1deg);
            }

            60% {
                transform: translate(-3px, 1px) rotate(0deg);
            }

            70% {
                transform: translate(3px, 1px) rotate(-1deg);
            }

            80% {
                transform: translate(-1px, -1px) rotate(1deg);
            }

            90% {
                transform: translate(1px, 2px) rotate(0deg);
            }

            100% {
                transform: translate(1px, -2px) rotate(-1deg);
            }
        }
    </style>
    <style>
        #yupi-resume-cart-mobile {
            margin-top: 12px;
            margin-bottom: 12px;
            display: none;
        }

        #yupi-resume-cart-mobile #yupi-resume-cart-mobile-container {
            background-color: #e4e8ec;
            border-radius: var(--step-radius);
            padding: 10px 15px;
        }

        #yupi-resume-cart-mobile.expanded #yupi-resume-cart-mobile-container {
            background-color: white;
        }

        #yupi-resume-cart-mobile #yupi-resume-cart-mobile-header {
            cursor: pointer;
            background-color: #e4e8ec;
            border-radius: var(--step-radius);
        }

        #yupi-resume-cart-mobile.expanded #yupi-resume-cart-mobile-header {
            background-color: white;
        }

        #yupi-resume-cart-mobile #yupi-resume-cart-mobile-container #yupi-resume-cart-mobile-title::before {
            content: 'RESUMO (';
            font-weight: 500;
        }

        #yupi-resume-cart-mobile #yupi-resume-cart-mobile-container #yupi-resume-cart-mobile-title {
            font-size: 12px;
            font-weight: 800;
        }

        #yupi-resume-cart-mobile #yupi-resume-cart-mobile-container #yupi-resume-cart-mobile-title::after {
            content: ')';
            font-weight: 500;
        }

        #yupi-resume-cart-mobile #yupi-resume-cart-mobile-container #yupi-resume-cart-mobile-subtitle {
            margin-top: 5px;
            font-size: 12px;
            font-weight: 400;
            color: #666;
        }

        #yupi-resume-cart-mobile.expanded #yupi-resume-cart-mobile-container #yupi-resume-cart-mobile-subtitle {
            display: none;
        }

        #yupi-resume-cart-mobile #yupi-resume-cart-mobile-container #yupi-resume-cart-mobile-total-price::before {
            content: 'R$ ';
        }

        #yupi-resume-cart-mobile #yupi-resume-cart-mobile-container #yupi-resume-cart-mobile-total-price {
            font-size: 15px;
            font-weight: 700;
            color: #000;
            min-width: max-content;
        }

        #yupi-resume-cart-mobile.expanded #yupi-resume-cart-mobile-container #yupi-resume-cart-mobile-total-price {
            display: none
        }

        #yupi-resume-cart-mobile #yupi-resume-cart-mobile-container #yupi-resume-cart-mobile-arrow-img {
            border: solid black;
            border-width: 0 2px 2px 0;
            display: inline-block;
            padding: 3px;

            transform: rotate(45deg);
            -webkit-transform: rotate(45deg);

            margin-left: 15px;

            transition: all 0.2s 0s ease-in-out;
        }

        #yupi-resume-cart-mobile.expanded #yupi-resume-cart-mobile-container #yupi-resume-cart-mobile-arrow-img {
            transform: rotate(-135deg);
            -webkit-transform: rotate(-135deg);
        }

        #yupi-resume-cart-mobile #yupi-resume-cart-mobile-container #yupi-resume-cart-mobile-content-container {
            max-height: 0px;
            overflow: hidden;
        }

        #yupi-resume-cart-mobile #yupi-resume-cart-mobile-container #yupi-resume-cart-mobile-content-container #resume-cart-mobile-content {
            padding: 20px 10px !important;
        }

        #yupi-resume-cart-mobile.expanded #yupi-resume-cart-mobile-container #yupi-resume-cart-mobile-content-container {
            max-height: 10000px;
        }

        #yupi-resume-cart-mobile #resume-cart-mobile-content {
            width: 100%
        }

        #yupi-resume-cart-mobile #resume-cart-mobile-content h3 {
            display: none;
        }

        @media (max-width: 1060px) {
            #yupi-resume-cart-mobile {
                display: flex;
            }

            #yupi-resume-cart-mobile #yupi-resume-cart-mobile-container {
                width: 100%;
                max-width: 450px;
            }
        }
    </style>
    <style>
        ::placeholder {
            color: #d0d0d0;
        }

        #personal-data {
            width: 100%;
        }

        .form-group {
            gap: 5px;
            margin-top: 20px;
        }

        .form-group label {
            font-size: 13px;
            color: #666666;
        }

        #opt_in {
            width: 15px;
            height: 15px;
        }

                    input[name="doc"] {
                max-width: 160px;
            }

            .input-phone-container {
                display: flex;
            }

            .input-phone-container .yupi-prefix-phone {
                align-self: stretch;
                background-color: #f4f6f8;
                border: 1px solid #d0d0d0;
                border-right: none !important;
                text-size-adjust: 100%;
                width: 64px;
                font-size: 13px;
                align-items: center;
                display: flex;
                justify-content: center;
                border-radius: var(--btn-radius) 0px 0px var(--btn-radius);
            }

            .input-phone-container input {
                border-radius: 0px var(--btn-radius) var(--btn-radius) 0px !important;
            }

            @media (max-width: 1060px) {
                input[name="doc"] {
                    max-width: 62%;
                }

                .input-phone-container input {
                    max-width: 273px;
                }
            }
        
        
        input[type="date"]::-webkit-calendar-picker-indicator {
            display: none;
            -webkit-appearance: none;
        }

        @media (min-width: 768px) and (max-width: 1023px) {}

        @media (min-width: 576px) and (max-width: 767.98px) {}


        @media (max-width: 575px) {}
    </style>
    <style>
        ::placeholder {
            color: #d0d0d0;
        }

        #delivery-address {
            width: 100%;
        }

        .form-group {
            gap: 5px;
            margin-top: 20px;
        }

        .form-group label {
            font-size: 13px;
            color: #666666;
        }

        #label-next-step-postal-code-hidden {
            font-size:13px;
            font-weight:400;
        }

        
        @media (min-width: 768px) and (max-width: 1023px) {}

        @media (min-width: 576px) and (max-width: 767.98px) {}


        @media (max-width: 575px) {}
    </style>
    <style>
        ::placeholder {
            color: #d0d0d0;
        }

        /*
                                                                    shipping
                                                                */

        .form-group {
            gap: 5px;
            margin-top: 20px;
        }

        .form-group label {
            font-size: 13px;
            color: #666666;
        }

                    .custom-radio-active {
                background-color: var(--primary-background) !important;
                box-shadow: 0px 0px 0px 3px white inset;
            }
        
        .form-group span {
            font-size: 13px;
        }

        #shipping-methods.yupi-style {
            border-top: 1px solid #d7d7d7;
            padding-top: 20px;
        }

        #shipping-methods.yupi-style .label-shipping-methods {
            background-color: #f5f6f8;
            padding: 15px;
            border: 1px solid black;
            border-radius: 5px;
        }

        #shipping-methods.yupi-style .label-shipping-methods span {
            font-size: 13px;
            font-weight: 700;
        }

        #shipping-methods.yupi-style .label-shipping-methods .label-price-shipping.label-price-shipping-free {
            color: #69c289;
            font-size: 14px;
            font-weight: 800;
        }

        #shipping-methods.yupi-style .label-shipping-methods .custom-radio-active {
            background-color: white !important;
            box-shadow: 0px 0px 0px 5px black inset;
        }

        @media (min-width: 768px) and (max-width: 1023px) {}

        @media (min-width: 576px) and (max-width: 767.98px) {}


        @media (max-width: 575px) {
            .form-group span {
                font-size: 11px;
            }
        }
    </style>
    <style>
        ::placeholder {
            color: #d0d0d0;
        }

        #payment-methods {
            width: 100%;
        }

        .form-group {
            gap: 5px;
            margin-top: 10px;
        }

        .form-group label {
            font-size: 13px;
            color: #666666;
        }

                    .custom-radio-active {
                background-color: var(--primary-background) !important;
                box-shadow: 0px 0px 0px 3px white inset;
            }
        

        @media (min-width: 768px) and (max-width: 1023px) {}

        @media (min-width: 576px) and (max-width: 767.98px) {}


        @media (max-width: 575px) {}
    </style>
    <style>
        @media (max-width: 1060px) {
            #resume-cart {
                display: none;
            }
        }

        .cart-section-container {
            box-shadow: 0 4px 12px rgb(0 0 0 / 5%); 
            padding:15px;
            border-radius: 0px 0px .3rem .3rem;
        }

                    #resume-cart {
                gap: 10px;
            }

            .cart-section-container {
                width:310px;
                padding: 24px;
            }
        
                    .cart-section-container {
                border-radius: var(--step-radius) !important;
            }
            </style>
    <style>
        
        #footer hr {
            border-top: 1px solid #d0d0d0;
        }

        #footer span,
        #footer a {
            font-size: 12px;
            text-align: center !important;
        }

        #footer {
                            background-color: #f3f4f8;
            
                            color: #666666 !important;
                    }

        #payment_methods_footer_img {
            margin-top: 20px;
            margin-bottom: 35px;

            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;

            gap: 10px;
        }

        #payment_methods_footer_label {
            font-size: 13px !important;
        }

        .footer_link {
                            color: #666666;
            
            text-decoration: none;
        }

        .footer_link:hover {
            opacity: 0.75;
        }

        @media (max-width: 1023px) {
            #payment_methods_footer_img {
                max-width: 80%;
            }

            #footer-container-email-whatsapp {
                flex-direction: column;
            }

            #footer-container-email-whatsapp span {
                line-break: anywhere;
                padding: 5px;
            }

            #footer-container-email-whatsapp .separator {
                display: none;
            }
        }
    </style>
    <style>
        #code-cupom-input {
            text-transform: uppercase;
        }

        #code-cupom-input::-webkit-input-placeholder,
        #code-cupom-input::-moz-placeholder,
        #code-cupom-input:-ms-input-placeholder,
        #code-cupom-input:-moz-placeholder {
            text-transform: lowercase;
        }

        
        
        #add-cupom-button {
            
            
                    }

        
        
        .coupon-input-container {
            width: 100%;
        }

        .coupon-yupi-input-container {
            width: 100%;
        }

        .price-and-scarcity-container {
            gap: 10px;
        }

        #scarcity-message-tag-cart {
            display: flex;
            padding: 4px 8px;
            border-radius: var(--btn-radius);
            max-width: fit-content;
            font-size: 12px;

                    }

        .cart-product-image {
            width: 60px;
            max-width: 60px;
            max-height: 60px;
            object-fit: contain;
        }
    </style>
    <style>
        @media(max-width: 1060px) {
            #backdrop {
                position: fixed;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                background-color: #000;
                opacity: .3;
                z-index: 2;
                display: none;
            }

            #resume-cart-mobile-content {
                padding: 20px 100px;
            }
        }

        @media (max-width: 575px) {
            #resume-cart-mobile-content {
                padding: 20px;
            }
        }
    </style>
    <style>
        
            </style>
    <style>
        #code-cupom-input {
            text-transform: uppercase;
        }

        #code-cupom-input::-webkit-input-placeholder,
        #code-cupom-input::-moz-placeholder,
        #code-cupom-input:-ms-input-placeholder,
        #code-cupom-input:-moz-placeholder {
            text-transform: lowercase;
        }

                    #code-cupom-input,
            #add-cupom-button {
                height: 36px !important;
            }

            #code-cupom-input {
                background-color: transparent;
            }

            #add-cupom-button {
                padding: 6px !important;
                /* border: 1px solid #e9e9e9; */
            }

            .line-item-container {
                max-width: 180px !important;
                width: 100% !important;
            }

            .coupon-yupi-input-container {
                position: relative;
                display: inline-block;
            }

            .coupon-yupi-input-container input#code-cupom-input {
                font-size: 11px !important;
            }

            #cupom-yupi-icon {
                position: absolute;
                left: 10px;
                top: 53%;
                transform: translateY(-50%);
            }

            .coupon-yupi-input-container input {
                padding-left: 40px !important;
            }

            #content-list-products {
                order: 1;
            }

            #content-list-products .list-products:nth-last-child(1) {
                border-bottom: none !important;
            }

            .values-resume-content {
                font-weight: normal !important;
            }

            .total-value-resume {
                font-weight: 500;
            }

            @media (max-width: 1060px) {
                .coupon-yupi-input-container {
                    max-width: 280px;
                }
            }
        
        
        #add-cupom-button {
            
            
                    }

        
        
        .coupon-input-container {
            width: 100%;
        }

        .coupon-yupi-input-container {
            width: 100%;
        }

        .price-and-scarcity-container {
            gap: 10px;
        }

        #scarcity-message-tag-cart {
            display: flex;
            padding: 4px 8px;
            border-radius: var(--btn-radius);
            max-width: fit-content;
            font-size: 12px;

                            background-color: var(--scarcity-background-color-tag-cart);
                color: var(--scarcity-text-color-tag-cart);
                    }

        .cart-product-image {
            width: 60px;
            max-width: 60px;
            max-height: 60px;
            object-fit: contain;
        }
    </style>
    <style>
        .label-box-methods-payment{
            font-size:13px;
        }
        .form-group--small {
            gap: 5px;
        }

        
        @media (max-width: 575px)
        {
            .label-box-methods-payment{
            font-size:12px;
        }
        }
    </style>
    <style>
        .label-box-methods-payment {
            font-size: 13px;
        }

        @media (max-width: 575px) {
            .label-box-methods-payment {
                font-size: 12px;
            }
        }
    </style>
    <style>
        #code-cupom-input {
            text-transform: uppercase;
        }

        #code-cupom-input::-webkit-input-placeholder,
        #code-cupom-input::-moz-placeholder,
        #code-cupom-input:-ms-input-placeholder,
        #code-cupom-input:-moz-placeholder {
            text-transform: lowercase;
        }

                    #code-cupom-input,
            #add-cupom-button {
                height: 36px !important;
            }

            #code-cupom-input {
                background-color: transparent;
            }

            #add-cupom-button {
                padding: 6px !important;
                /* border: 1px solid #e9e9e9; */
            }

            .line-item-container {
                max-width: 180px !important;
                width: 100% !important;
            }

            .coupon-yupi-input-container {
                position: relative;
                display: inline-block;
            }

            .coupon-yupi-input-container input#code-cupom-input {
                font-size: 11px !important;
            }

            #cupom-yupi-icon {
                position: absolute;
                left: 10px;
                top: 53%;
                transform: translateY(-50%);
            }

            .coupon-yupi-input-container input {
                padding-left: 40px !important;
            }

            #content-list-products {
                order: 1;
            }

            #content-list-products .list-products:nth-last-child(1) {
                border-bottom: none !important;
            }

            .values-resume-content {
                font-weight: normal !important;
            }

            .total-value-resume {
                font-weight: 500;
            }

            @media (max-width: 1060px) {
                .coupon-yupi-input-container {
                    max-width: 280px;
                }
            }
        
        
        #add-cupom-button {
            
            
                    }

        
        
        .coupon-input-container {
            width: 100%;
        }

        .coupon-yupi-input-container {
            width: 100%;
        }

        .price-and-scarcity-container {
            gap: 10px;
        }

        #scarcity-message-tag-cart {
            display: flex;
            padding: 4px 8px;
            border-radius: var(--btn-radius);
            max-width: fit-content;
            font-size: 12px;

                            background-color: var(--scarcity-background-color-tag-cart);
                color: var(--scarcity-text-color-tag-cart);
                    }

        .cart-product-image {
            width: 60px;
            max-width: 60px;
            max-height: 60px;
            object-fit: contain;
        }
    </style>
    <style>
        .container-lg {
            width: 100%;
            max-width: 1040px;
            box-sizing: border-box;
        }

        .col {
            flex: 1 100%;
            min-width: min-content;
            box-sizing: border-box;
        }

        .w-full {
            width: 100%;
            box-sizing: border-box;
        }

        .p-4 {
            padding: 1rem !important;
            transition: padding 1s cubic-bezier(0.075, 0.82, 0.165, 1);
        }

        .p-5 {
            padding: 1.5rem !important;
            transition: padding 1s cubic-bezier(0.075, 0.82, 0.165, 1);
        }

        .gap-4 {
            gap: 1rem;
        }

        .flex {
            display: flex;
        }

        .flex-col {
            flex-direction: column;
        }

        .flex-row {
            flex-direction: row;
        }

        .align-start {
            align-items: flex-start;
        }

        .align-center {
            align-items: center;
        }

        .align-end {
            align-items: flex-end;
        }

        .justify-start {
            justify-content: flex-start;
        }

        .justify-center {
            justify-content: center;
        }

        .justify-end {
            justify-content: flex-end;
        }

        .justify-between {
            justify-content: space-between;
        }

        .justify-around {
            justify-content: space-around;
        }

        @media (max-width: 1060px) {
            .p-4 {
                padding: 0.7rem !important;
            }

            .p-5 {
                padding: 1.2rem !important;
            }

            .w-md-full {
                width: 100% !important;
                max-width: 100% !important;
            }
        }
    </style>
    <style>
        * {
            box-sizing: border-box !important;
            font-family: var(--font-yupi, 'Arial') !important;
        }

        input[type="text"].input-default,
        input[type="tel"].input-default,
        input[type="date"].input-default,
        input[type="email"].input-default,
        select.input-default {
            height:45px !important;
            font-size: 14px !important;
        }

        .section-title {
            font-size: 17px !important;
        }

        .step1-checkout,
        .step2-checkout {
            border: 2px solid #999999;
        }

        .step2-checkout #delivery-address,
        .step2-checkout #shipping-methods {
            min-width: 100%;
            width: 100%;
            max-width: 100%;
            box-sizing: border-box
        }

        .step3-checkout {
            min-width: 50%;
            width: 50%;
            max-width: 50%;
        }

        .step3-checkout .label-box-methods-payment {
            font-size: 12px;
            text-transform: lowercase;
        }

        .step3-checkout .label-box-methods-payment:first-letter {
            text-transform: capitalize;
        }

        .step3-checkout .label-box-methods-payment.input-pix {
            font-size: 12px;
            text-transform: none;
        }

        #resume-social-proof-container {
            width: 310px;
        }

        .section-container {
            border-radius: var(--step-radius) !important;
        }

        .btn-default {
            border-radius: var(--btn-radius) !important;
        }

        .shadow-payment-button {
            box-shadow: 0px 5px 20px -5px var(--checkout-background);
        }

        .pulse-effect-btn--finalize {
            animation: pulse-finalize 1.7s ease-in-out infinite
        }

        @keyframes pulse-finalize {
            0%{
                box-shadow: 0 0 0 0 var(--checkout-background), 0 0 0 0 var(--checkout-background);
            }
            40%{
                box-shadow: 0 0 0 10px rgba(255,158,74,0) , 0 0 0 0 var(--checkout-background);
            }
            80%{
                box-shadow: 0 0 0 10px rgba(255,158,74,0) , 0 0 0 5px rgba(255,158,74,0);
            }
            100%{
                box-shadow: 0 0 0 0 rgba(255,158,74,0) , 0 0 0 5px rgba(255,158,74,0);
            }
        }

        .input-default {
            border-radius: var(--btn-radius) !important;
            width: 100%;
        }

        .lds-dual-ring {
            display: inline-block;
            width: 20px;
            height: 20px;
        }

        .lds-dual-ring:after {
            content: " ";
            display: block;
            width: 20px;
            height: 20px;
            margin: 8px;
            border-radius: 50%;
            border: 4px solid #fff;
            border-color: #fff transparent #fff transparent;
            animation: lds-dual-ring 1.2s linear infinite;
        }

        .order-bump-container {
            max-width: 300px !important;
            margin: auto;
        }

        @keyframes lds-dual-ring {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        @media (max-width: 1060px) {

            #content,
            #sections-content {
                width: 100% !important;
                max-width: 450px !important;
                flex-direction: column;
                align-items: center;
            }

            #content {
                padding: 0px !important;
            }
        }

        @media (max-width: 520px) { 
            .step1-checkout, .step2-checkout, .step3-checkout {
                border: 0 !important;
                border-radius: 0 !important;
                border-top: 1px solid #eee;
            }

            #content,
            #sections-content {
                width: 100% !important;
                max-width: 100% !important;
            }

            #resume-social-proof-container {
                padding: 0px 16px;
            }
        }
    </style>

            <!-- Google Tag Manager -->
        <script>
            (function(w, d, s, l, i) {
                w[l] = w[l] || [];
                w[l].push({
                    'gtm.start': new Date().getTime(),
                    event: 'gtm.js'
                });
                var f = d.getElementsByTagName(s)[0],
                    j = d.createElement(s),
                    dl = l != 'dataLayer' ? '&l=' + l : '';
                j.async = true;
                j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
                f.parentNode.insertBefore(j, f);
            })(window, document, 'script', 'dataLayer', 'GTM-5B8H5BD');
        </script>
        <!-- End Google Tag Manager -->
    
    

    
    
    

    


    
        
    
    

    
            <!-- Meta Pixel Code -->
        <script>
            ! function(f, b, e, v, n, t, s) {
                if (f.fbq) return;
                n = f.fbq = function() {
                    n.callMethod ?
                        n.callMethod.apply(n, arguments) : n.queue.push(arguments)
                };
                if (!f._fbq) f._fbq = n;
                n.push = n;
                n.loaded = !0;
                n.version = '2.0';
                n.queue = [];
                t = b.createElement(e);
                t.async = !0;
                t.src = v;
                s = b.getElementsByTagName(e)[0];
                s.parentNode.insertBefore(t, s)
            }(window, document, 'script',
                'https://connect.facebook.net/en_US/fbevents.js');


            
            


                                                        fbq('set', 'autoConfig', false, '1128226651937719');
                    fbq('init', '1128226651937719');

                                                


                                                        fbq('set', 'autoConfig', false, '382663677914758');
                    fbq('init', '382663677914758');

                                                
            

                window.fbq_cart_data = {
                    value: 170,
                    currency: 'BRL',
                    contents: [
                                                                                                        {
                                id: '9151797592366',
                                item_price: 17000,
                                quantity: 1
                            },
                                            ],
                    content_type: 'product_group',
                    content_ids: "[&quot;9151797592366&quot;]",
                    content_name: "Kit 12 Panelas Inox Tramontina® + Brinde Kit de utensílios",
                    num_items: 1
                };
                fbq('track', 'InitiateCheckout', window.fbq_cart_data, {
                    eventID: 'InitiateCheckout_635f1455-db8c-4c02-a2f7-a56107df4702'
                });
                fbq('track', 'PageView', window.fbq_cart_data, {
                    eventID: 'PageView_635f1455-db8c-4c02-a2f7-a56107df4702'
                });
                    </script>
        <!-- End Meta Pixel Code -->
    


    



            <script>
            var executeWhenElementIsVisible = function(dom_element, callback) {

                if (!(dom_element instanceof HTMLElement)) {
                    console.error('dom_element must be a valid HTMLElement');
                }

                if (typeof callback !== 'function') {
                    console.error(
                        'Second parameter must be a function, got',
                        typeof callback,
                        'instead',
                    );
                }

                function isHidden(el) {
                    return (el.offsetParent === null)
                }

                function isOnViewport(elem) {
                    var rect = elem.getBoundingClientRect();
                    var docElem = document.documentElement;
                    return (
                        elem.style.display != 'none' &&
                        document.querySelectorAll('#payment-methods').length > 0 &&
                        !isHidden(elem)
                    );
                }

                var executeCallback = (function() {
                var wasExecuted = false;
                return function() {
                    if (!wasExecuted && isOnViewport(dom_element)) {
                    wasExecuted = true;
                    callback();
                    }
                };
                })();

                window.addEventListener('scroll', executeCallback, false);
            };

            document.addEventListener("DOMContentLoaded", function(e) {
                var element = document.querySelector('.box-payment');

                executeWhenElementIsVisible(element, function() {
                                            fbq('track', 'AddPaymentInfo', window.fbq_cart_data, {
                            eventID: 'AddPaymentInfo_635f1455-db8c-4c02-a2f7-a56107df4702'
                        });
                    
                    if (window.ttq) {

                        window.ttq.identify({
                            email: window.form.email,
                            phone_number: '+55' + (window.form.phone + '').replace(/\D/g, ''),
                        })

                        window.ttq.track('AddPaymentInfo', {
                            content_type: 'product',
                            currency: 'BRL',
                            value: 170,
                            contents: [
                                                                    {
                                        content_id: '48284888006958',
                                        content_name: 'Kit 12 Panelas Inox Tramontina® + Brinde Kit de utensílios',
                                        quantity: 1
                                    },
                                                            ],
                        });
                    }

                    fetch("/fbe/add-payment-event/635f1455-db8c-4c02-a2f7-a56107df4702", {
                        headers: new Headers({
                            'X-CSRF-TOKEN': document.querySelector('input[name="_token"]').value
                        }),
                        method: 'post',
                    })
                });
            });
        </script>
    

</head>

<body style="overflow-x: hidden;">


    
    <div id="load-full-screen"
        style="background-color:#00000066;width:100%;height:100%;position:fixed;color:white;display:none;align-items:center;justify-content:center;z-index:1000;align-items:center;">
        <div style="margin-top:-26px;" class="lds-dual-ring"></div>
        <span style="margin-left:33px;" class='load-full-text'>Aguarde...</span>
    </div>
        
    <div id="loader-container" class="flex align-center justify-center p-4">
    <div style="margin-top:-26px;" class="lds-dual-ring"></div>
</div>





    
    <section id="head_top_components"
    style="display:flex;justify-content:center;flex-direction:column; align-items:center;background-color: #FFFFFF;">
    <!--- Safe buy bar -->
    </section>

<section id="head_logo_bar_components"
    style="display:flex;justify-content:center;flex-direction:column; align-items:center;background-color: #FFFFFF;position: relative">
    <!--- Bar logo -->
    <div id="bar-logo"
        style="display:flex;margin-bottom: 1rem; margin-top: 1rem; justify-content:space-between;;">
                                    <img src="https://adooreibr.s3.us-east-2.amazonaws.com/images/bb5b9bd8-9a56-479c-a300-3a76c0a6490e_0c1a59633c176e5ab2ff3b7cbdff9962" alt="MegaMart Brasil"
                style="max-width: 100%; max-height: 2.4rem;margin-left:15px;">
                    
        <!--- ??? -->
        <h2></h2>

        <!--- Safe buy icon -->
        
        <!--- Adiciona carrinho -->
                            </div>
</section>

    <section id="head_mobile_cart_components"
        style="display:flex;justify-content:center;flex-direction:column; align-items:center;background-color: #FFFFFF;">
        <!--- Resume cart mobile -->
                    <div id="resume-cart-mobile"
    style="
            background-color:white;
            width:100%;
            box-shadow: 0px 13px 15px -8px rgba(0,0,0,0.3);
            display:none;
            z-index: 500;">
    <div id="resume-cart-mobile-content" class="flex flex-col justify-start">
    <div id="resume-cart-container" class="flex flex-col" style="gap: 5px">

                                    <h3 style="font-weight:700;font-size:14px;color:#666666;margin-bottom:15px !important;">SEU CARRINHO</h3>
                    
        <div id="content-list-products" class="flex flex-col" style="gap: 5px">
                            <div class="flex list-products" id="product-item-48284888006958"
                    data-orderbump-id=""
                    style="gap:15px;border-bottom:1px solid #eee;padding-bottom:15px;padding-top:15px;">

                                                                                                                                        <div style="flex-shrink: 0"><img class="rounded cart-product-image" src="https://cdn.shopify.com/s/files/1/0853/6221/3166/files/3524734-icone-da-linha-de-compra-segura-com-bolsa-e-escudo-vetor_60x60.jpg"
                            alt="Kit 12 Panelas Inox Tramontina® + Brinde Kit de utensílios" width="60" height="60" /></div>
                    <div class="flex flex-col product-info-container"
                        style="flex-grow:1; gap:5px;font-weight:400;font-size:13px;color:#666666;width:100%">
                        <span class="flex justify-between">
                            <span class="cart-product-title"
                                style="word-break: break-word">Kit 12 Panelas Inox Tramontina® + Brinde Kit de utensílios</span>
                        </span>
                        <small class="cart-product-variant-title"
                            style="word-break: break-word;"></small>

                        
                        <span class="flex price-and-scarcity-container align-center">
                            <span id="price-unit-product">
                                R$170,00</span>
                        </span>

                        
                        <div id="lineItem_48284888006958"
                            class="flex items-center justify-between rounded line-item-container"
                            style="border:1px solid #e7e7e7;padding:5px;width:100px;margin-top:10px; border-radius: var(--btn-radius)">
                            <svg onclick="decrementProduct('48284888006958')" width="15"
                                style="color:#b6b2b2;font-weight:700;cursor:pointer;" xmlns="http://www.w3.org/2000/svg"
                                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4" />
                            </svg>
                            <span style="font-weight:700;">1</span>
                            <svg onclick="incrementProduct('48284888006958')" width="15"
                                style="color:#b6b2b2;font-weight:700;cursor:pointer;" xmlns="http://www.w3.org/2000/svg"
                                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 4v16m8-8H4" />
                            </svg>
                        </div>
                    </div>
                    <div style="flex-shrink: 0; color: #666666;">
                        <svg onclick="removeProduct('48284888006958')" width="20" height="20"
                            xmlns="http://www.w3.org/2000/svg" style="cursor:pointer;" fill="none"
                            viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                        </svg>
                    </div>
                </div>
                    </div>

        
        <div class="flex flex-col items-end values-resume-content"
            style="gap:15px;padding-bottom:15px;padding-top:15px;font-weight:700;font-size:12px;color:#666666; ">
            <div class="flex justify-between value-resume"
                style="gap:25px;width:200px;">
                <span>Produtos</span>
                <span><span id='subtotal-products'>R$ 170,00</span> </span>
            </div>
            <div class="justify-between shipping-price-in-cart value-resume"
                style="gap:25px;display:none;width:200px;">
                <span>Frete</span>
                <span><span id="shipping-price-in-cart-item">R$ 0,00</span></span>
            </div>
            <div class="flex justify-between value-resume"
                style="gap:25px;width:200px;">
                <span>Descontos</span>
                <span>R$ <span id="discounts-total-products">0,00</span></span>
            </div>

                            <div class="flex justify-between total-value-resume"
                    style="gap:25px;width:200px;color: black">
                    <span>Total</span>
                    <span style="font-size:16px;"><span id='total-products'>R$
                            170,00</span></span>
                </div>
                <div class="flex justify-between element-max-installments-products"
                    style="gap:25px;display:none;width:200px;">
                    <span></span>
                    <span style="font-size:14px;color:black;text-align:right">ou em até <span
                            id="max-installments-products"></span></span>
                </div>
                    </div>
    </div>

    </div>


</div>



            </section>

    <!--- Banner ad -->
            <div
            style="gap: 5px;width:100%;background-color:var(--secondary-background); color:var(--secondary-text); font-size:14px; display:flex; flex-direction:column;justify-content:center;align-items:center;text-align:center;padding: 15px">
                            <span>
                    <p>Parabéns! Você recebeu as últimas unidades com Frete Grátis! Aproveite também o parcelamento em até 12x no Cartão de Crédito.</p>
                </span>
            
                            
                <div id="timer" class="flex rounded"
    style="width:100%;justify-content:center;flex-direction:column; align-items:center; gap:10px;font-size:13px;box-sizing:border-box;background-color:var(--secondary-background);border-radius:0px">

    

    
        <div class="flex items-center timer-container" style="font-weight:400;font-size:13px;gap:5px;color: var(--stopwatch_text_color);text-align: center;">

                                    <svg width="16" height="16" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M11 21C16.5228 21 21 16.5228 21 11C21 5.47715 16.5228 1 11 1C5.47715 1 1 5.47715 1 11C1 16.5228 5.47715 21 11 21Z"
                        stroke="var(--stopwatch_tag_text_color)" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                    <path d="M14 15L11.586 12.586C11.2109 12.211 11.0001 11.7024 11 11.172V5"
                        stroke="var(--stopwatch_tag_text_color)" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                </svg>
                    
        <span style="font-weight:400;font-size:17px">
                            Oferta termina em
                    </span>
        <span class="rounded timer-box"
            style="font-weight:700;font-size:17px;color:var(--stopwatch_tag_text_color);background-color:transparent">15:00</span>
        <span>
                            
                    </span>
    </div>

    </div>


                    </div>
    
<!--- Gradiant Detail -->
    
        
    <div id="modal-cashback-avaliable">
    <div id="modal-cashback-content" class="flex flex-col items-center justify-center">
            <div class="close-button" onclick="closeModalCashbackAvaliable()">X</div>
            <div id="modal-cashback-emoji">🤑</div>

            <p id="cashback_default">Você tem um saldo em cashback de R$<p id="cashback-amount"></p></p>
            <button id="apply-cashback-button" onclick="applyCashback()"  class="btn-default">Utilizar Cashback</button>
            <p class="refuse-offer" onclick="closeModalCashbackAvaliable()">
                Não quero usar cashback
            </p>
    </div>
</div>



    
    <div id="modal-autofill-container" class="justify-center align-center">
    <div id="modal-autofill" class="flex flex-col justify-start w-full align-start section-container">
        <p id="modal-autofill-name">Oi Tio</p>
        <p class="modal-autofill-description">
            Identificamos seus dados a partir de compras anteriores.
            <br>
            <br>
            Use o código enviado por SMS para
            <strong id="modal-autofill-description-number"></strong> para preencher seus dados mais rápido.
        </p>
        <div id="modal-autofill-code-container" class="flex justify-center w-full align-center">
            <input type="number" maxlength="1" min="0" max="9">
            <input type="number" maxlength="1" min="0" max="9">
            <input type="number" maxlength="1" min="0" max="9">
            <input type="number" maxlength="1" min="0" max="9">
            <input type="number" maxlength="1" min="0" max="9">
            <input type="number" maxlength="1" min="0" max="9">
        </div>
        <button id="modal-autofill-send-code-btn" class="flex justify-center w-full align-center"
            onclick="resendToken()">
            <svg width="14" height="10" viewBox="0 0 14 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M5.66658 4.33332H3.73392L3.73459 4.32732C3.82163 3.90108 3.992 3.49622 4.23592 3.13599C4.59889 2.6012 5.10802 2.1821 5.70258 1.92866C5.90392 1.84332 6.11392 1.77799 6.32792 1.73466C6.77185 1.64465 7.22932 1.64465 7.67325 1.73466C8.31123 1.86539 8.89665 2.18093 9.35658 2.64199L10.3006 1.70066C9.87513 1.27508 9.37175 0.935352 8.81792 0.699991C8.53546 0.58041 8.24179 0.489293 7.94125 0.427991C7.32114 0.301998 6.68203 0.301998 6.06192 0.427991C5.76115 0.489547 5.46726 0.580886 5.18459 0.700657C4.3516 1.05406 3.63854 1.64072 3.13125 2.38999C2.78984 2.89523 2.55109 3.46265 2.42859 4.05999C2.40992 4.14999 2.39992 4.24199 2.38658 4.33332H0.333252L2.99992 6.99999L5.66658 4.33332ZM8.33325 5.66666H10.2659L10.2653 5.67199C10.0911 6.5265 9.5874 7.27805 8.86325 7.76399C8.50313 8.00811 8.09823 8.17849 7.67192 8.26532C7.22821 8.35533 6.77096 8.35533 6.32725 8.26532C5.90101 8.17828 5.49615 8.0079 5.13592 7.76399C4.959 7.64432 4.79382 7.50816 4.64258 7.35732L3.69992 8.29999C4.12559 8.72545 4.6292 9.06496 5.18325 9.29999C5.46592 9.41999 5.76125 9.51132 6.05992 9.57199C6.6798 9.69806 7.31871 9.69806 7.93858 9.57199C9.13361 9.32396 10.1848 8.6196 10.8686 7.60866C11.2097 7.1038 11.4482 6.53684 11.5706 5.93999C11.5886 5.84999 11.5993 5.75799 11.6126 5.66666H13.6666L10.9999 2.99999L8.33325 5.66666Z"
                    fill="#666666" />
            </svg>
            <div class="modal-autofill-send-code-btn-text">reenviar código</div>
        </button>
        <div id="modal-autofill-btns-container" class="flex flex-col justify-center w-full align-center">
            <button id="modal-autofill-validate-btn" class="w-full" onclick="validateToken()">Continuar →</button>
            <button id="modal-autofill-close-btn" class="w-full" onclick="closeModalAutofill()">Prefiro preencher meus
                dados</button>
        </div>
    </div>
</div>









    
    <div id="yupi-resume-cart-mobile"
    class="w-full flex align-center justify-center p-4 ">
    <div id="yupi-resume-cart-mobile-container" class="flex flex-col justify-center w-full align-center">
        <div id="yupi-resume-cart-mobile-header" class="flex flex-row justify-around w-full align-center"
            onclick="toogleResumeCartYupiMobile()">
            <div class="flex flex-col justify-around w-full align-start">
                <span id="yupi-resume-cart-mobile-title">1</span>
                <small id="yupi-resume-cart-mobile-subtitle">Informações da sua compra</small>
            </div>
            <div class="flex flex-row justify-center align-start">
                <span id="yupi-resume-cart-mobile-total-price">170</span>
                <i id="yupi-resume-cart-mobile-arrow-img"> </i>
            </div>

        </div>
        <div id="yupi-resume-cart-mobile-content-container" class="flex flex-col justify-center w-full align-center">
            <div id="resume-cart-mobile-content" class="flex flex-col justify-start">
    <div id="resume-cart-container" class="flex flex-col" style="gap: 5px">

                                    <h3 style="font-weight:700;font-size:17px;color:#666666;margin-bottom:15px !important;">RESUMO</h3>
                    
        <div id="content-list-products" class="flex flex-col" style="gap: 5px">
                            <div class="flex list-products" id="product-item-48284888006958"
                    data-orderbump-id=""
                    style="gap:15px;border-bottom:1px solid #eee;padding-bottom:15px;padding-top:15px;">

                                                                                                                                        <div style="flex-shrink: 0"><img class="rounded cart-product-image" src="https://cdn.shopify.com/s/files/1/0853/6221/3166/files/3524734-icone-da-linha-de-compra-segura-com-bolsa-e-escudo-vetor_60x60.jpg"
                            alt="Kit 12 Panelas Inox Tramontina® + Brinde Kit de utensílios" width="60" height="60" /></div>
                    <div class="flex flex-col product-info-container"
                        style="flex-grow:1; gap:5px;font-weight:400;font-size:13px;color:#666666;width:100%">
                        <span class="flex justify-between">
                            <span class="cart-product-title"
                                style="word-break: break-word">Kit 12 Panelas Inox Tramontina® + Brinde Kit de utensílios</span>
                        </span>
                        <small class="cart-product-variant-title"
                            style="word-break: break-word;"></small>

                        
                        <span class="flex price-and-scarcity-container align-center">
                            <span id="price-unit-product">
                                R$170,00</span>
                        </span>

                                                    <span id="scarcity-message-tag-cart">
                                Restam apenas 7 unidades
                            </span>
                        
                        <div id="lineItem_48284888006958"
                            class="flex items-center justify-between rounded line-item-container"
                            style="border:1px solid #e7e7e7;padding:5px;width:100px;margin-top:10px; background-color: #F5F5F5; border-radius: var(--btn-radius)">
                            <svg onclick="decrementProduct('48284888006958')" width="15"
                                style="color:#b6b2b2;font-weight:700;cursor:pointer;" xmlns="http://www.w3.org/2000/svg"
                                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4" />
                            </svg>
                            <span style="font-weight:700;">1</span>
                            <svg onclick="incrementProduct('48284888006958')" width="15"
                                style="color:#b6b2b2;font-weight:700;cursor:pointer;" xmlns="http://www.w3.org/2000/svg"
                                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 4v16m8-8H4" />
                            </svg>
                        </div>
                    </div>
                    <div style="flex-shrink: 0; color: #666666;">
                        <svg onclick="removeProduct('48284888006958')" width="20" height="20"
                            xmlns="http://www.w3.org/2000/svg" style="cursor:pointer;" fill="none"
                            viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                        </svg>
                    </div>
                </div>
                    </div>

        
        <div class="flex flex-col items-end values-resume-content"
            style="gap:15px;padding-bottom:15px;padding-top:15px;font-weight:700;font-size:12px;color:#666666; background-color: #F4F6F8; padding: 18px; align-items: center">
            <div class="flex justify-between value-resume"
                style="gap:25px;width:100%;">
                <span>Produtos</span>
                <span><span id='subtotal-products'>R$ 170,00</span> </span>
            </div>
            <div class="justify-between shipping-price-in-cart value-resume"
                style="gap:25px;display:none;width:100%;">
                <span>Frete</span>
                <span><span id="shipping-price-in-cart-item">R$ 0,00</span></span>
            </div>
            <div class="flex justify-between value-resume"
                style="gap:25px;width:100%;">
                <span>Descontos</span>
                <span>R$ <span id="discounts-total-products">0,00</span></span>
            </div>

                            <div class="flex justify-between total-value-resume"
                    style="gap:25px;width:100%;color: black">
                    <span>Total</span>
                    <span style="font-size:16px;"><span id='total-products'>R$
                            170,00</span></span>
                </div>
                <div class="flex justify-between element-max-installments-products"
                    style="gap:25px;display:none;width:100%;">
                    <span></span>
                    <span style="font-size:14px;color:black;text-align:right">ou em até <span
                            id="max-installments-products"></span></span>
                </div>
                    </div>
    </div>

    </div>


        </div>
    </div>
</div>









    
    <div class="flex justify-center w-full align-center">

        
        <div id="content" class="flex flex-row justify-center gap-4 p-4 container-lg">

            
            <input type="hidden" name="_token" value="LvRKokYB2dwncCNGx2JgUsAhdvQrnC8CVtdAosy1" autocomplete="off">            <div id="sections-content" class="flex flex-row justify-start gap-4 w-md-full align-start">
                <div class="flex flex-col justify-start gap-4 w-md-full align-start">
                    
                    <div class="p-5 bg-white w-md-full col step1-checkout section-container">
                        
                        <div id="personal-data">
    <div class="flex flex-col personal-data-container" style="gap:5px;">
        <div id="personal-data-header" class="flex items-start justify-start" style="gap:5px;">
                            <span class="section-title-img"
                    style="background-color: #666666; margin-right: 10px; min-width: 21px; width: 21px; min-height: 21px; height: 21px; display: flex; align-content: center; justify-content: center; align-items: center; border-radius: 21px; color: white;">1</span>
                        <div class="flex flex-col" style="color:#666666;">
                <span class="section-title" style="font-size:14px;font-weight:700;">
                                            IDENTIFIQUE-SE
                                    </span>
                <span style="font-size:13px;font-weight:400;">Utilizaremos seu e-mail para: Identificar seu perfil, histórico de compra, notificação de pedidos e carrinho de compras.</span>
            </div>
            <img id="icon-edit-personal-data" width="28" height="20"
                src="https://cdn.adoorei.com/images/edit.svg" style="margin-left: auto; display: none;">
        </div>

        
        <div id="personal-data-inputs">
            <div class="flex flex-col form-group">
                <label>E-mail</label>
                <div class='input-container'>
                    <input oninput="this.value = this.value.toLowerCase()" email="yes"
                        required placeholder="Ex.: seu.e-mail@gmail.com" name="email" class="input-default custom-input"
                        value="" type="email" autocomplete="new-password" />
                                        </div>
                <span name="email_label_error" class="label-error">Error</span>
            </div>

            <div class="flex flex-col form-group">
                <label>Nome Completo</label>
                <div class='input-container'>
                    <input fullname="yes" required minlength='2' oninput="mascara(this, nome)"
                        value="" placeholder="Informe seu nome completo" name="first_name"
                        class="input-default custom-input" type="text" autocomplete="new-password" />
                                    </div>
                <span name="first_name_label_error" class="label-error">Error</span>
            </div>

            <div class="flex flex-col form-group">
                <label>CPF</label>
                <div class='input-container'>
                    <input cpf="yes" required autocomplete="new-password" minlength='14' maxlength='14'
                        oninput="mascara(this, cpf)" value="" name="doc"
                        placeholder="000.000.000-00"  class="input-default custom-input" type="tel" />
                                        </div>
                <span name="doc_label_error" class="label-error">Error</span>
            </div>

            <div class="flex flex-col form-group">
                                    <label>Celular/WhatsApp</label>
                
                <div class='input-container input-phone-container'>
                                            <span class="yupi-prefix-phone">+55</span>
                                        <input required minlength='15' maxlength='15' oninput="mascara(this, telefone)" name="phone"
                        placeholder="(00) 00000-0000"  value="" class="input-default custom-input" type="tel"
                        autocomplete="new-password" />
                                    </div>
                <span name="phone_label_error" class="label-error">Error</span>
            </div>

            
            
            <div class="form-group">
                <label class="flex" style="gap: 5px">
                    <input id="opt_in" class="input-default" name="opt_in" type="checkbox" checked>
                    <div>
                        Salvar meus dados para <strong>comprar mais rápido</strong>
                    </div>
                </label>
            </div>
        </div>

        <div id="step1-summary-container" style="padding: 1rem; display: none"></div>
    </div>
</div>








                    </div>

                    
                    <div class="p-5 bg-white w-md-full col step2-checkout section-container">
                        
                        <div id="delivery-address">
    <div class="flex flex-col delivery-address-container" style="gap:5px;">
        <div class="flex items-start justify-start delivery-address-title" style="gap:10px;">
                                                <span class="section-title-img"
                        style="background-color: #666666; margin-right: 10px; min-width: 21px; width: 21px; min-height: 21px; height: 21px; display: flex; align-content: center; justify-content: center; align-items: center; border-radius: 21px; color: white;">2</span>
                                <div class="flex flex-col" style="color:#666666;">
                    <span class="section-title" style="font-size:14px;font-weight:700;">ENDEREÇO DE ENTREGA</span>
                    <span style="font-size:13px;font-weight:400; display:none" id="label-next-step-postal-code">Agora
                        precisamos do seu endereço para entrega. </span>
                    <span id="label-next-step-postal-code-hidden"> Para calcular o
                        frete é necessário preencher todos os campos acima. </span>
                </div>
                <img id="icon-edit-delivery-address" width="28" height="20"
                    src="https://cdn.adoorei.com/images/edit.svg" style="margin-left: auto; display: none;">
                    </div>

        <div id="delivery-address-inputs">
            <div class="flex flex-col form-group" id="show-cep">
                <label>CEP</label>
                <div class='input-container'>
                    <input oninput="mascara(this, cep)" cep required minlength="9" maxlength="9" name="postal_code"
                        value="" placeholder="00000-000" class="input-default" type="tel" autocomplete="off" style=""/>
                                    </div>
                <span name="postal_code_label_error" class="label-error">Error</span>
                <span style="font-size:13px;font-weight:400;color:#666666;margin-top:10px;"
                    id="hidden-zipcode-after-valid">
                    Preencha suas informações de entrega para continuar.
                </span>
            </div>

            <div id="delivery-address-next">
                <div class="flex flex-col form-group">
                    <label>Endereço</label>
                    <div class='input-container'>
                        <input required minlength="5" maxlength="50" placeholder="Informe seu endereço sem número"
                            name="address_line_1" class="input-default" type="text" autocomplete="new-password" />
                                            </div>
                    <span name="address_line_1_label_error" class="label-error">Error</span>
                </div>
                <div class="flex" style="gap:5px; align-items: start;">
                    <div class="flex flex-col form-group" style="width:40%;">
                        <label>Número</label>
                        <div class='input-container'>
                            <input required maxlength="9" name="address_number" placeholder="S/N"
                                class="input-default" type="text" autocomplete="off" />
                                                    </div>
                        <span name="address_number_label_error" class="label-error">Error</span>
                    </div>
                    <div class="flex flex-col form-group" style="width:60%;">
                        <label>Complemento</label>
                        <div class='input-container'>
                            <input placeholder="Apartamento, casa, loja.." name="address_line_2" maxlength="50"
                                class="input-default" type="text" autocomplete="off" />
                                                    </div>
                        <span class="label-error">Error</span>
                    </div>
                </div>

                <div class="flex flex-col form-group">
                    <label>Bairro</label>
                    <div class='input-container'>
                        <input required minlength="3" maxlength="50" placeholder="Informe seu bairro"
                            name="address_neighborhood" class="input-default" type="text" autocomplete="new-password" />
                                            </div>
                    <span name="address_neighborhood_label_error" class="label-error">Error</span>
                </div>

                <div class="flex" style="gap:5px; align-items: start;">
                    <div class="flex flex-col form-group" style="width:50%;">
                        <label>Estado</label>
                        <div class='input-container'>
                            <select required class="input-default input-default-select" name="state" type="text"
                                autocomplete="off">
                                <option value="">- Selecione</option>
                                <option value="AC">Acre</option>
                                <option value="AL">Alagoas</option>
                                <option value="AP">Amapá</option>
                                <option value="AM">Amazonas</option>
                                <option value="BA">Bahia</option>
                                <option value="CE">Ceará</option>
                                <option value="DF">Distrito Federal</option>
                                <option value="ES">Espírito Santo</option>
                                <option value="GO">Goiás</option>
                                <option value="MA">Maranhão</option>
                                <option value="MT">Mato Grosso</option>
                                <option value="MS">Mato Grosso do Sul</option>
                                <option value="MG">Minas Gerais</option>
                                <option value="PA">Pará</option>
                                <option value="PB">Paraíba</option>
                                <option value="PR">Paraná</option>
                                <option value="PE">Pernambuco</option>
                                <option value="PI">Piauí</option>
                                <option value="RJ">Rio de Janeiro</option>
                                <option value="RN">Rio Grande do Norte</option>
                                <option value="RS">Rio Grande do Sul</option>
                                <option value="RO">Rondônia</option>
                                <option value="RR">Roraima</option>
                                <option value="SC">Santa Catarina</option>
                                <option value="SP">São Paulo</option>
                                <option value="SE">Sergipe</option>
                                <option value="TO">Tocantins</option>
                            </select>
                                                    </div>
                        <span name="state_label_error" class="label-error">Error</span>
                    </div>
                    <div class="flex flex-col form-group" style="width:50%;">
                        <label>Cidade</label>
                        <div class='input-container'>
                            <input maxlength="50" required class="input-default" name="city" type="text"
                                autocomplete="off" style="height: 3.47rem" />
                                                    </div>
                        <span name="city_label_error" class="label-error">Error</span>
                    </div>
                </div>
            </div>
        </div>
        <div id="step2-summary-container" style="padding: 1rem; display: none"></div>

    </div>
</div>









                        
                        <div id="shipping-methods" class="yupi-style">
<div class="flex flex-col shipping-methods-container" style="gap:5px;">
                    <div class="flex" style="gap:10px;">
                <div class="flex flex-col" style="color:#666666;">
                    <span
                        style="font-size:13px;">
                                                    Escolha uma forma de entrega:
                                            </span>
                </div>
            </div>
        
        
        <div id="shippings" class="flex flex-col">
        </div>
    </div>
</div>





                    </div>
                </div>

                
                <div class="p-5 bg-white w-md-full col step3-checkout section-container">
                    
                    <div id="payment-methods">
    <div class="flex flex-col" style="gap:20px;">
        <div class="flex items-start justify-start payment-methods-title" style="gap:10px;">
                                                <span
                        style="background-color: #666666; margin-right: 10px; min-width: 21px; width: 21px; min-height: 21px; height: 21px; display: flex; align-content: center; justify-content: center; align-items: center; border-radius: 21px; color: white;">3</span>
                                <div class="flex flex-col" style="color:#666666;">
                    <span class="section-title" style="font-size:14px;font-weight:700;">FORMAS DE PAGAMENTO</span>
                    <span id="label-next-step-payment" style="font-size:13px;font-weight:400;">Para finalizar seu pedido
                        escolha uma forma de pagamento
                    </span>
                </div>
                    </div>
        <div id="payment_box_methods_container" style="width: 100%" class="flex flex-col">
            <!-- Cartão de crédito -->
                            <div>
                    <div>
    <div id="credit_card_dompagamentos-box-credit" data-payment-method = "card-credit" data-skip-interest="1" data-additional-interest-rate="4.20" data-payment-code="credit_card_dompagamentos" class="flex flex-col items-center rounded form-group box-payment" style="border:1px solid #d0d0d0;padding:20px;">
         <div class="flex flex-row items-center" onclick="setPaymentMethod('credit_card_dompagamentos')" style="width:100%;cursor:pointer;">
            <span style="width:10%;">
                <div id="credit_card_dompagamentos_radio" class='radios-payment-methods' style="min-width: 20px; min-height: 20px; width:20px; height:20px; border-radius:100%; border: 1px solid #bbb; background-color: #eee;" class="custom-radio-active">
                </div>
            </span>

            <span class="label-box-methods-payment" style="width:40%;white-space:nowrap;">
                    
                    <b>CARTÃO DE CRÉDITO</b>
 
            </span>

                            <span style="width:50%;font-size:8px;" class="flex justify-end">
                    <span class="rounded" style="background-color:var(--immediate_approval_tag_background_color);padding:5px;color:var(--immediate_approval_tag_text_color);font-size: 10px;">Aprovação Imediata</span>
                </span>
                    </div>

            <form id="container-payment-credit_card_dompagamentos" data-extra-data = "[]" class="flex flex-col content_payment_method" style="gap:20px;margin-top:20px;width:100%;display:none;">
                
                
                <div class="flex items-center accept-cards-img" style="gap:5px;">
                    <img width="230" height="26" src="https://cdn.adoorei.com/images/cards.svg" />
                </div>

                    <div class="flex flex-col form-group--small">
                        <label>Nome igual consta em seu cartão</label>
                        <div class='input-container'>
                            <input style = "text-transform:uppercase" name="card_name" maxlength="50" required class="input-default"  type="text" autocomplete="off" />
                                                    </div>
                        <span name="card_name_label_error" class="label-error">Error</span>
                    </div>

                    <div class="flex flex-col form-group--small">
                        <label>CPF</label>
                        <div class='input-container'>
                            <input cpf="yes" name="card_doc" oninput="mascara(this, cpf)" placeholder="000.000.000-00" minlength="14" maxlength="14" required class="input-default" type="tel" autocomplete="off" />
                                                    </div>
                        <span name="card_doc_label_error" class="label-error">Error</span>
                    </div>

                    <div class="flex flex-col form-group--small">
                        <label>Número do Cartão</label>
                        <div class='input-container'>
                            <input
                                name="card_number"
                                oninput="mascara(this, card)" 
                                required
                                minlength="15"
                                maxlength="19"
                                cardnumber="yes"
                                id="card-input"
                                style="background-image:url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTYgNkM0LjkzOTEzIDYgMy45MjE3MiA2LjQyMTQzIDMuMTcxNTcgNy4xNzE1N0MyLjQyMTQzIDcuOTIxNzIgMiA4LjkzOTEzIDIgMTBWMTJIMzBWMTBDMzAgOC45MzkxMyAyOS41Nzg2IDcuOTIxNzIgMjguODI4NCA3LjE3MTU3QzI4LjA3ODMgNi40MjE0MyAyNy4wNjA5IDYgMjYgNkg2WiIgZmlsbD0iI0I1QjVCNSIvPgo8cGF0aCBkPSJNMiAyMlYxNEgzMFYyMkMzMCAyMy4wNjA5IDI5LjU3ODYgMjQuMDc4MyAyOC44Mjg0IDI0LjgyODRDMjguMDc4MyAyNS41Nzg2IDI3LjA2MDkgMjYgMjYgMjZINkM0LjkzOTEzIDI2IDMuOTIxNzIgMjUuNTc4NiAzLjE3MTU3IDI0LjgyODRDMi40MjE0MyAyNC4wNzgzIDIgMjMuMDYwOSAyIDIyWk0yMSAyMEMyMC43MzQ4IDIwIDIwLjQ4MDQgMjAuMTA1NCAyMC4yOTI5IDIwLjI5MjlDMjAuMTA1NCAyMC40ODA0IDIwIDIwLjczNDggMjAgMjFDMjAgMjEuMjY1MiAyMC4xMDU0IDIxLjUxOTYgMjAuMjkyOSAyMS43MDcxQzIwLjQ4MDQgMjEuODk0NiAyMC43MzQ4IDIyIDIxIDIySDI1QzI1LjI2NTIgMjIgMjUuNTE5NiAyMS44OTQ2IDI1LjcwNzEgMjEuNzA3MUMyNS44OTQ2IDIxLjUxOTYgMjYgMjEuMjY1MiAyNiAyMUMyNiAyMC43MzQ4IDI1Ljg5NDYgMjAuNDgwNCAyNS43MDcxIDIwLjI5MjlDMjUuNTE5NiAyMC4xMDU0IDI1LjI2NTIgMjAgMjUgMjBIMjFaIiBmaWxsPSIjQjVCNUI1Ii8+Cjwvc3ZnPgo=');background-repeat: no-repeat;background-position: right 10px center;padding-right: 35px;background-size: 35px 23px;"
                                placeholder="0000 0000 0000 0000" class="input-default" type="tel" autocomplete="off" />
                                                        </div>
                        <span name="card_number_label_error" class="label-error">Error</span>
                    </div>

                    <div class="flex date-and-cvv-container" style="gap:5px;">
                                                    <div class="flex flex-col form-group--small" style="width:32%;">
                                <label style="white-space:nowrap;">Validade (Mês/Ano):</label>
                                <div class='input-container'>
                                    <select name="card_month" validateMonth class="input-default input-default-select" required type="text" autocomplete="off">
                                                                                    <option selected disabled value="">Mês</option>
                                                                                <option value="01">01</option>
                                        <option value="02">02</option>
                                        <option value="03">03</option>
                                        <option value="04">04</option>
                                        <option value="05">05</option>
                                        <option value="06">06</option>
                                        <option value="07">07</option>
                                        <option value="08">08</option>
                                        <option value="09">09</option>
                                        <option value="10">10</option>
                                        <option value="11">11</option>
                                        <option value="12">12</option>
                                    </select>
                                                                    </div>
                                <span name="card_month_label_error" class="label-error">Error</span>
                            </div>
                            <div class="flex flex-col form-group--small" style="width:39%;">
                                <label>.</label>
                                <div class='input-container'>
                                    <select name="card_year" validateYear class="input-default input-default-select" required type="text" autocomplete="off"> 
                                                                                    <option selected disabled value="">Ano</option>
                                                                                <option value="2024">2024</option>
                                        <option value="2025">2025</option>
                                        <option value="2026">2026</option>
                                        <option value="2027">2027</option>
                                        <option value="2028">2028</option>
                                        <option value="2029">2029</option>
                                        <option value="2030">2030</option>
                                        <option value="2031">2031</option>
                                        <option value="2032">2032</option>
                                        <option value="2033">2033</option>
                                        <option value="2034">2034</option>
                                        <option value="2035">2035</option>
                                        <option value="2036">2036</option>
                                        <option value="2037">2037</option>
                                        <option value="2038">2038</option>
                                        <option value="2039">2039</option>
                                        <option value="2040">2040</option>
                                        <option value="2041">2041</option>
                                        <option value="2042">2042</option>
                                        <option value="2043">2043</option>
                                    </select>
                                                                    </div>
                                <span name="card_year_label_error" class="label-error">Error</span>
                            </div>
                        
                        <div class="flex flex-col form-group--small" style="width:28%;" >
                            <label>CVV:</label>
                            <div class='input-container'>
                                <input oninput="mascara(this, soNumeros)" style="height: 3.47rem" name="cvv" class="input-default" type="tel" required minlength="3" maxlength="4" autocomplete="off"/>
                                                            </div>
                            <span name="cvv_label_error" class="label-error">Error</span>
                        </div>
                    </div>

                    <div class="flex flex-col form-group--small">
                        <label>Parcelas</label>
                        <div class='input-container'>
                            <select name="card_installments" class="input-default input-default-select" type="text" required autocomplete="off"></select>
                                                    </div>
                        <!-- <div class = "installments-details" style = "font-size: .7rem;font-weight:400;color:#666666;margin-top:5px;min-height: 2rem;">
                            Preencha os dados do cartão para selecionar as parcelas.
                        </div> -->
                        <span name="card_installments_label_error" class="label-error">Error</span>
                    </div>

                    
                    
                    <div class="flex flex-col form-group--small">
                        <button 
                            id="general-submit-button" 
                            type="button" 
                            style="font-size:16px; background-color:var(--checkout-background);color:var(--checkout-text); padding-top: 1.3rem; padding-bottom: 1.3rem;" 
                            class="
                                btn-default
                                
                                
                            "
                        >
                            <b>PAGAR</b>
                        </button>
                    </div>

             </form>

    </div>

</div>









                </div>
            
            <!-- Pix -->
                            <div>
                    <div>
    <div id="pix_dompagamentos-box-pix" data-payment-method="pix" data-payment-code="pix_dompagamentos"
        class="flex flex-col items-center rounded form-group box-payment" style="border:1px solid #d0d0d0;padding:20px;">
        <div class="flex flex-row items-center" onclick="setPaymentMethodPix('pix_dompagamentos')"
            style="width:100%;cursor:pointer;">
            <!-- <div class="flex flex-row items-center" onclick="setPaymentMethodPix('pix_dompagamentos')" style="width:100%;cursor:pointer;"> -->
            <span style="width:10%;">
                <div id="pix_dompagamentos_radio" class='radios-payment-methods'
                    style="
                            min-width: 20px;
                            min-height: 20px;
                            width:20px;
                            height:20px;
                            border-radius:100%;
                            border: 1px solid #bbb;
                            background-color: #eee;"
                    class="custom-radio-active">
                </div>
            </span>

            <span class="label-box-methods-payment input-pix" style="width:40%;white-space:nowrap;">
                
                <b>PIX</b>

            </span>

                            <span style="width:50%;font-size:8px;" class="flex justify-end">
                    <span class="rounded"
                        style="background-color:var(--immediate_approval_tag_background_color);padding:5px;color:var(--immediate_approval_tag_text_color);font-size: 10px;">Aprovação
                        Imediata</span>
                </span>
                    </div>
        <div id="container-payment-pix_dompagamentos" class="flex flex-col content_payment_method"
            style="gap:20px;margin-top:20px;width:100%;display:none;">

            <p style="font-size:14px;">
                <b>Atente-se aos detalhes:</b> <br> Pagamentos via pix são confirmados imediatamente. Você não precisa
                ter uma chave pix para efetuar o pagamento, basta ter o app do seu banco em seu celular.
            </p>

            
            
            <div class="flex flex-col form-group">
                <button id="general-submit-button"
                    style="font-size:16px; background-color:var(--checkout-background);color:var(--checkout-text);padding-top: 1.3rem; padding-bottom: 1.3rem;"
                    class="
                        btn-default
                        
                        
                    "><b>PAGAR</b></button>
            </div>
        </div>
    </div>
</div>








                </div>
            
            <!-- Cartão de débito -->
            
            <!-- Boleto -->
                    </div>


    </div>
</div>




                </div>
            </div>

            <div id="resume-social-proof-container" class="flex flex-col items-center w-md-full" style="gap: 10px">
                
                <div id="resume-cart" class="flex flex-col items-center">

                
    
    
    <div class="bg-white cart-section-container"
        style="">
        <div id="resume-cart-mobile-content" class="flex flex-col justify-start">
    <div id="resume-cart-container" class="flex flex-col" style="gap: 5px">

                                    <h3 style="font-weight:700;font-size:17px;color:#666666;margin-bottom:15px !important;">RESUMO</h3>
                    
        <div id="content-list-products" class="flex flex-col" style="gap: 5px">
                            <div class="flex list-products" id="product-item-48284888006958"
                    data-orderbump-id=""
                    style="gap:15px;border-bottom:1px solid #eee;padding-bottom:15px;padding-top:15px;">

                                                                                                                                        <div style="flex-shrink: 0"><img class="rounded cart-product-image" src="https://cdn.shopify.com/s/files/1/0853/6221/3166/files/3524734-icone-da-linha-de-compra-segura-com-bolsa-e-escudo-vetor_60x60.jpg"
                            alt="Kit 12 Panelas Inox Tramontina® + Brinde Kit de utensílios" width="60" height="60" /></div>
                    <div class="flex flex-col product-info-container"
                        style="flex-grow:1; gap:5px;font-weight:400;font-size:13px;color:#666666;width:100%">
                        <span class="flex justify-between">
                            <span class="cart-product-title"
                                style="word-break: break-word">Kit 12 Panelas Inox Tramontina® + Brinde Kit de utensílios</span>
                        </span>
                        <small class="cart-product-variant-title"
                            style="word-break: break-word;"></small>

                        
                        <span class="flex price-and-scarcity-container align-center">
                            <span id="price-unit-product">
                                R$170,00</span>
                        </span>

                                                    <span id="scarcity-message-tag-cart">
                                Restam apenas 6 unidades
                            </span>
                        
                        <div id="lineItem_48284888006958"
                            class="flex items-center justify-between rounded line-item-container"
                            style="border:1px solid #e7e7e7;padding:5px;width:100px;margin-top:10px; background-color: #F5F5F5; border-radius: var(--btn-radius)">
                            <svg onclick="decrementProduct('48284888006958')" width="15"
                                style="color:#b6b2b2;font-weight:700;cursor:pointer;" xmlns="http://www.w3.org/2000/svg"
                                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4" />
                            </svg>
                            <span style="font-weight:700;">1</span>
                            <svg onclick="incrementProduct('48284888006958')" width="15"
                                style="color:#b6b2b2;font-weight:700;cursor:pointer;" xmlns="http://www.w3.org/2000/svg"
                                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 4v16m8-8H4" />
                            </svg>
                        </div>
                    </div>
                    <div style="flex-shrink: 0; color: #666666;">
                        <svg onclick="removeProduct('48284888006958')" width="20" height="20"
                            xmlns="http://www.w3.org/2000/svg" style="cursor:pointer;" fill="none"
                            viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                        </svg>
                    </div>
                </div>
                    </div>

        
        <div class="flex flex-col items-end values-resume-content"
            style="gap:15px;padding-bottom:15px;padding-top:15px;font-weight:700;font-size:12px;color:#666666; background-color: #F4F6F8; padding: 18px; align-items: center">
            <div class="flex justify-between value-resume"
                style="gap:25px;width:100%;">
                <span>Produtos</span>
                <span><span id='subtotal-products'>R$ 170,00</span> </span>
            </div>
            <div class="justify-between shipping-price-in-cart value-resume"
                style="gap:25px;display:none;width:100%;">
                <span>Frete</span>
                <span><span id="shipping-price-in-cart-item">R$ 0,00</span></span>
            </div>
            <div class="flex justify-between value-resume"
                style="gap:25px;width:100%;">
                <span>Descontos</span>
                <span>R$ <span id="discounts-total-products">0,00</span></span>
            </div>

                            <div class="flex justify-between total-value-resume"
                    style="gap:25px;width:100%;color: black">
                    <span>Total</span>
                    <span style="font-size:16px;"><span id='total-products'>R$
                            170,00</span></span>
                </div>
                <div class="flex justify-between element-max-installments-products"
                    style="gap:25px;display:none;width:100%;">
                    <span></span>
                    <span style="font-size:14px;color:black;text-align:right">ou em até <span
                            id="max-installments-products"></span></span>
                </div>
                    </div>
    </div>

    </div>


    </div>
    
                </div>





                
                            </div>
        </div>
    </div>

    
    <div id="bar-bottom-error"
        style="display:none;align-items:center;justify-content:space-between;width:100%;background-color:#ff4d4d;position:fixed;bottom:0;color:white;padding:10px 30px;gap:20px;z-index:1000;">
        <svg style="width:30px;min-width:30px;" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none"
            viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        <span id="bar-bottom-error-content" style="font-size:12px;"></span>
        <svg onclick="barBottomErrorClose()" style="width:20px;min-width:20px;cursor:pointer;"
            xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
    </div>
        
    <section id="footer"
    style="display:flex;justify-content:center;flex-direction:column; align-items:center; gap:10px;color:#666666;font-size:13px;padding: 30px 0px 60px;margin-top:20px;">

            <div class="flex justify-center p-4 footer_hr_container align-center container-lg w-md-full">
            <hr class="w-full" />
        </div>
    
    <!-- SHOW PAYMENT METHODS -->
            <div class="flex flex-col justify-center align-center">
            <span id="payment_methods_footer_label" style="text-align: center">Formas de pagamento</span>
            <div id="payment_methods_footer_img">
                <img width="45" src="https://cdn.adoorei.com/images/icons/card-mastercard.svg" />
                <img width="45" src="https://cdn.adoorei.com/images/icons/card-visa.svg" />
                <img width="45" src="https://cdn.adoorei.com/images/icons/card-elo.svg" />
                <img width="45" src="https://cdn.adoorei.com/images/icons/card-amex.svg" />
                <img width="45" src="https://cdn.adoorei.com/images/icons/card-diners.svg" />
                <img width="45" src="https://cdn.adoorei.com/images/icons/card-discover.svg" />
                <img width="45" src="https://cdn.adoorei.com/images/icons/card-aura.svg" />
                <img width="45" src="https://cdn.adoorei.com/images/icons/card-hipercard.svg" />
                <img width="45" src="https://cdn.adoorei.com/images/icons/card-pix.svg" />
                <img width="45" src="https://cdn.adoorei.com/images/icons/card-billet.svg" />
            </div>
        </div>
    
    <div class="flex flex-row justify-center align-center">
        <!-- SHOW SHOP NAME -->
        
        <!-- SEPARATOR IF HAVE BOTH -->
        
        <!-- SHOW DOC -->
            </div>

    <!-- SHOW ADDRESS -->
    
    <div id='footer-container-email-whatsapp' class="flex flex-row justify-center align-center">
        <!-- SHOW EMAIL -->
        
        <!-- SEPARATOR IF HAVE BOTH -->
        
        <!-- SHOW WHATS -->
            </div>

    <div class="flex flex-row justify-center align-center">
        <!-- SHOW TERMS -->
        
        <!-- SEPARATOR IF HAVE BOTH -->
        
        <!-- SHOW RETURN POLICY -->
        
        <!-- SEPARATOR IF HAVE BOTH -->
        
        <!-- SHOW PRIVACY POLICY -->
            </div>
</section>





    
    <script>
    window.Adoorei = {};
    window.Adoorei.data = {};

    window.Adoorei.data.melhor_envio_enabled = '';
        
    window.Adoorei.data.cart_token = '635f1455-db8c-4c02-a2f7-a56107df4702';
    window.Adoorei.data.is_mobile = Boolean();
    window.Adoorei.data.timer_enabled = Boolean(1);
    window.Adoorei.data.cart_items = [{"id":"48284888006958","image":"https:\/\/cdn.shopify.com\/s\/files\/1\/0853\/6221\/3166\/files\/3524734-icone-da-linha-de-compra-segura-com-bolsa-e-escudo-vetor.jpg?v=1711835579","price":17000,"title":"Kit 12 Panelas Inox Tramontina\u00ae + Brinde Kit de utens\u00edlios","quantity":1,"line_price":17000,"product_id":"9151797592366","variant_id":"48284888006958","final_price":17000,"product_title":"Kit 12 Panelas Inox Tramontina\u00ae + Brinde Kit de utens\u00edlios","variant_title":"Default Title","original_price":17000,"total_discount":0,"discounted_price":17000,"final_line_price":17000,"original_line_price":17000}];
    window.Adoorei.data.shipping_methods = [{"id":9865,"title":"Correios","price":0,"min_deadline":15,"max_deadline":30,"shop_id":7714,"order_min_value":0,"enabled":1,"deadline":"15 a 30 dias","formatted_price":"R$ 0,00","formatted_order_min_value":"R$ 0,00"}];
    window.Adoorei.data.cart_total = 170;
    window.Adoorei.data.discount_credit_card = 0;
    window.Adoorei.data.discount_debit_card = 0;
    window.Adoorei.data.discount_billet = 0;
    window.Adoorei.data.discount_pix = 0;
    window.Adoorei.data.discount_ranges = [];
    
    window.Adoorei.data.first_purchase = Boolean() ? false : Boolean() ;
    document.documentElement.style.setProperty('--header_elements_color', '#8e8e8e');
    
    document.documentElement.style.setProperty('--steps_tag_background_color', '#666666');
    
    document.documentElement.style.setProperty('--steps_tag_text_color', '#ffffff');
    document.documentElement.style.setProperty('--coupon_button_background_color', '#000000');
    document.documentElement.style.setProperty('--coupon_button_text_color', '#ffffff');
    document.documentElement.style.setProperty('--stopwatch_title_color', '#f81080');
    document.documentElement.style.setProperty('--stopwatch_background_color', '#f81080');
    document.documentElement.style.setProperty('--stopwatch_text_color', '#FFFFFF');
    document.documentElement.style.setProperty('--stopwatch_tag_text_color', '#FCCE00');
    document.documentElement.style.setProperty('--discount_tag_background_color', '#000000');
    document.documentElement.style.setProperty('--discount_tag_text_color', '#ffffff');
    document.documentElement.style.setProperty('--immediate_approval_tag_background_color', '#f81080');
    document.documentElement.style.setProperty('--immediate_approval_tag_text_color', '#ffffff');
    document.documentElement.style.setProperty('--immediate_approval_billet_tag_background_color', '#9d9d9d');
    document.documentElement.style.setProperty('--immediate_approval_billet_tag_text_color', '#ffffff');
    document.documentElement.style.setProperty('--btn-radius', '10px');
    document.documentElement.style.setProperty('--step-radius', '10px');
    document.documentElement.style.setProperty('--social-proof-background', 'white');
    document.documentElement.style.setProperty('--primary-background', '#2BBA00');
    document.documentElement.style.setProperty('--secondary-background', '#058EE4');
    document.documentElement.style.setProperty('--header-background', '#FFFFFF');
    document.documentElement.style.setProperty('--header-text', '#000000');
    document.documentElement.style.setProperty('--primary-text', '#FFFFFF');
    document.documentElement.style.setProperty('--secondary-text', '#FFFFFF');
    document.documentElement.style.setProperty('--checkout-background', '#2BBA00');
    document.documentElement.style.setProperty('--checkout-text', '#FFFFFF');
    document.documentElement.style.setProperty('--titles-text', '#FFFFFF');
    document.documentElement.style.setProperty('--enable-gradient', '0');
    document.documentElement.style.setProperty('--gradient-color-1', '#EA0A0A');
    document.documentElement.style.setProperty('--gradient-color-2', '#93F805');
    document.documentElement.style.setProperty('--gradient-color-3', '#0D00FF');
    document.documentElement.style.setProperty('--gradient-color-4', '#FF00EE');
    document.documentElement.style.setProperty('--group-input-and-button-in-cart', '0');
    document.documentElement.style.setProperty('--shadow-on-the-button-in-cart', '0');
    document.documentElement.style.setProperty('--text-color-order-bump', '#666666');
    document.documentElement.style.setProperty('--background-orderbump-color', '#FFFFD1');
    document.documentElement.style.setProperty('--price-text-color-orderbump', '#FE509C');
    document.documentElement.style.setProperty('--border-orderbump-color', '#D0D0D0');
    document.documentElement.style.setProperty('--button-text-color-orderbump', '#FFF');
    document.documentElement.style.setProperty('--button-background-color-orderbump', '#FE509C');
    document.documentElement.style.setProperty('--title-text-color-orderbump', '#FE509C');
    document.documentElement.style.setProperty('--title-background-color-orderbump', '#FFFFD1');
    document.documentElement.style.setProperty('--font-yupi', 'Rubik');
    document.documentElement.style.setProperty('--scarcity-text-color-tag-cart', '#ffffff');
    document.documentElement.style.setProperty('--scarcity-background-color-tag-cart', '#FF0080');
    </script>

    <!-- <script src="https://cdn.adoorei.com/js/puremask.js" async></script> -->
        <script>
        loadButtonsIncrement = false

        function incrementProduct(id) {
            if (loadButtonsIncrement) return;
            loadButtonsIncrement = true

            document.querySelectorAll("#lineItem_" + id).forEach(item => {
                item.style.opacity = '0.3'
            })

            fetch(`/increment-item-cart/${window.Adoorei.data.cart_token}/${id}`, {
                headers: new Headers({
                    'content-type': 'application/json',
                    'accept': 'application/json',
                    'X-CSRF-TOKEN': document.querySelector('input[name="_token"]').value
                }),
                method: 'put',
            }).then(r => {
                r.json().then(r2 => {
                    window.Adoorei.data.cart_items = r2
                    if (window.Adoorei.data.cart_items && Array.isArray(window.Adoorei.data.cart_items)) {
                        let itemProduct = window.Adoorei.data.cart_items.filter(item => item.id == id)

                        //emitir evento para atualizar a lista de frete
                        let event_update_shipping_methods = new CustomEvent('update_shipping_methods', {
                            detail: 'ok'
                        });

                        window.dispatchEvent(event_update_shipping_methods);

                        document.querySelectorAll('#product-item-' + id).forEach(item => {
                            item.querySelectorAll('#price-unit-product').forEach(item2 => {
                                item2.textContent = 'R$ ' + formatNumber((itemProduct[0]
                                        .quantity * itemProduct[0].price) / 100, 2, ',',
                                    '.')
                            })
                            item.querySelectorAll('.discont-price-unit-product').forEach(item2 => {
                                item2.textContent = 'R$' + formatNumber((itemProduct[0]
                                        .original_price * itemProduct[0].quantity) /
                                    100, 2, ",", ".").toString()
                            })
                        })

                        calcTotalProducts()
                        addCupom()
                    }
                })
                loadButtonsIncrement = false
                let quantity = parseInt(document.querySelector("#lineItem_" + id).querySelector('span')
                    .textContent) + 1
                document.querySelectorAll("#lineItem_" + id).forEach(item => {
                    item.style.opacity = '1'
                    item.querySelector('span').innerHTML = quantity
                })



            })
        }

        function decrementProduct(id) {
            if (loadButtonsIncrement) return;
            if (parseInt(document.querySelector("#lineItem_" + id).querySelector('span').textContent) <= 1) return
            loadButtonsIncrement = true
            document.querySelectorAll("#lineItem_" + id).forEach(item => {
                item.style.opacity = '0.3'
            })

            fetch(`/decrement-item-cart/${window.Adoorei.data.cart_token}/${id}`, {
                headers: new Headers({
                    'content-type': 'application/json',
                    'accept': 'application/json',
                    'X-CSRF-TOKEN': document.querySelector('input[name="_token"]').value
                }),
                method: 'put',
            }).then(r => {
                r.json().then(r2 => {
                    window.Adoorei.data.cart_items = r2
                    if (window.Adoorei.data.cart_items && Array.isArray(window.Adoorei.data.cart_items)) {
                        let itemProduct = window.Adoorei.data.cart_items.filter(item => item.id == id)

                        //emitir evento para atualizar a lista de frete
                        let event_update_shipping_methods = new CustomEvent('update_shipping_methods', {
                            detail: 'ok'
                        });

                        window.dispatchEvent(event_update_shipping_methods);

                        document.querySelectorAll('#product-item-' + id).forEach(item => {
                            item.querySelectorAll('#price-unit-product').forEach(item2 => {
                                item2.textContent = 'R$ ' + formatNumber((itemProduct[0]
                                        .quantity * itemProduct[0].price) / 100, 2, ',',
                                    '.')
                            })

                            item.querySelectorAll('.discont-price-unit-product').forEach(item2 => {
                                item2.textContent = 'R$' + formatNumber((itemProduct[0]
                                        .original_price * itemProduct[0].quantity) /
                                    100, 2, ",", ".").toString()
                            })
                        })


                        calcTotalProducts()
                        addCupom()
                    }
                })
                loadButtonsIncrement = false
                let quantity = parseInt(document.querySelector("#lineItem_" + id).querySelector('span')
                    .textContent) - 1
                document.querySelectorAll("#lineItem_" + id).forEach(item => {
                    item.style.opacity = '1'
                    item.querySelector('span').innerHTML = quantity
                })
            })
        }

        function removeProduct(id) {
            loadFullScreen()
            if (loadButtonsIncrement) return;
            loadButtonsIncrement = true;

            fetch(`/remove-item-cart/${window.Adoorei.data.cart_token}/${id}`, {
                    headers: new Headers({
                        'content-type': 'application/json',
                        'accept': 'application/json',
                        'X-CSRF-TOKEN': document.querySelector('input[name="_token"]').value
                    }),
                    method: 'put',
                }).then(r => {
                    r.json().then(r2 => {

                        if (r.status.toString()[0] == 4) {
                            barBottomError('Erro: Este item não pode ser removido do carrinho!')
                        } else if (r.status.toString()[0] == 5) {
                            window.Adoorei.data.cupom_discount = r2.discount

                            barBottomError('Ocorreu um erro no sistema!')
                        } else if (r.status.toString()[0] == 2) {
                            if (typeof is_google_analytics != "undefined") {
                                let itemProduct = window.Adoorei.data.cart_items.filter(item => item.id == id)

                                gtag("event", "remove_from_cart", {
                                    currency: "BRL",
                                    value: itemProduct[0].price,
                                    items: items
                                });
                            }

                            window.Adoorei.data.cart_items = r2

                            renderlistCartProducts()

                            // If have order bump
                            if (typeof updateStatusOrderBumps !== "undefined") {
                                updateStatusOrderBumps()
                            }

                            //emitir evento para atualizar a lista de frete
                            let event_update_shipping_methods = new CustomEvent('update_shipping_methods', {
                                detail: 'ok'
                            });

                            window.dispatchEvent(event_update_shipping_methods);

                            document.querySelectorAll("#product-item-" + id).forEach(item => {
                                item.remove();
                            })
                        }

                    })

                    loadButtonsIncrement = false


                })
                .finally(() => {
                    loadFullScreen(false)
                })
        }

        function addCupom(codeCupom = '') {
            if (!codeCupom.length) {
                code = ''
                document.querySelectorAll('#code-cupom-input').forEach(item => {
                    if (item.value.length) {
                        code = item.value
                    }
                })

                if (!code.length) return

            } else {
                code = codeCupom
                document.querySelectorAll('#code-cupom-input').forEach(item => {
                    item.value = codeCupom

                                    })
            }

            loadFullScreen()

            fetch(`/cupom/${code}`, {
                    headers: new Headers({
                        'content-type': 'application/json',
                        'accept': 'application/json',
                        'X-CSRF-TOKEN': document.querySelector('input[name="_token"]').value
                    }),
                    method: 'get',
                }).then(r => {
                    r.json().then(r2 => {

                        if (r.status.toString()[0] == 2) {
                            window.form.coupon = code


                            let result = 0
                            window.Adoorei.data.cart_items.map(item => {
                                result = result + item.final_price * item.quantity
                            })

                            if (r2.discount_in_percent) {

                                window.Adoorei.data.cupom_discount = (result / 100) * r2.discount
                            } else {
                                window.Adoorei.data.cupom_discount = (100 * r2.discount)
                            }

                            if (typeof google_analytics4_cupom_desconto != "undefined") {
                                google_analytics4_cupom_desconto = code;
                            }

                            calcTotalProducts()

                            barBottomSuccess('Cupom Aplicado com sucesso!')

                            if (typeof is_google_analytics != "undefined") {
                                gtag("event", "promocode_created", {
                                    cart_coupon: google_analytics4_cupom_desconto,
                                    cupom_value: window.Adoorei.data.cupom_discount / 100,
                                });
                            }
                        }

                        if (r.status.toString()[0] == 4) {
                            window.form.coupon = null
                            window.Adoorei.data.cupom_discount = (r2.discount === 'undefined' ? 0 : r2.discount)

                            calcTotalProducts()

                            barBottomError('Cupom inválido')

                            if (typeof is_google_analytics != "undefined") {
                                gtag("event", "promocode_deleted", {
                                    cart_coupon: google_analytics4_cupom_desconto,
                                    cupom_value: window.Adoorei.data.cupom_discount / 100,
                                });
                            }
                        }

                        if (r.status.toString()[0] == 5) {
                            window.form.coupon = null
                            window.Adoorei.data.cupom_discount = (r2.discount === 'undefined' ? 0 : r2.discount)

                            calcTotalProducts()

                            barBottomError('Ocorreu um erro no sistema!')

                            if (typeof is_google_analytics != "undefined") {
                                gtag("event", "promocode_deleted", {
                                    cart_coupon: google_analytics4_cupom_desconto,
                                    cupom_value: window.Adoorei.data.cupom_discount / 100,
                                });
                            }
                        }


                    })

                })
                .finally(() => {
                    loadFullScreen(false)
                })

        }



        function calcSubtotalProducts() {
            let result = 0
            window.Adoorei.data.cart_items.map(item => {
                result = result + item.final_price * item.quantity
            })

            document.querySelectorAll('#subtotal-products').forEach(item => {
                item.textContent = 'R$ ' + formatNumber(result / 100, 2, ',', '.')
            })

            let discount_billet = window.form.payment_method.indexOf('bol') != -1 || window.form.payment_method.indexOf(
                    'billet') != -1 || window.form.payment_method.indexOf('ticket') != -1 ? (result / 100) * window.Adoorei
                .data.discount_billet || 0 : 0
            let discount_credit_card = window.form.payment_method.indexOf('card') != -1 ? (result / 100) * window.Adoorei
                .data.discount_credit_card || 0 : 0
            let discount_debit_card = window.form.payment_method.indexOf('debit') != -1 ? (result / 100) * window.Adoorei
                .data.discount_debit_card || 0 : 0
            let discount_pix = window.form.payment_method.indexOf('pix') != -1 ? (result / 100) * window.Adoorei.data
                .discount_pix || 0 : 0

            let discount_ranges = window.Adoorei.data.discount_ranges.filter(range => {
                return (range.min_amount <= (result / 100) && (range.max_amount >= (result / 100)))
            })

            let discount_range_value = 0

            window.Adoorei.data.cart_items.forEach(item => {

                let discount = discount_ranges.find(discount => {
                    return discount.products.find(product => product.external_reference == item
                        .product_id) || discount.categories.find(category => category.products.find(
                        product => product.external_reference == item.product_id))
                })

                if (!discount) discount = discount_ranges.find(discount => !discount.products.length)

                if (discount) {
                    item_total = item.price * item.quantity
                    discount_range_value += item_total * (discount.discount / 100)
                }
            });

            let discount_total = (window.Adoorei.data.cupom_discount || 0) + discount_billet + discount_credit_card +
                discount_debit_card + discount_pix + discount_range_value;

            result = result - discount_total

            calcDiscounts(discount_total)

            return result
        }

        window.addEventListener('updated_shipping_price', data => {


            calcTotalProducts()

        })

        window.addEventListener('update-installment-max-in-cart', function(e) {
            document.querySelectorAll('.element-max-installments-products').forEach(item => {
                if (window.form.payment_method.indexOf('card') != -1) {
                    item.style.display = ''
                    document.querySelectorAll('#max-installments-products').forEach(item2 => {
                        item2.textContent = e.detail
                    })
                } else {
                    item.style.display = 'none'
                }

            })

            //calcTotalProducts()
        })

        window.addEventListener('update-method-payment', function(data) {

            document.querySelectorAll('.element-max-installments-products').forEach(item => {
                if (window.form.payment_method.indexOf('card') != -1 && window.form.card_installments > 1) {
                    item.style.display = ''
                } else {
                    item.style.display = 'none'
                }

            })

            calcTotalProducts()
        })


        window.addEventListener('apply_cupom_code_first_buy', data => {
            addCupom(data.detail.cupom)
        })



        function calcDiscounts(data) {
            document.querySelectorAll('#discounts-total-products').forEach(item => {
                item.textContent = formatNumber((data / 100), 2, ',', '.')
            })
        }

        function calcTotalProducts() {
            if (!window.form) return
            let priceShipping = window.Adoorei.data.shipping_methods.filter(item => item.id == window.form
                .shipping_method_id)

            if (priceShipping.length) {
                priceShipping = priceShipping[0].price
            } else {
                priceShipping = 0
            }

            if (typeof google_analytics4_price_shipping != "undefined") {
                google_analytics4_price_shipping = priceShipping;
            }

            document.querySelectorAll('#total-products').forEach(item => {
                item.textContent = 'R$ ' + formatNumber((calcSubtotalProducts() + priceShipping * 100) / 100, 2,
                    ',', '.')
            })

            window.Adoorei.data.cart_total = (calcSubtotalProducts() + priceShipping * 100) / 100


            let event = new CustomEvent('updated_total_cart')

            window.dispatchEvent(event)
            /*
            			let event = new CustomEvent('shipping_update', {
            				detail: {
            					shipping: (calcSubtotalProducts() + priceShipping*100)/100
            				}
            			});              

            			window.dispatchEvent(event);*/
        }

        function renderlistCartProducts() {
            let data = ``

            window.Adoorei.data.cart_items.forEach(item => {
                                    const image_pieces = item.image.split('.jpg')
                    const image_optimized = image_pieces[0] + '_60x60.jpg'
                                data += `<div class="flex list-products" id="product-item-${item.id}" data-orderbump-id="${item.bump_id ? item.bump_id :  ''}" style="gap:15px;border-bottom:1px solid #eee;padding-bottom:15px;padding-top:15px;">
                                <div style = "flex-shrink: 0"><img class="rounded cart-product-image" src="${image_optimized}" alt="${item.title}" /></div>
                                <div class="flex flex-col" style="flex-grow:1; gap:5px;font-weight:400;font-size:13px;color:#666666;width:100%;">
                                    <span class="flex justify-between" >
                                    <span class = "cart-product-title" style="word-break: break-word">${item.title}</span>
                                    </span>
                                    <small class = "cart-product-variant-title" style="word-break: break-word">${(item.variant_title || '').toLowerCase() != 'default title' ? item.variant_title : ''}</small>
                                    ${item.original_price !== item.price ? '<small class="discont-price-unit-product" style="word-break: break-word;text-decoration: line-through;">R$' + formatNumber((item.original_price * item.quantity) / 100, 2, ",", ".").toString() + '</small>' : ''}
                                    <span ><span id="price-unit-product"> R$ ${formatNumber((item.price * item.quantity/100), 2, ',', '.')}</span></span>

                                    <div id="lineItem_${item.id}" class="flex items-center justify-between rounded line-item-container" style="border:1px solid #e7e7e7;padding:5px;">
                                        <svg onclick="decrementProduct('${item.id}')" width="15" style="color:#b6b2b2;font-weight:700;cursor:pointer;" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4" />
                                        </svg>
                                        <span style="font-weight:700;">${item.quantity}</span>
                                        <svg onclick="incrementProduct('${item.id}')" width="15" style="color:#b6b2b2;font-weight:700;cursor:pointer;" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                                        </svg>
                                    </div>
                                </div>
                                <div style="flex-shrink: 0; color: #666666;">
                                <svg onclick="removeProduct('${item.id}')" width="20" height="20" xmlns="http://www.w3.org/2000/svg" style="cursor:pointer;" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                        </svg>
                                </div>
                            </div>`
            })

            document.querySelectorAll('#content-list-products').forEach(item => {
                item.innerHTML = data
            })

            document.querySelectorAll('#subtotal-products').forEach(item => {
                item.textContent = 'R$ ' + formatNumber(calcSubtotalProducts() / 100, 2, ',', '.')
            })

            calcTotalProducts()
            addCupom()

        }

        document.addEventListener('DOMContentLoaded', function() {
            calcTotalProducts();
        }, false);
    </script>
    <script>
        if (document.querySelector('#cart-mobile') != null) {

            const backdrop = document.createElement('div')
            backdrop.setAttribute('id', 'backdrop')
            document.body.appendChild(backdrop)

            backdrop.addEventListener('click', () => {
                document.querySelector('#resume-cart-mobile').style.display = 'none'
                backdrop.style.display = 'none'
            })

            document.querySelector('#cart-mobile').addEventListener('click', () => {
                if (document.querySelector('#resume-cart-mobile').style.display == 'block') {
                    document.querySelector('#resume-cart-mobile').style.display = 'none'
                    backdrop.style.display = 'none'
                } else {
                    document.querySelector('#resume-cart-mobile').style.display = 'block'
                    backdrop.style.display = 'block'
                }
            })

            window.addEventListener('updated_total_cart', function(e) {

                let total_items = 0;


                window.Adoorei.data.cart_items.forEach(item => {
                    total_items += item.quantity
                })

                document.querySelector(`#notify-cart`).innerHTML = total_items;

            })
        }
    </script>
    <script>
        if (Boolean(window.Adoorei.data.timer_enabled) == false) {
            document.querySelectorAll('#timer').forEach(item => {
                item.style.display = 'none'
            })
        }


        function startTimer(duration, display) {
            var timer = duration,
                minutes, seconds;
            setInterval(function() {
                minutes = parseInt(timer / 60, 10);
                seconds = parseInt(timer % 60, 10);

                minutes = minutes < 10 ? "0" + minutes : minutes;
                seconds = seconds < 10 ? "0" + seconds : seconds;

                display.forEach(item => {
                    item.textContent = minutes + ":" + seconds;
                })

                if (--timer < 0) {
                    timer = duration;
                }


            }, 1000);
        }

        function initTimer() {
            try {
                minutes = 15
                display = document.querySelectorAll('.timer-box');
                startTimer(60 * minutes, display);
            } catch {
                console.log('Error while initing timer');
            }
        }

        initTimer();
    </script>
    <script>
        loadButtonsIncrement = false

        function incrementProduct(id) {
            if (loadButtonsIncrement) return;
            loadButtonsIncrement = true

            document.querySelectorAll("#lineItem_" + id).forEach(item => {
                item.style.opacity = '0.3'
            })

            fetch(`/increment-item-cart/${window.Adoorei.data.cart_token}/${id}`, {
                headers: new Headers({
                    'content-type': 'application/json',
                    'accept': 'application/json',
                    'X-CSRF-TOKEN': document.querySelector('input[name="_token"]').value
                }),
                method: 'put',
            }).then(r => {
                r.json().then(r2 => {
                    window.Adoorei.data.cart_items = r2
                    if (window.Adoorei.data.cart_items && Array.isArray(window.Adoorei.data.cart_items)) {
                        let itemProduct = window.Adoorei.data.cart_items.filter(item => item.id == id)

                        //emitir evento para atualizar a lista de frete
                        let event_update_shipping_methods = new CustomEvent('update_shipping_methods', {
                            detail: 'ok'
                        });

                        window.dispatchEvent(event_update_shipping_methods);

                        document.querySelectorAll('#product-item-' + id).forEach(item => {
                            item.querySelectorAll('#price-unit-product').forEach(item2 => {
                                item2.textContent = 'R$ ' + formatNumber((itemProduct[0]
                                        .quantity * itemProduct[0].price) / 100, 2, ',',
                                    '.')
                            })
                            item.querySelectorAll('.discont-price-unit-product').forEach(item2 => {
                                item2.textContent = 'R$' + formatNumber((itemProduct[0]
                                        .original_price * itemProduct[0].quantity) /
                                    100, 2, ",", ".").toString()
                            })
                        })

                        calcTotalProducts()
                        addCupom()
                    }
                })
                loadButtonsIncrement = false
                let quantity = parseInt(document.querySelector("#lineItem_" + id).querySelector('span')
                    .textContent) + 1
                document.querySelectorAll("#lineItem_" + id).forEach(item => {
                    item.style.opacity = '1'
                    item.querySelector('span').innerHTML = quantity
                })



            })
        }

        function decrementProduct(id) {
            if (loadButtonsIncrement) return;
            if (parseInt(document.querySelector("#lineItem_" + id).querySelector('span').textContent) <= 1) return
            loadButtonsIncrement = true
            document.querySelectorAll("#lineItem_" + id).forEach(item => {
                item.style.opacity = '0.3'
            })

            fetch(`/decrement-item-cart/${window.Adoorei.data.cart_token}/${id}`, {
                headers: new Headers({
                    'content-type': 'application/json',
                    'accept': 'application/json',
                    'X-CSRF-TOKEN': document.querySelector('input[name="_token"]').value
                }),
                method: 'put',
            }).then(r => {
                r.json().then(r2 => {
                    window.Adoorei.data.cart_items = r2
                    if (window.Adoorei.data.cart_items && Array.isArray(window.Adoorei.data.cart_items)) {
                        let itemProduct = window.Adoorei.data.cart_items.filter(item => item.id == id)

                        //emitir evento para atualizar a lista de frete
                        let event_update_shipping_methods = new CustomEvent('update_shipping_methods', {
                            detail: 'ok'
                        });

                        window.dispatchEvent(event_update_shipping_methods);

                        document.querySelectorAll('#product-item-' + id).forEach(item => {
                            item.querySelectorAll('#price-unit-product').forEach(item2 => {
                                item2.textContent = 'R$ ' + formatNumber((itemProduct[0]
                                        .quantity * itemProduct[0].price) / 100, 2, ',',
                                    '.')
                            })

                            item.querySelectorAll('.discont-price-unit-product').forEach(item2 => {
                                item2.textContent = 'R$' + formatNumber((itemProduct[0]
                                        .original_price * itemProduct[0].quantity) /
                                    100, 2, ",", ".").toString()
                            })
                        })


                        calcTotalProducts()
                        addCupom()
                    }
                })
                loadButtonsIncrement = false
                let quantity = parseInt(document.querySelector("#lineItem_" + id).querySelector('span')
                    .textContent) - 1
                document.querySelectorAll("#lineItem_" + id).forEach(item => {
                    item.style.opacity = '1'
                    item.querySelector('span').innerHTML = quantity
                })
            })
        }

        function removeProduct(id) {
            loadFullScreen()
            if (loadButtonsIncrement) return;
            loadButtonsIncrement = true;

            fetch(`/remove-item-cart/${window.Adoorei.data.cart_token}/${id}`, {
                    headers: new Headers({
                        'content-type': 'application/json',
                        'accept': 'application/json',
                        'X-CSRF-TOKEN': document.querySelector('input[name="_token"]').value
                    }),
                    method: 'put',
                }).then(r => {
                    r.json().then(r2 => {

                        if (r.status.toString()[0] == 4) {
                            barBottomError('Erro: Este item não pode ser removido do carrinho!')
                        } else if (r.status.toString()[0] == 5) {
                            window.Adoorei.data.cupom_discount = r2.discount

                            barBottomError('Ocorreu um erro no sistema!')
                        } else if (r.status.toString()[0] == 2) {
                            if (typeof is_google_analytics != "undefined") {
                                let itemProduct = window.Adoorei.data.cart_items.filter(item => item.id == id)

                                gtag("event", "remove_from_cart", {
                                    currency: "BRL",
                                    value: itemProduct[0].price,
                                    items: items
                                });
                            }

                            window.Adoorei.data.cart_items = r2

                            renderlistCartProducts()

                            // If have order bump
                            if (typeof updateStatusOrderBumps !== "undefined") {
                                updateStatusOrderBumps()
                            }

                            //emitir evento para atualizar a lista de frete
                            let event_update_shipping_methods = new CustomEvent('update_shipping_methods', {
                                detail: 'ok'
                            });

                            window.dispatchEvent(event_update_shipping_methods);

                            document.querySelectorAll("#product-item-" + id).forEach(item => {
                                item.remove();
                            })
                        }

                    })

                    loadButtonsIncrement = false


                })
                .finally(() => {
                    loadFullScreen(false)
                })
        }

        function addCupom(codeCupom = '') {
            if (!codeCupom.length) {
                code = ''
                document.querySelectorAll('#code-cupom-input').forEach(item => {
                    if (item.value.length) {
                        code = item.value
                    }
                })

                if (!code.length) return

            } else {
                code = codeCupom
                document.querySelectorAll('#code-cupom-input').forEach(item => {
                    item.value = codeCupom

                                    })
            }

            loadFullScreen()

            fetch(`/cupom/${code}`, {
                    headers: new Headers({
                        'content-type': 'application/json',
                        'accept': 'application/json',
                        'X-CSRF-TOKEN': document.querySelector('input[name="_token"]').value
                    }),
                    method: 'get',
                }).then(r => {
                    r.json().then(r2 => {

                        if (r.status.toString()[0] == 2) {
                            window.form.coupon = code


                            let result = 0
                            window.Adoorei.data.cart_items.map(item => {
                                result = result + item.final_price * item.quantity
                            })

                            if (r2.discount_in_percent) {

                                window.Adoorei.data.cupom_discount = (result / 100) * r2.discount
                            } else {
                                window.Adoorei.data.cupom_discount = (100 * r2.discount)
                            }

                            if (typeof google_analytics4_cupom_desconto != "undefined") {
                                google_analytics4_cupom_desconto = code;
                            }

                            calcTotalProducts()

                            barBottomSuccess('Cupom Aplicado com sucesso!')

                            if (typeof is_google_analytics != "undefined") {
                                gtag("event", "promocode_created", {
                                    cart_coupon: google_analytics4_cupom_desconto,
                                    cupom_value: window.Adoorei.data.cupom_discount / 100,
                                });
                            }
                        }

                        if (r.status.toString()[0] == 4) {
                            window.form.coupon = null
                            window.Adoorei.data.cupom_discount = (r2.discount === 'undefined' ? 0 : r2.discount)

                            calcTotalProducts()

                            barBottomError('Cupom inválido')

                            if (typeof is_google_analytics != "undefined") {
                                gtag("event", "promocode_deleted", {
                                    cart_coupon: google_analytics4_cupom_desconto,
                                    cupom_value: window.Adoorei.data.cupom_discount / 100,
                                });
                            }
                        }

                        if (r.status.toString()[0] == 5) {
                            window.form.coupon = null
                            window.Adoorei.data.cupom_discount = (r2.discount === 'undefined' ? 0 : r2.discount)

                            calcTotalProducts()

                            barBottomError('Ocorreu um erro no sistema!')

                            if (typeof is_google_analytics != "undefined") {
                                gtag("event", "promocode_deleted", {
                                    cart_coupon: google_analytics4_cupom_desconto,
                                    cupom_value: window.Adoorei.data.cupom_discount / 100,
                                });
                            }
                        }


                    })

                })
                .finally(() => {
                    loadFullScreen(false)
                })

        }



        function calcSubtotalProducts() {
            let result = 0
            window.Adoorei.data.cart_items.map(item => {
                result = result + item.final_price * item.quantity
            })

            document.querySelectorAll('#subtotal-products').forEach(item => {
                item.textContent = 'R$ ' + formatNumber(result / 100, 2, ',', '.')
            })

            let discount_billet = window.form.payment_method.indexOf('bol') != -1 || window.form.payment_method.indexOf(
                    'billet') != -1 || window.form.payment_method.indexOf('ticket') != -1 ? (result / 100) * window.Adoorei
                .data.discount_billet || 0 : 0
            let discount_credit_card = window.form.payment_method.indexOf('card') != -1 ? (result / 100) * window.Adoorei
                .data.discount_credit_card || 0 : 0
            let discount_debit_card = window.form.payment_method.indexOf('debit') != -1 ? (result / 100) * window.Adoorei
                .data.discount_debit_card || 0 : 0
            let discount_pix = window.form.payment_method.indexOf('pix') != -1 ? (result / 100) * window.Adoorei.data
                .discount_pix || 0 : 0

            let discount_ranges = window.Adoorei.data.discount_ranges.filter(range => {
                return (range.min_amount <= (result / 100) && (range.max_amount >= (result / 100)))
            })

            let discount_range_value = 0

            window.Adoorei.data.cart_items.forEach(item => {

                let discount = discount_ranges.find(discount => {
                    return discount.products.find(product => product.external_reference == item
                        .product_id) || discount.categories.find(category => category.products.find(
                        product => product.external_reference == item.product_id))
                })

                if (!discount) discount = discount_ranges.find(discount => !discount.products.length)

                if (discount) {
                    item_total = item.price * item.quantity
                    discount_range_value += item_total * (discount.discount / 100)
                }
            });

            let discount_total = (window.Adoorei.data.cupom_discount || 0) + discount_billet + discount_credit_card +
                discount_debit_card + discount_pix + discount_range_value;

            result = result - discount_total

            calcDiscounts(discount_total)

            return result
        }

        window.addEventListener('updated_shipping_price', data => {


            calcTotalProducts()

        })

        window.addEventListener('update-installment-max-in-cart', function(e) {
            document.querySelectorAll('.element-max-installments-products').forEach(item => {
                if (window.form.payment_method.indexOf('card') != -1) {
                    item.style.display = ''
                    document.querySelectorAll('#max-installments-products').forEach(item2 => {
                        item2.textContent = e.detail
                    })
                } else {
                    item.style.display = 'none'
                }

            })

            //calcTotalProducts()
        })

        window.addEventListener('update-method-payment', function(data) {

            document.querySelectorAll('.element-max-installments-products').forEach(item => {
                if (window.form.payment_method.indexOf('card') != -1 && window.form.card_installments > 1) {
                    item.style.display = ''
                } else {
                    item.style.display = 'none'
                }

            })

            calcTotalProducts()
        })


        window.addEventListener('apply_cupom_code_first_buy', data => {
            addCupom(data.detail.cupom)
        })



        function calcDiscounts(data) {
            document.querySelectorAll('#discounts-total-products').forEach(item => {
                item.textContent = formatNumber((data / 100), 2, ',', '.')
            })
        }

        function calcTotalProducts() {
            if (!window.form) return
            let priceShipping = window.Adoorei.data.shipping_methods.filter(item => item.id == window.form
                .shipping_method_id)

            if (priceShipping.length) {
                priceShipping = priceShipping[0].price
            } else {
                priceShipping = 0
            }

            if (typeof google_analytics4_price_shipping != "undefined") {
                google_analytics4_price_shipping = priceShipping;
            }

            document.querySelectorAll('#total-products').forEach(item => {
                item.textContent = 'R$ ' + formatNumber((calcSubtotalProducts() + priceShipping * 100) / 100, 2,
                    ',', '.')
            })

            window.Adoorei.data.cart_total = (calcSubtotalProducts() + priceShipping * 100) / 100


            let event = new CustomEvent('updated_total_cart')

            window.dispatchEvent(event)
            /*
            			let event = new CustomEvent('shipping_update', {
            				detail: {
            					shipping: (calcSubtotalProducts() + priceShipping*100)/100
            				}
            			});              

            			window.dispatchEvent(event);*/
        }

        function renderlistCartProducts() {
            let data = ``

            window.Adoorei.data.cart_items.forEach(item => {
                                    const image_pieces = item.image.split('.jpg')
                    const image_optimized = image_pieces[0] + '_60x60.jpg'
                                data += `<div class="flex list-products" id="product-item-${item.id}" data-orderbump-id="${item.bump_id ? item.bump_id :  ''}" style="gap:15px;border-bottom:1px solid #eee;padding-bottom:15px;padding-top:15px;">
                                <div style = "flex-shrink: 0"><img class="rounded cart-product-image" src="${image_optimized}" alt="${item.title}" /></div>
                                <div class="flex flex-col" style="flex-grow:1; gap:5px;font-weight:400;font-size:13px;color:#666666;width:100%;">
                                    <span class="flex justify-between" >
                                    <span class = "cart-product-title" style="word-break: break-word">${item.title}</span>
                                    </span>
                                    <small class = "cart-product-variant-title" style="word-break: break-word">${(item.variant_title || '').toLowerCase() != 'default title' ? item.variant_title : ''}</small>
                                    ${item.original_price !== item.price ? '<small class="discont-price-unit-product" style="word-break: break-word;text-decoration: line-through;">R$' + formatNumber((item.original_price * item.quantity) / 100, 2, ",", ".").toString() + '</small>' : ''}
                                    <span ><span id="price-unit-product"> R$ ${formatNumber((item.price * item.quantity/100), 2, ',', '.')}</span></span>

                                    <div id="lineItem_${item.id}" class="flex items-center justify-between rounded line-item-container" style="border:1px solid #e7e7e7;padding:5px;">
                                        <svg onclick="decrementProduct('${item.id}')" width="15" style="color:#b6b2b2;font-weight:700;cursor:pointer;" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4" />
                                        </svg>
                                        <span style="font-weight:700;">${item.quantity}</span>
                                        <svg onclick="incrementProduct('${item.id}')" width="15" style="color:#b6b2b2;font-weight:700;cursor:pointer;" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                                        </svg>
                                    </div>
                                </div>
                                <div style="flex-shrink: 0; color: #666666;">
                                <svg onclick="removeProduct('${item.id}')" width="20" height="20" xmlns="http://www.w3.org/2000/svg" style="cursor:pointer;" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                        </svg>
                                </div>
                            </div>`
            })

            document.querySelectorAll('#content-list-products').forEach(item => {
                item.innerHTML = data
            })

            document.querySelectorAll('#subtotal-products').forEach(item => {
                item.textContent = 'R$ ' + formatNumber(calcSubtotalProducts() / 100, 2, ',', '.')
            })

            calcTotalProducts()
            addCupom()

        }

        document.addEventListener('DOMContentLoaded', function() {
            calcTotalProducts();
        }, false);
    </script>
	
    
    	
	
    
    <script>
        function selectDefaultInstallments(){
            document.querySelectorAll(".content_payment_method").forEach((payment, idx)=>{
                if (payment.style.display !== 'none') {
                    let maxValue = 1

                    const input = payment.querySelector("select[name='card_installments']")
                
                    const options = input.querySelectorAll("option")
                    options.forEach(option=>{
                        if (option.text.includes("s/ juros")) {
                            maxValue = option.value
                        }
                    })

                    input.value = maxValue
                    input.dispatchEvent(new Event('change', {bubbles:true}));
                }
            })
        }
        function setPaymentMethod(data){
            document.querySelectorAll('.box-payment').forEach(item=>{
                item.style.borderColor = '#d0d0d0'

                                    item.style.backgroundColor = 'transparent'
                            })
            document.querySelectorAll('#'+data+'-box-credit').forEach(item=>{
                item.style.borderColor = 'black'

                                    item.style.backgroundColor = '#f5f6f8'
                            })
            document.querySelectorAll('.content_payment_method').forEach(item=>{
                item.style.display = 'none'
            })
            document.querySelectorAll(`.radios-payment-methods`).forEach(item=>{
                item.classList.remove('custom-radio-active')
            })
            document.querySelectorAll(`#${data}_radio`).forEach(item=>{
                item.classList.add('custom-radio-active')
            })
            window.form.payment_method = data
                        
            changeCanUnlockSubmit()
            if(document.querySelector('#container-payment-'+window.form.payment_method) && document.querySelector('#container-payment-'+window.form.payment_method).querySelector('select[name="card_installments"]')){
                let findLastInstallment = getPreSelectInstallment()
                if (document.querySelector('#container-payment-'+window.form.payment_method).querySelector('select[name="card_installments"]').childNodes[findLastInstallment-1]) {
                    form.textButtonBuy = `<b>PAGAR </b>${document.querySelector('#container-payment-'+window.form.payment_method).querySelector('select[name="card_installments"]').childNodes[findLastInstallment-1].textContent.replace('parcelas de', 'x').replace('*', '').replace('parcela de', 'x').split('(')[0]}`
                    document.querySelector(`#container-payment-${window.form.payment_method}`).querySelector('#general-submit-button').innerHTML = form.textButtonBuy;
                    let event = new CustomEvent('update-installment-max-in-cart', {detail:form.textButtonBuy.replace('<b>PAGAR </b>', '')})
                    window.dispatchEvent(event)
                }
            }else{
                window.form.textButtonBuy = `<b>PAGAR</b>`
                document.querySelectorAll('#general-submit-button').forEach(item=>{
                    item.innerHTML = form.textButtonBuy;
                })
                let event = new CustomEvent('update-installment-max-in-cart', {detail:form.textButtonBuy.replace('<b>PAGAR </b>', '')})
                window.dispatchEvent(event)
            }
            
            document.querySelector(`#container-payment-${window.form.payment_method}`).style.display = ''
            let event = new CustomEvent('update-method-payment', {
                detail: {
                    method_selected:window.form.payment_method
                }
            });             
            window.dispatchEvent(event);
        }
        document.querySelectorAll('#card-input').forEach(item=>{
            ['input', 'paste'].forEach(e => {
                item.addEventListener(e, ()=>{
                //console.log(testarCC(document.querySelector('#card-input').value, cartoes))
                    if(testarCC(item.value)=='Visa'){
                        item.style.backgroundImage = 'url(https://cdn.adoorei.com/images/visa.svg)'
                    }else if(testarCC(document.querySelector('#card-input').value)=='Master'){
                        item.style.backgroundImage = 'url(https://cdn.adoorei.com/images/master.svg)'
                    }
                    else if(testarCC(document.querySelector('#card-input').value)=='Elo'){
                        item.style.backgroundImage = 'url(https://cdn.adoorei.com/images/elo.svg)'
                    }
                    else if(testarCC(document.querySelector('#card-input').value)=='America'){
                        item.style.backgroundImage = 'url(https://cdn.adoorei.com/images/amex.svg)'
                    }
                    else{
                        item.style.backgroundImage = 'url(https://cdn.adoorei.com/images/payment.svg)'
                    }
					
					if((form.payment_method == 'credit_card_efi')){
                        installmentsGN()
                    }

                    else if(form.payment_method == 'mercadopago_card' || form.payment_method == 'card'){
                        installmentsMP()
                    }else{
                        document.querySelector('#container-payment-'+form.payment_method).querySelector('select[name="card_installments"]').innerHTML = installments();
                        let findLastInstallment = getPreSelectInstallment()
                        if (document.querySelector('#container-payment-'+form.payment_method).querySelector('select[name="card_installments"]').childNodes[findLastInstallment-1]) {
                            form.textButtonBuy = `<b>PAGAR </b>${document.querySelector('#container-payment-'+form.payment_method).querySelector('select[name="card_installments"]').childNodes[findLastInstallment-1].textContent.replace('parcelas de', 'x').replace('*', '').replace('parcela de', 'x').split('(')[0]}`
                            form.card_installments = document.querySelector('#container-payment-'+form.payment_method).querySelector('select[name="card_installments"]').childNodes[findLastInstallment-1].value
                            document.querySelector('#container-payment-'+form.payment_method).querySelector('#general-submit-button').innerHTML = form.textButtonBuy;
                            let last_installment_text = `<b>PAGAR </b>${document.querySelector('#container-payment-'+form.payment_method).querySelector('select[name="card_installments"]').childNodes[findLastInstallment-1].textContent.replace('parcelas de', 'x').replace('*', '').replace('parcela de', 'x').split('(')[0]}`
                            let event = new CustomEvent('update-installment-max-in-cart', {detail:last_installment_text.replace('<b>PAGAR </b>', '')})
                            window.dispatchEvent(event)
                        }
                    }
                })
            })
        })
        var cartoes = {
            Visa: /^4[0-9]{12}(?:[0-9]{3})/,
            Mastercard: /^5[1-5][0-9]{14}/,
            Amex: /^3[47][0-9]{13}/,
            DinersClub: /^3(?:0[0-5]|[68][0-9])[0-9]{11}/,
            Discover: /^6(?:011|5[0-9]{2})[0-9]{12}/,
            JCB: /^(?:2131|1800|35\d{3})\d{11}/
        };
        function testarCC(nr) {
            if(nr.slice(0,1)=='3') return 'America'
            if(nr.slice(0,1)=='4') return 'Visa'
            if(nr.slice(0,1)=='6') return 'Elo'
            if(parseInt(nr.slice(0,2))>=51 && parseInt(nr.slice(0,2))<=55 || parseInt(nr.slice(0,4))>=2221 && parseInt(nr.slice(0,4))<=2720) return 'Master'
        }
        function getPreSelectInstallment() {
            const preSelectedInstallment = 3;

            if (preSelectedInstallment) {
                return preSelectedInstallment;
            } else {
                // Provavelmente nunca mais irá cair aqui. Antigamente era selecionado sempre a parcela menor juros. Por algum motivo caso caia aqui (o que não é pra acontecer) não irá quebrar.
                return getLastWithoutFee();
            }
        }
        function getLastWithoutFee() {
            const paymentMethod = form.payment_method
            const value = parseInt(document.querySelector('.box-payment[data-payment-code='+paymentMethod+']').getAttribute('data-skip-interest'))
            return value >= 2 ? value : 12
        }
        function updateInstallmentsValues(){
            let i = 1;
            document.querySelector('#container-payment-'+form.payment_method).querySelector('select[name="card_installments"]').querySelectorAll('option').forEach(item=>{
                let parcel_total = getInterest(i)
                item.value = i;
                item.innerHTML = `${i} ${i > 1 ? 'parcelas' : 'parcela'} de R$ ${formatNumber((parcel_total)/i, 2, ',',' ') } ${window.Adoorei.data.cart_total != parcel_total ? '*' : ''} ${((window.Adoorei.data.cart_total == parcel_total) && (i>1) ? ' s/ juros' : '')}`
                i++;
            })
        }
        function installments(){
            let selectedInstallmentByUser = document.querySelector('#container-payment-'+form.payment_method).querySelector('select[name="card_installments"]').value
            let installmentSelected = getPreSelectInstallment()
            if(selectedInstallmentByUser) installmentSelected = selectedInstallmentByUser
            let installment = ``
            
            for(let i = 1; i<=12;i++){
                let parcel_total = getInterest(i)
                installment += `<option ${i==(installmentSelected)?'selected':''} value="${i}">${i} ${i > 1 ? 'parcelas' : 'parcela'} de R$ ${formatNumber((parcel_total)/i, 2, ',',' ') } ${window.Adoorei.data.cart_total != parcel_total ? '*' : ''} ${((window.Adoorei.data.cart_total == parcel_total) && (i>1) ? ' s/ juros' : '')}</option>`
            }

            return installment;
        }
		function installmentsGN() {
			
			
			setTimeout(async () => {
				
				let card_number = window.form.card_number
				
				let allowed_brands = ['visa', 'mastercard', 'amex', 'diners', 'elo', 'hipercard']
			
				let card_brand = (new String(testarCC(card_number))).toLowerCase()
				
				if (card_brand == 'america')
					card_brand = 'amex'
				else if(card_brand == 'master')
					card_brand = 'mastercard'
				
				
				card_brand = allowed_brands.includes(card_brand) ? card_brand : 'visa'
				
				window.form.card_brand = card_brand
				
                window.gn_checkout.getInstallments(
					(window.Adoorei.data.cart_total).toFixed(2)*100, 
					card_brand, // bandeira do cartão
					function (error, response) {
						if (error) {
							
						} else {
							
							
							let dataFieldinstallments = ``;
							
							let lastInstallment = 1;
							
							response.data.installments.forEach((item) => {
								if(!item.has_interest)
									lastInstallment = item.installment
								
								dataFieldinstallments += `<option value="${item.installment}">${item.installment + ' parcela'+(item.installment > 1 ? 's' : '')+' de R$' + item.currency + (item.has_interest ? ' *' : '')}</option>`
							});
							
							document.querySelector('#container-payment-credit_card_efi').querySelector('select[name="card_installments"]').innerHTML = dataFieldinstallments;
							
							if(window.form.card_installments) {
								if(document.querySelector('#container-payment-credit_card_efi select[name="card_installments"] option[value="'+window.form.card_installments+'"]'))
									document.querySelector('#container-payment-credit_card_efi select[name="card_installments"] option[value="'+window.form.card_installments+'"]').selected = true
								else {
									document.querySelector('#container-payment-credit_card_efi select[name="card_installments"] option[value="'+lastInstallment+'"]').selected = true
								}
							}
							else {
								document.querySelector('#container-payment-credit_card_efi select[name="card_installments"] option[value="'+lastInstallment+'"]').selected = true
								window.form.card_installments = lastInstallment
								
							}
							
							document.querySelector('#container-payment-credit_card_efi select[name="card_installments"]').dispatchEvent(new Event('change'))

						}
						
						})
						
						
							
							
							
						
					}, 500);
				  
        }
			
        function installmentsMP() {
            const preSelectedInstallment = 3;

            let installments
            let handlerSample

						    let skip_interest =  0
						
            setTimeout(async () => {
                let handlerSample = undefined;
                if (form.card_number.length >= 7) {
                    if(!mp) {
                        return
                    }

                    installments = await mp.getInstallments({
                        amount: (window.Adoorei.data.cart_total).toFixed(2),
                        bin: form.card_number.substring(0, 7).replace(/\D/g,''),
                    })

                    handlerSample = JSON.parse(JSON.stringify(installments[0]))

                                            skip_interest = handlerSample.payer_costs.filter(x=>x.installment_rate === 0).length
                                    } else {
                    if(!mp) {
                        return
                    }

                    installments = await mp.getInstallments({
                        amount: (window.Adoorei.data.cart_total).toFixed(2),
                        bin: '4235 6477 2802 5682'.substring(0, 7).replace(/\D/g,''),
                    })

                    handlerSample = JSON.parse(JSON.stringify(installments[0]))
                                            skip_interest = handlerSample.payer_costs.filter(x=>x.installment_rate === 0).length
                                        }
                
                form.payment_method_id = handlerSample.payment_method_id
                handlerSample.payer_costs.forEach((item) => {
                    if (item.installments <= skip_interest) {
                    let installment = `R$ ${formatNumber(
                        window.Adoorei.data.cart_total,
                        2,
                        ',',
                        '.'
                    )}`
                    let parcel = `R$ ${formatNumber(
                        (window.Adoorei.data.cart_total) / item.installments,
                        2,
                        ',',
                        '.'
                    )}`
                    if(item.installments == 1)
                        item.recommended_message = `${
                        item.installments
                        } parcela de ${installment}`
                    else
                        item.recommended_message = `${
                        item.installments
                        } parcelas de ${parcel} s/ juros`
                    }
                    else if (item.installments == 1) {
                    let installment = `R$ ${formatNumber(
                        window.Adoorei.data.cart_total,
                        2,
                        ',',
                        '.'
                    )}`
                    item.recommended_message = `1 parcela de ${installment}`
                    } else {

											let parcel = convertToReal(item.installment_amount)
						let interest = item.total_amount
                    
                    item.recommended_message = `${
                        item.installments
                    } parcelas de R$ ${parcel}`
                    
                    if(window.Adoorei.data.cart_total != interest)
                        item.recommended_message += ' *'
                    else 
                        item.recommended_message += ' s/ juros'
                    }
                    
                    return item
                })
                form.installments_options = await handlerSample
                let dataFieldinstallments = ``;
                let findLastInstallment = 0
                let selectedInstallmentByUser = document.querySelector('#container-payment-'+form.payment_method).querySelector('select[name="card_installments"]').value

                form.installments_options.payer_costs.map((item, i)=>{
                    let select = false;

                    if (!selectedInstallmentByUser && preSelectedInstallment) {
                        if (i === preSelectedInstallment-1) {
                            select = true
                            findLastInstallment = preSelectedInstallment
                        }
                    } else if (selectedInstallmentByUser) {
                        if (selectedInstallmentByUser-1 === i) {
                            findLastInstallment = selectedInstallmentByUser
                            select = true
                        }
                    } else if (i === 0 || item.recommended_message.includes("s/ juros")) {
                        findLastInstallment = i+1
                        select = true;
                    } else if (i === 11 && findLastInstallment === 0) {
                        select = true;
                    }

                    dataFieldinstallments += `<option ${select ? 'selected':''} value="${item.installments}">${item.recommended_message}</option>`

                })

                // If is less than 2 not is valid
                if (findLastInstallment === 0) {
                    form.card_installments = 12
                    findLastInstallment = 12
                } else {
                    form.card_installments = findLastInstallment
                }
                
                document.querySelector('#container-payment-card').querySelector('select[name="card_installments"]').innerHTML = dataFieldinstallments;
                if (document.querySelector('#container-payment-card').querySelector('select[name="card_installments"]').childNodes[findLastInstallment-1]) {
                    form.textButtonBuy = `<b>PAGAR </b>${document.querySelector('#container-payment-card').querySelector('select[name="card_installments"]').childNodes[findLastInstallment-1].textContent.replace('parcelas de', 'x').replace('*', '').replace('parcela de', 'x').split('(')[0]}`
                    document.querySelector('#container-payment-card').querySelector('#general-submit-button').innerHTML = form.textButtonBuy;
                    let last_installment_text = `<b>PAGAR </b>${document.querySelector('#container-payment-'+form.payment_method).querySelector('select[name="card_installments"]').childNodes[findLastInstallment-1].textContent.replace('parcelas de', 'x').replace('*', '').replace('parcela de', 'x').split('(')[0]}`
                    let event = new CustomEvent('update-installment-max-in-cart', {detail:last_installment_text.replace('<b>', '').replace('PAGAR', '').replace('</b>', '')})
                    window.dispatchEvent(event)
                }
            }, 500);
        }
        
        document.querySelectorAll('select[name="card_installments"]').forEach(item=>{
           item.addEventListener('change', ()=>{
                if (document.querySelector('#container-payment-'+form.payment_method).querySelector('select[name="card_installments"]').children[item.value-1]) {
                    form.textButtonBuy = `<b>PAGAR </b>${document.querySelector('#container-payment-'+form.payment_method).querySelector('select[name="card_installments"]').children[item.value-1].textContent.replace('parcelas de', 'x').replace('*', '').replace('parcela de', 'x').split('(')[0]}`
                    document.querySelectorAll('#general-submit-button').forEach(item=>{
                        item.innerHTML = form.textButtonBuy;
                    })
                    let event = new CustomEvent('update-installment-max-in-cart', {detail:form.textButtonBuy.replace('<b>PAGAR </b>', '')})
                    window.dispatchEvent(event)
                }
           })
        })
        function numberToReal(numero) {
            var numero = numero.toFixed(2).split('.');
            numero[0] = "R$ " + numero[0].split(/(?=(?:...)*$)/).join('.');
            return numero.join(',');
        }
        function mascara(o,f){
            v_obj=o
            v_fun=f
            execmascara()
        }
        function execmascara(){
            v_obj.value=v_fun(v_obj.value)

            // Call input event
            v_obj.dispatchEvent(new Event('masked'))
        }
        function leech(v){
            v=v.replace(/o/gi,"0")
            v=v.replace(/i/gi,"1")
            v=v.replace(/z/gi,"2")
            v=v.replace(/e/gi,"3")
            v=v.replace(/a/gi,"4")
            v=v.replace(/s/gi,"5")
            v=v.replace(/t/gi,"7")
            return v
        }
        function soNumeros(v){
            return v.replace(/\D/g,"")
        }
        function telefone(v){
            v=v.replace(/\D/g,"")                 //Remove tudo o que não é dígito
            v=v.replace(/^(\d\d)(\d)/g,"($1) $2") //Coloca parênteses em volta dos dois primeiros dígitos
            v=v.replace(/(\d{4})(\d)/,"$1-$2")    //Coloca hífen entre o quarto e o quinto dígitos
            return v
        }
        function cpf(v){
            v=v.replace(/\D/g,"")                    //Remove tudo o que não é dígito
            v=v.replace(/(\d{3})(\d)/,"$1.$2")       //Coloca um ponto entre o terceiro e o quarto dígitos
            v=v.replace(/(\d{3})(\d)/,"$1.$2")       //Coloca um ponto entre o terceiro e o quarto dígitos
                                                    //de novo (para o segundo bloco de números)
            v=v.replace(/(\d{3})(\d{1,2})$/,"$1-$2") //Coloca um hífen entre o terceiro e o quarto dígitos
            return v
        }
        function card(v){
            v=v.replace(/\D/g,"")                    //Remove tudo o que não é dígito
            v=v.replace(/(\d{4})(\d)/,"$1 $2")       //Coloca um ponto entre o terceiro e o quarto dígitos
            v=v.replace(/(\d{4})(\d)/,"$1 $2")       //Coloca um ponto entre o terceiro e o quarto dígitos
            v=v.replace(/(\d{4})(\d)/,"$1 $2")       //Coloca um ponto entre o terceiro e o quarto dígitos
            return v
        }
        function cep(v){
            v=v.replace(/D/g,"")                //Remove tudo o que não é dígito
            v=v.replace(/^(\d{5})(\d)/,"$1-$2") //Esse é tão fácil que não merece explicações
            return v
        }function soNumeros(v){
            return v.replace(/\D/g,"")
        }
        function telefone(v){
            v=v.replace(/\D/g,"")                 //Remove tudo o que não é dígito
            v=v.replace(/^(\d\d)(\d)/g,"($1) $2") //Coloca parênteses em volta dos dois primeiros dígitos
            v=v.replace(/(\d{5})(\d)/,"$1-$2")    //Coloca hífen entre o quarto e o quinto dígitos
            return v
        }
        function date(v) {
            v = v.replace(/\D/g, "");               // Remove tudo o que não é dígito
            v = v.replace(/^(\d{2})(\d)/, "$1/$2"); // Coloca uma barra entre o segundo e o terceiro dígitos
            return v;
        }
        function cpf(v){
            v=v.replace(/\D/g,"")                    //Remove tudo o que não é dígito
            v=v.replace(/(\d{3})(\d)/,"$1.$2")       //Coloca um ponto entre o terceiro e o quarto dígitos
            v=v.replace(/(\d{3})(\d)/,"$1.$2")       //Coloca um ponto entre o terceiro e o quarto dígitos
                                                    //de novo (para o segundo bloco de números)
            v=v.replace(/(\d{3})(\d{1,2})$/,"$1-$2") //Coloca um hífen entre o terceiro e o quarto dígitos
            return v
        }
        function mdata(v){
            v=v.replace(/\D/g,"");
            v=v.replace(/(\d{2})(\d)/,"$1/$2");
            v=v.replace(/(\d{2})(\d)/,"$1/$2");
            v=v.replace(/(\d{2})(\d{2})$/,"$1$2");
            return v;
        }
        function mcc(v){
            v=v.replace(/\D/g,"");
            v=v.replace(/^(\d{4})(\d)/g,"$1 $2");
            v=v.replace(/^(\d{4})\s(\d{4})(\d)/g,"$1 $2 $3");
            v=v.replace(/^(\d{4})\s(\d{4})\s(\d{4})(\d)/g,"$1 $2 $3 $4");
            return v;
        }
        function convertToReal(number) {
            if(Number.isNaN(number) || !number) return undefined;
            if(typeof number === "string") {
                number = Number(number);
            }
            let res;
            const config = {minimumFractionDigits: 2, maximumFractionDigits: 2 };
            res = number.toLocaleString('pt-BR', config)
            const needComma = number => number <= 1000;
            if(needComma(number)) {
                res = res.toString().replace(".", ",");
            }
            return res;
        }
        function getInterest (installment) {
            const paymentMethod = form.payment_method
            let interest = 0;
            let additional_interest_rate = parseFloat(document.querySelector('.box-payment[data-payment-code='+paymentMethod+']').getAttribute('data-additional-interest-rate'))
            let skip_interest = parseInt(document.querySelector('.box-payment[data-payment-code='+paymentMethod+']').getAttribute('data-skip-interest'))
            
            if (installment == 1) return window.Adoorei.data.cart_total
            if (additional_interest_rate) {
                const resultCalcInterest = calcInterest(window.Adoorei.data.cart_total, additional_interest_rate, installment, skip_interest)
                interest = resultCalcInterest.total
            }
            else {
                interest = window.Adoorei.data.cart_total
            }
            return interest
            }
            function calcInterest(amount, tax, time, skip = 1) {
                let result = {
                total: amount,
                parcel: amount,
                }
                if (time <= skip) return result
                let pv = amount;
                let i = (tax/100);
                let n = time;
                let p = pv * (((Math.pow((1 + i), n)) * i) / (Math.pow((1 + i), n) - 1));
                result.total = p * time
                result.parcel = p
                return {
                total: result.total,
                parcel: result.parcel,
                }
            }
            document.querySelectorAll('select[name="card_installments"]').forEach(item=>{
            
                item.addEventListener('change', function(e){
                    let additional_interest_rate = parseFloat(document.querySelector('.box-payment[data-payment-code='+window.form.payment_method+']').getAttribute('data-additional-interest-rate'))
                    
                    let skip_interest = parseInt(document.querySelector('.box-payment[data-payment-code='+window.form.payment_method+']').getAttribute('data-skip-interest'))
                    // if((parseInt(e.target.value) > skip_interest) && (e.target.value > 1) && (additional_interest_rate > 0))
                    //     document.querySelector('#container-payment-'+form.payment_method).querySelector('.installments-details').innerText = '* acréscimo de ' + additional_interest_rate + '% ao mês.'
                    // else
                    //     document.querySelector('#container-payment-'+form.payment_method).querySelector('.installments-details').innerText = ''
                });
            
            });
            window.addEventListener('update-installment-max-in-cart', function(e){
                if(window.form && window.form.payment_method) {
                    let additional_interest_rate = parseFloat(document.querySelector('.box-payment[data-payment-code='+window.form.payment_method+']').getAttribute('data-additional-interest-rate'))
                    
                    let skip_interest = parseInt(document.querySelector('.box-payment[data-payment-code='+window.form.payment_method+']').getAttribute('data-skip-interest'))
                    let card_installments = parseInt(window.form.card_installments)
                    
                    // if((card_installments > skip_interest) && (card_installments > 1) && (additional_interest_rate > 0))
                    //     document.querySelector('#container-payment-'+form.payment_method).querySelector('.installments-details').innerText = '* acréscimo de ' + additional_interest_rate + '% ao mês.'
                    // else
                    //     document.querySelector('#container-payment-'+form.payment_method).querySelector('.installments-details').innerText = ''
                }
            })

            window.addEventListener('updated_total_cart', function(e){
                document.querySelectorAll('#card-input').forEach(item=>{
					if((form.payment_method == 'credit_card_efi')){
                        installmentsGN()
                    }
                    else if((form.payment_method == 'mercadopago_card' || form.payment_method == 'card')){
                        installmentsMP()
                    }else{
                        if(document.querySelector('#container-payment-'+form.payment_method) && document.querySelector('#container-payment-'+form.payment_method).querySelector('select[name="card_installments"]')) {
                            if (document.querySelector('#container-payment-'+form.payment_method).querySelectorAll('select[name="card_installments"] option').length == 0) {
                                const findLastInstallment = getPreSelectInstallment()
                                document.querySelector('#container-payment-'+form.payment_method).querySelector('select[name="card_installments"]').innerHTML = installments();
                                if (document.querySelector('#container-payment-'+form.payment_method).querySelector('select[name="card_installments"]').childNodes[findLastInstallment-1]) {
                                    form.textButtonBuy = `<b>PAGAR </b>${document.querySelector('#container-payment-'+form.payment_method).querySelector('select[name="card_installments"]').childNodes[findLastInstallment-1].textContent.replace('parcelas de', 'x').replace('*', '').replace('parcela de', 'x').split('(')[0]}`
                                    form.card_installments = document.querySelector('#container-payment-'+form.payment_method).querySelector('select[name="card_installments"]').childNodes[findLastInstallment-1].value
                                    document.querySelectorAll('#container-payment-'+form.payment_method).forEach(item=>{
                                        item.querySelectorAll('#general-submit-button').forEach(btn=>{
                                            btn.innerHTML = form.textButtonBuy;
                                        })
                                    })
                                    let event = new CustomEvent('update-installment-max-in-cart', {detail:form.textButtonBuy.replace('<b>PAGAR </b>', '')})
                                    window.dispatchEvent(event)
                                }
                            } else {
                                updateInstallmentsValues();

                                let findLastInstallment = document.getElementById(form.payment_method+'-box-credit').querySelector('select[name="card_installments"]').value

                                if (document.querySelector('#container-payment-'+form.payment_method).querySelector('select[name="card_installments"]').childNodes[findLastInstallment-1]) {
                                    form.textButtonBuy = `<b>PAGAR </b>${document.querySelector('#container-payment-'+form.payment_method).querySelector('select[name="card_installments"]').childNodes[findLastInstallment-1].textContent.replace('parcelas de', 'x').replace('*', '').replace('parcela de', 'x').split('(')[0]}`
                                    form.card_installments = document.querySelector('#container-payment-'+form.payment_method).querySelector('select[name="card_installments"]').childNodes[findLastInstallment-1].value
                                    document.querySelectorAll('#container-payment-'+form.payment_method).forEach(item=>{
                                        item.querySelectorAll('#general-submit-button').forEach(btn=>{
                                            btn.innerHTML = form.textButtonBuy;
                                        })
                                    })
                                    let event = new CustomEvent('update-installment-max-in-cart', {detail:form.textButtonBuy.replace('<b>PAGAR </b>', '')})
                                        window.dispatchEvent(event)
                                }
                            }
                        }
                    }
                })
            })
    </script>
    <script>
        // ===============================================
        // =========== SET PAYMENT METHOD PIX ============
        // ===============================================
        function setPaymentMethodPix(data) {

            // Altera a cor da borda
            document.querySelectorAll('.box-payment').forEach(item => {
                item.style.borderColor = '#d0d0d0'

                                    item.style.backgroundColor = 'transparent'
                            })

            // Altera a borda
            document.querySelectorAll('#' + data + '-box-pix').forEach(item => {
                item.style.borderColor = 'black'

                                    item.style.backgroundColor = '#f5f6f8'
                            })

            // Esconde o interior do método de pagamento
            document.querySelectorAll('.content_payment_method').forEach(item => {
                item.style.display = 'none'
            })

            // Desabilita todos os radios selecionados
            document.querySelectorAll(`.radios-payment-methods`).forEach(item => {
                item.classList.remove('custom-radio-active')
            })

            // Habilita o radio selecionado
            document.querySelectorAll(`#${data}_radio`).forEach(item => {
                item.classList.add('custom-radio-active')
            })

            // Adiciona ao formulário a data
            window.form.payment_method = data

            document.querySelector(`#container-payment-${window.form.payment_method}`).style.display = ''
            form.textButtonBuy = `<b>PAGAR R$ ${formatNumber(window.Adoorei.data.cart_total, 2, ',',' ') }</b>`
            document.querySelector('#container-payment-' + form.payment_method).querySelector('#general-submit-button')
                .innerHTML = form.textButtonBuy;

            // Envia o evento de update
            let event = new CustomEvent('update-method-payment', {
                detail: {
                    method_selected: window.form.payment_method
                }
            });
            window.dispatchEvent(event);
        }

        window.addEventListener('updated_total_cart', function(e) {
            if (document.querySelector(`#container-payment-${window.form.payment_method}`)) {
                document.querySelector(`#container-payment-${window.form.payment_method}`).style.display = ''

                if (window.form.payment_method == 'pix' || window.form.payment_method.includes('pix')) {
                    form.textButtonBuy =
                        `<b>PAGAR R$ ${formatNumber(window.Adoorei.data.cart_total, 2, ',',' ') }</b>`

                    document.querySelector('#container-payment-' + form.payment_method).querySelector(
                            '#general-submit-button')
                        .innerHTML = form.textButtonBuy;
                }
            }
        })
    </script>
    <script>
        loadButtonsIncrement = false

        function incrementProduct(id) {
            if (loadButtonsIncrement) return;
            loadButtonsIncrement = true

            document.querySelectorAll("#lineItem_" + id).forEach(item => {
                item.style.opacity = '0.3'
            })

            fetch(`/increment-item-cart/${window.Adoorei.data.cart_token}/${id}`, {
                headers: new Headers({
                    'content-type': 'application/json',
                    'accept': 'application/json',
                    'X-CSRF-TOKEN': document.querySelector('input[name="_token"]').value
                }),
                method: 'put',
            }).then(r => {
                r.json().then(r2 => {
                    window.Adoorei.data.cart_items = r2
                    if (window.Adoorei.data.cart_items && Array.isArray(window.Adoorei.data.cart_items)) {
                        let itemProduct = window.Adoorei.data.cart_items.filter(item => item.id == id)

                        //emitir evento para atualizar a lista de frete
                        let event_update_shipping_methods = new CustomEvent('update_shipping_methods', {
                            detail: 'ok'
                        });

                        window.dispatchEvent(event_update_shipping_methods);

                        document.querySelectorAll('#product-item-' + id).forEach(item => {
                            item.querySelectorAll('#price-unit-product').forEach(item2 => {
                                item2.textContent = 'R$ ' + formatNumber((itemProduct[0]
                                        .quantity * itemProduct[0].price) / 100, 2, ',',
                                    '.')
                            })
                            item.querySelectorAll('.discont-price-unit-product').forEach(item2 => {
                                item2.textContent = 'R$' + formatNumber((itemProduct[0]
                                        .original_price * itemProduct[0].quantity) /
                                    100, 2, ",", ".").toString()
                            })
                        })

                        calcTotalProducts()
                        addCupom()
                    }
                })
                loadButtonsIncrement = false
                let quantity = parseInt(document.querySelector("#lineItem_" + id).querySelector('span')
                    .textContent) + 1
                document.querySelectorAll("#lineItem_" + id).forEach(item => {
                    item.style.opacity = '1'
                    item.querySelector('span').innerHTML = quantity
                })



            })
        }

        function decrementProduct(id) {
            if (loadButtonsIncrement) return;
            if (parseInt(document.querySelector("#lineItem_" + id).querySelector('span').textContent) <= 1) return
            loadButtonsIncrement = true
            document.querySelectorAll("#lineItem_" + id).forEach(item => {
                item.style.opacity = '0.3'
            })

            fetch(`/decrement-item-cart/${window.Adoorei.data.cart_token}/${id}`, {
                headers: new Headers({
                    'content-type': 'application/json',
                    'accept': 'application/json',
                    'X-CSRF-TOKEN': document.querySelector('input[name="_token"]').value
                }),
                method: 'put',
            }).then(r => {
                r.json().then(r2 => {
                    window.Adoorei.data.cart_items = r2
                    if (window.Adoorei.data.cart_items && Array.isArray(window.Adoorei.data.cart_items)) {
                        let itemProduct = window.Adoorei.data.cart_items.filter(item => item.id == id)

                        //emitir evento para atualizar a lista de frete
                        let event_update_shipping_methods = new CustomEvent('update_shipping_methods', {
                            detail: 'ok'
                        });

                        window.dispatchEvent(event_update_shipping_methods);

                        document.querySelectorAll('#product-item-' + id).forEach(item => {
                            item.querySelectorAll('#price-unit-product').forEach(item2 => {
                                item2.textContent = 'R$ ' + formatNumber((itemProduct[0]
                                        .quantity * itemProduct[0].price) / 100, 2, ',',
                                    '.')
                            })

                            item.querySelectorAll('.discont-price-unit-product').forEach(item2 => {
                                item2.textContent = 'R$' + formatNumber((itemProduct[0]
                                        .original_price * itemProduct[0].quantity) /
                                    100, 2, ",", ".").toString()
                            })
                        })


                        calcTotalProducts()
                        addCupom()
                    }
                })
                loadButtonsIncrement = false
                let quantity = parseInt(document.querySelector("#lineItem_" + id).querySelector('span')
                    .textContent) - 1
                document.querySelectorAll("#lineItem_" + id).forEach(item => {
                    item.style.opacity = '1'
                    item.querySelector('span').innerHTML = quantity
                })
            })
        }

        function removeProduct(id) {
            loadFullScreen()
            if (loadButtonsIncrement) return;
            loadButtonsIncrement = true;

            fetch(`/remove-item-cart/${window.Adoorei.data.cart_token}/${id}`, {
                    headers: new Headers({
                        'content-type': 'application/json',
                        'accept': 'application/json',
                        'X-CSRF-TOKEN': document.querySelector('input[name="_token"]').value
                    }),
                    method: 'put',
                }).then(r => {
                    r.json().then(r2 => {

                        if (r.status.toString()[0] == 4) {
                            barBottomError('Erro: Este item não pode ser removido do carrinho!')
                        } else if (r.status.toString()[0] == 5) {
                            window.Adoorei.data.cupom_discount = r2.discount

                            barBottomError('Ocorreu um erro no sistema!')
                        } else if (r.status.toString()[0] == 2) {
                            if (typeof is_google_analytics != "undefined") {
                                let itemProduct = window.Adoorei.data.cart_items.filter(item => item.id == id)

                                gtag("event", "remove_from_cart", {
                                    currency: "BRL",
                                    value: itemProduct[0].price,
                                    items: items
                                });
                            }

                            window.Adoorei.data.cart_items = r2

                            renderlistCartProducts()

                            // If have order bump
                            if (typeof updateStatusOrderBumps !== "undefined") {
                                updateStatusOrderBumps()
                            }

                            //emitir evento para atualizar a lista de frete
                            let event_update_shipping_methods = new CustomEvent('update_shipping_methods', {
                                detail: 'ok'
                            });

                            window.dispatchEvent(event_update_shipping_methods);

                            document.querySelectorAll("#product-item-" + id).forEach(item => {
                                item.remove();
                            })
                        }

                    })

                    loadButtonsIncrement = false


                })
                .finally(() => {
                    loadFullScreen(false)
                })
        }

        function addCupom(codeCupom = '') {
            if (!codeCupom.length) {
                code = ''
                document.querySelectorAll('#code-cupom-input').forEach(item => {
                    if (item.value.length) {
                        code = item.value
                    }
                })

                if (!code.length) return

            } else {
                code = codeCupom
                document.querySelectorAll('#code-cupom-input').forEach(item => {
                    item.value = codeCupom

                                    })
            }

            loadFullScreen()

            fetch(`/cupom/${code}`, {
                    headers: new Headers({
                        'content-type': 'application/json',
                        'accept': 'application/json',
                        'X-CSRF-TOKEN': document.querySelector('input[name="_token"]').value
                    }),
                    method: 'get',
                }).then(r => {
                    r.json().then(r2 => {

                        if (r.status.toString()[0] == 2) {
                            window.form.coupon = code


                            let result = 0
                            window.Adoorei.data.cart_items.map(item => {
                                result = result + item.final_price * item.quantity
                            })

                            if (r2.discount_in_percent) {

                                window.Adoorei.data.cupom_discount = (result / 100) * r2.discount
                            } else {
                                window.Adoorei.data.cupom_discount = (100 * r2.discount)
                            }

                            if (typeof google_analytics4_cupom_desconto != "undefined") {
                                google_analytics4_cupom_desconto = code;
                            }

                            calcTotalProducts()

                            barBottomSuccess('Cupom Aplicado com sucesso!')

                            if (typeof is_google_analytics != "undefined") {
                                gtag("event", "promocode_created", {
                                    cart_coupon: google_analytics4_cupom_desconto,
                                    cupom_value: window.Adoorei.data.cupom_discount / 100,
                                });
                            }
                        }

                        if (r.status.toString()[0] == 4) {
                            window.form.coupon = null
                            window.Adoorei.data.cupom_discount = (r2.discount === 'undefined' ? 0 : r2.discount)

                            calcTotalProducts()

                            barBottomError('Cupom inválido')

                            if (typeof is_google_analytics != "undefined") {
                                gtag("event", "promocode_deleted", {
                                    cart_coupon: google_analytics4_cupom_desconto,
                                    cupom_value: window.Adoorei.data.cupom_discount / 100,
                                });
                            }
                        }

                        if (r.status.toString()[0] == 5) {
                            window.form.coupon = null
                            window.Adoorei.data.cupom_discount = (r2.discount === 'undefined' ? 0 : r2.discount)

                            calcTotalProducts()

                            barBottomError('Ocorreu um erro no sistema!')

                            if (typeof is_google_analytics != "undefined") {
                                gtag("event", "promocode_deleted", {
                                    cart_coupon: google_analytics4_cupom_desconto,
                                    cupom_value: window.Adoorei.data.cupom_discount / 100,
                                });
                            }
                        }


                    })

                })
                .finally(() => {
                    loadFullScreen(false)
                })

        }



        function calcSubtotalProducts() {
            let result = 0
            window.Adoorei.data.cart_items.map(item => {
                result = result + item.final_price * item.quantity
            })

            document.querySelectorAll('#subtotal-products').forEach(item => {
                item.textContent = 'R$ ' + formatNumber(result / 100, 2, ',', '.')
            })

            let discount_billet = window.form.payment_method.indexOf('bol') != -1 || window.form.payment_method.indexOf(
                    'billet') != -1 || window.form.payment_method.indexOf('ticket') != -1 ? (result / 100) * window.Adoorei
                .data.discount_billet || 0 : 0
            let discount_credit_card = window.form.payment_method.indexOf('card') != -1 ? (result / 100) * window.Adoorei
                .data.discount_credit_card || 0 : 0
            let discount_debit_card = window.form.payment_method.indexOf('debit') != -1 ? (result / 100) * window.Adoorei
                .data.discount_debit_card || 0 : 0
            let discount_pix = window.form.payment_method.indexOf('pix') != -1 ? (result / 100) * window.Adoorei.data
                .discount_pix || 0 : 0

            let discount_ranges = window.Adoorei.data.discount_ranges.filter(range => {
                return (range.min_amount <= (result / 100) && (range.max_amount >= (result / 100)))
            })

            let discount_range_value = 0

            window.Adoorei.data.cart_items.forEach(item => {

                let discount = discount_ranges.find(discount => {
                    return discount.products.find(product => product.external_reference == item
                        .product_id) || discount.categories.find(category => category.products.find(
                        product => product.external_reference == item.product_id))
                })

                if (!discount) discount = discount_ranges.find(discount => !discount.products.length)

                if (discount) {
                    item_total = item.price * item.quantity
                    discount_range_value += item_total * (discount.discount / 100)
                }
            });

            let discount_total = (window.Adoorei.data.cupom_discount || 0) + discount_billet + discount_credit_card +
                discount_debit_card + discount_pix + discount_range_value;

            result = result - discount_total

            calcDiscounts(discount_total)

            return result
        }

        window.addEventListener('updated_shipping_price', data => {


            calcTotalProducts()

        })

        window.addEventListener('update-installment-max-in-cart', function(e) {
            document.querySelectorAll('.element-max-installments-products').forEach(item => {
                if (window.form.payment_method.indexOf('card') != -1) {
                    item.style.display = ''
                    document.querySelectorAll('#max-installments-products').forEach(item2 => {
                        item2.textContent = e.detail
                    })
                } else {
                    item.style.display = 'none'
                }

            })

            //calcTotalProducts()
        })

        window.addEventListener('update-method-payment', function(data) {

            document.querySelectorAll('.element-max-installments-products').forEach(item => {
                if (window.form.payment_method.indexOf('card') != -1 && window.form.card_installments > 1) {
                    item.style.display = ''
                } else {
                    item.style.display = 'none'
                }

            })

            calcTotalProducts()
        })


        window.addEventListener('apply_cupom_code_first_buy', data => {
            addCupom(data.detail.cupom)
        })



        function calcDiscounts(data) {
            document.querySelectorAll('#discounts-total-products').forEach(item => {
                item.textContent = formatNumber((data / 100), 2, ',', '.')
            })
        }

        function calcTotalProducts() {
            if (!window.form) return
            let priceShipping = window.Adoorei.data.shipping_methods.filter(item => item.id == window.form
                .shipping_method_id)

            if (priceShipping.length) {
                priceShipping = priceShipping[0].price
            } else {
                priceShipping = 0
            }

            if (typeof google_analytics4_price_shipping != "undefined") {
                google_analytics4_price_shipping = priceShipping;
            }

            document.querySelectorAll('#total-products').forEach(item => {
                item.textContent = 'R$ ' + formatNumber((calcSubtotalProducts() + priceShipping * 100) / 100, 2,
                    ',', '.')
            })

            window.Adoorei.data.cart_total = (calcSubtotalProducts() + priceShipping * 100) / 100


            let event = new CustomEvent('updated_total_cart')

            window.dispatchEvent(event)
            /*
            			let event = new CustomEvent('shipping_update', {
            				detail: {
            					shipping: (calcSubtotalProducts() + priceShipping*100)/100
            				}
            			});              

            			window.dispatchEvent(event);*/
        }

        function renderlistCartProducts() {
            let data = ``

            window.Adoorei.data.cart_items.forEach(item => {
                                    const image_pieces = item.image.split('.jpg')
                    const image_optimized = image_pieces[0] + '_60x60.jpg'
                                data += `<div class="flex list-products" id="product-item-${item.id}" data-orderbump-id="${item.bump_id ? item.bump_id :  ''}" style="gap:15px;border-bottom:1px solid #eee;padding-bottom:15px;padding-top:15px;">
                                <div style = "flex-shrink: 0"><img class="rounded cart-product-image" src="${image_optimized}" alt="${item.title}" /></div>
                                <div class="flex flex-col" style="flex-grow:1; gap:5px;font-weight:400;font-size:13px;color:#666666;width:100%;">
                                    <span class="flex justify-between" >
                                    <span class = "cart-product-title" style="word-break: break-word">${item.title}</span>
                                    </span>
                                    <small class = "cart-product-variant-title" style="word-break: break-word">${(item.variant_title || '').toLowerCase() != 'default title' ? item.variant_title : ''}</small>
                                    ${item.original_price !== item.price ? '<small class="discont-price-unit-product" style="word-break: break-word;text-decoration: line-through;">R$' + formatNumber((item.original_price * item.quantity) / 100, 2, ",", ".").toString() + '</small>' : ''}
                                    <span ><span id="price-unit-product"> R$ ${formatNumber((item.price * item.quantity/100), 2, ',', '.')}</span></span>

                                    <div id="lineItem_${item.id}" class="flex items-center justify-between rounded line-item-container" style="border:1px solid #e7e7e7;padding:5px;">
                                        <svg onclick="decrementProduct('${item.id}')" width="15" style="color:#b6b2b2;font-weight:700;cursor:pointer;" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4" />
                                        </svg>
                                        <span style="font-weight:700;">${item.quantity}</span>
                                        <svg onclick="incrementProduct('${item.id}')" width="15" style="color:#b6b2b2;font-weight:700;cursor:pointer;" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                                        </svg>
                                    </div>
                                </div>
                                <div style="flex-shrink: 0; color: #666666;">
                                <svg onclick="removeProduct('${item.id}')" width="20" height="20" xmlns="http://www.w3.org/2000/svg" style="cursor:pointer;" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                        </svg>
                                </div>
                            </div>`
            })

            document.querySelectorAll('#content-list-products').forEach(item => {
                item.innerHTML = data
            })

            document.querySelectorAll('#subtotal-products').forEach(item => {
                item.textContent = 'R$ ' + formatNumber(calcSubtotalProducts() / 100, 2, ',', '.')
            })

            calcTotalProducts()
            addCupom()

        }

        document.addEventListener('DOMContentLoaded', function() {
            calcTotalProducts();
        }, false);
    </script>
    <script>
        async function applyCashback() {
            const response = await fetch('/valid-cashback', {
                method: 'POST',
                headers: new Headers({
                    'accept': 'application/json',
                    'Content-Type': 'application/json',
                }),
                body: JSON.stringify({
                    email: form.email,
                    cashback_token: window.Adoorei.data.cashback_token,
                    cart_token: window.Adoorei.data.cart_token
                })
            })
            // Transforma a resposta em JSON
            const data = await response.json();

            if (response.status === 200) {
                let event = new CustomEvent('apply_cupom_code_first_buy', {
                    detail: {
                        cupom: data.code
                    }
                })
                window.dispatchEvent(event)
                closeModalCashbackAvaliable()
            } else {
                document.getElementById('modal-cashback-avaliable').classList.add('shake');

                setTimeout(() => {
                    document.getElementById('modal-cashback-avaliable').classList.remove('shake');
                }, 500);

                barBottomError('Infelizmente, não conseguimos recuperar o seu cashback neste momento.');
            }

        }

        function closeModalCashbackAvaliable() {
            document.querySelector('#modal-cashback-avaliable').style.display = 'none'
        }

        window.addEventListener('updated_cashback_cart', function(e){
            if (e.detail.token && e.detail.amount && e.detail.amount_cart) {
                window.Adoorei.data.cashback_token = e.detail.token
                if (e.detail.amount <= e.detail.amount_cart) {
                    document.querySelector('#modal-cashback-avaliable #cashback_default #cashback-amount').innerHTML = e.detail.amount.toFixed(2)
                } else {
                    document.querySelector('#modal-cashback-avaliable #cashback-amount').innerHTML = e.detail.amount.toFixed(2)
                    document.querySelector('#modal-cashback-avaliable').innerHTML = e.detail.amount_cart.toFixed(2)
                    document.querySelector('#modal-cashback-avaliable').innerHTML = e.detail.amount_cart.toFixed(2)
                    document.querySelector('#modal-cashback-avaliable #diff-amount').innerHTML = (e.detail.amount - e.detail.amount_cart).toFixed(2)
                    document.querySelector('#modal-cashback-avaliable').style.display = 'flex'
                }

            }
        })
    </script>
    <script>
        // ===============================================
        // ================== SO NUMEROS =================
        // ===============================================
        function soNumeros(v) {
            `
            Função responsável por retornar apenas os números do campo.
            `

            return v.replace(/\D/g, "")
        }

        // ===============================================
        // ==================== CEP ======================
        // ===============================================
        function cep(v) {
            `
            Função responsável por formatar o campo em formato de CEP.
            
            Inputs:
            v = Valor do campo.
            
            Retorno:
            Retorna o valor do campo formatado.
            `

            v = soNumeros(v)
            v = v.replace(/^(\d{5})(\d)/, "$1-$2")
            return v
        }

        // ===============================================
        // =================== TELEFONE ==================
        // ===============================================
        function telefone(v) {
            `
            Função responsável por formatar em formato de telefone.
            
            Inputs:
            v(string)    # Texto a ser formatado.

            Retorno:
            string        # Texto formatado.
            `

            // Remove tudo o que não é dígito
            v = v.replace(/\D/g, "")

            // Coloca parênteses em volta dos dois primeiros dígitos
            v = v.replace(/^(\d\d)(\d)/g, "($1) $2")

            // Coloca hífen entre o quarto e o quinto dígitos
            v = v.replace(/(\d{5})(\d)/, "$1-$2")
            return v
        }

        // ===============================================
        // ===================== CPF =====================
        // ===============================================
        function cpf(v) {
            `
            Função responsável por formatar em formato de CPF.

            Inputs:
            v(string)    # Texto a ser formatado.

            Retorno:
            string        # Texto formatado.
            `
            // Remove tudo o que não é dígito
            v = v.replace(/\D/g, "")

            // Coloca um ponto entre o terceiro e o quarto dígitos
            v = v.replace(/(\d{3})(\d)/, "$1.$2")

            // Coloca um ponto entre o terceiro e o quarto dígitos
            v = v.replace(/(\d{3})(\d)/, "$1.$2")

            // Coloca um hífen entre o terceiro e o quarto dígitos
            v = v.replace(/(\d{3})(\d{1,2})$/, "$1-$2")
            return v
        }

        // ===============================================
        // ============== LOAD FULL SCREEN ===============
        // ===============================================
        function loadFullScreen(open = true) {
            `
            Função responsável por carregar o loading em full screen,
            não permitindo qualquer outra ação do usuário.

            Inputs:
            open(boolean)   # Se deve ou não abrir o loading.

            Returns válidos:
            Nenhum.
            `

            document.querySelector('#load-full-screen').style.display = open ? 'flex' : 'none'
            document.querySelector('body').style.overflowY = open ? 'hidden' : 'auto'
        }

        // ===============================================
        // ============== BAR BOTTOM ERROR ===============
        // ===============================================
        function barBottomError(text) {
            `
            Função responsável por exibir a barra de erro, com o
            texto recebido e após 10 segundos, fecha a barra.
            
            Inputs:
            text(string)   # Texto a ser exibido na barra.

            Returns válidos:
            Nenhum.
            `

            detect_input_by_msg(text);
            document.querySelector('#bar-bottom-error').style.display = 'flex';
            document.querySelector('#bar-bottom-error').style.backgroundColor = '#ff4d4d';
            document.querySelector('#bar-bottom-error-content').innerHTML = text;

            setTimeout(() => {
                barBottomErrorClose()
            }, 10000)
        }

        // ===============================================
        // ============= BAR BOTTOM SUCCESS ==============
        // ===============================================
        function barBottomSuccess(text) {
            `
            Função responsável por exibir a barra de sucesso, com o
            texto recebido e após 10 segundos, fecha a barra.
            
            Inputs:
            text(string)   # Texto a ser exibido na barra.

            Returns válidos:
            Nenhum.
            `

            document.querySelector('#bar-bottom-error').style.display = 'flex';
            document.querySelector('#bar-bottom-error').style.backgroundColor = '#349f2e';
            document.querySelector('#bar-bottom-error-content').innerHTML = text;

            setTimeout(() => {
                barBottomErrorClose()
            }, 10000)
        }

        // Limita o máximo de caracteres do campo em todos os inputs
        document.querySelectorAll('#modal-autofill-container #modal-autofill-code-container input').forEach(input => {
            if (input.hasAttribute('maxlength')) {
                input.addEventListener('input', () => {
                    if (input.value.length > input.getAttribute('maxlength')) {
                        input.value = input.value.slice(0, input.getAttribute('maxlength'))
                    }
                })
            }
        })

        function resendTokenBtnHide(seconds) {
            document.getElementById('modal-autofill-send-code-btn').style.display = 'none';

            setTimeout(() => {
                document.getElementById('modal-autofill-send-code-btn').style.display = 'flex';
            }, seconds * 1000);
        }

        function closeModalAutofill() {
            openModalAutofill(false);

            // Desmarca o opt-in para salvar os dados do usuário
            document.getElementById('opt_in').checked = false;
        }

        // Ao preencher o input de código, o foco é passado para o próximo input
        function focusNextInputAutofill() {
            let inputs = document.querySelectorAll('#modal-autofill-code-container input');
            let currentInput = document.activeElement;

            if (currentInput.value.length == 1) {
                let nextInput = currentInput.nextElementSibling;
                if (nextInput) {
                    nextInput.focus();
                }
            }
        }

        // Ao apertar o backspace, o foco é passado para o input anterior
        function focusPreviousInputAutofill(e) {
            let inputs = document.querySelectorAll('#modal-autofill-code-container input');
            let currentInput = document.activeElement;

            if (e.keyCode == 8 && currentInput.value.length == 0) {
                let previousInput = currentInput.previousElementSibling;
                if (previousInput) {
                    previousInput.focus();
                }
            }
        }

        // Adiciona função de foco nos inputs de código
        function addFocusFunctionAutofill() {
            let inputs = document.querySelectorAll('#modal-autofill-code-container input');

            inputs.forEach((input) => {
                input.addEventListener('keydown', focusNextInputAutofill);
                input.addEventListener('keydown', focusPreviousInputAutofill);
            });
        }
        addFocusFunctionAutofill()

        // Função para abrir e fechar o modal de autofill
        function openModalAutofill(abrir) {
            if (abrir) {
                document.getElementById('modal-autofill-container').style.display = 'flex';

                // Bloqueia o scroll da página
                document.querySelector('body').style.overflowY = 'hidden';
            } else {
                document.getElementById('modal-autofill-container').style.display = 'none';

                // Desbloqueia o scroll da página
                document.querySelector('body').style.overflowY = 'auto';
            }
        }

        // Event
        window.addEventListener('modal-autofill', async function(e) {
            // Só pode abrir se os campos estiverem vazios
            if ((form.first_name && form.doc && form.phone) || !form.opt_in || continue_checkout) {
                return;
            }

            if (/^(([\w\.\-]{3,})+)@([\w\-]+)((\.(\w){2,})+)$/.test(e.detail)) {
                // Mostra o loader
                loadFullScreen(true);

                // Busca os dados do usuário
                try {
                    const response = await fetch('/check-mail', {
                        method: 'POST',
                        headers: new Headers({
                            'Accept': 'application/json',
                            'Content-Type': 'application/json',
                        }),
                        body: JSON.stringify({
                            email: e.detail,
                            shop_name: "MegaMart Brasil"
                        })
                    })

                    // Se os dados do usuário foram encontrados
                    if (response.status === 200) {
                        const data = await response.json();

                        // Altera o nome do usuário no modal
                        document.getElementById('modal-autofill-name').innerHTML = data.first_name;

                        // Altera o telefone do usuário no modal
                        document.getElementById('modal-autofill-description-number').innerHTML = data.phone;

                        // Exibe
                        openModalAutofill(true);

                        // Focus no primeiro input
                        document.getElementById('modal-autofill-code-container').children[0].focus();

                        // Reativa o botão de enviar código após 60 segundos
                        resendTokenBtnHide(60);
                    }
                    // Esconde o loader
                    loadFullScreen(false)
                } catch (e) {
                    console.log(e)

                    // Esconde o loader
                    loadFullScreen(false)
                }
            }
        })

        async function resendToken() {
            // Mostra o loader
            loadFullScreen(true);

            // Busca os dados do usuário
            try {
                const data = await fetch('/check-mail', {
                    method: 'POST',
                    headers: {
                        'Accept': 'application/json',
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        email: form.email,
                        cart_token: window.Adoorei.data.cart_token
                    })
                });

                // Se os dados do usuário foram encontrados
                if (data.status === 200) {
                    resendTokenBtnHide(60);
                    barBottomSuccess('Código reenviado com sucesso!');
                }
                // Esconde o loader
                loadFullScreen(false)
            } catch (e) {
                console.log(e)

                // Esconde o loader
                loadFullScreen(false)
            }
        }

        async function validateToken() {
            // Pega os inputs de código
            let inputs = document.querySelectorAll('#modal-autofill-code-container input');
            let token = '';
            inputs.forEach((input) => {
                token += input.value;
            });

            // Mostra o loader
            loadFullScreen(true);

            // Check se o token é válido
            try {
                const response = await fetch('/check-token', {
                    method: 'POST',
                    headers: new Headers({
                        'accept': 'application/json',
                        'Content-Type': 'application/json',
                    }),
                    body: JSON.stringify({
                        email: form.email,
                        token: token,
                        cart_token: window.Adoorei.data.cart_token
                    })
                })

                // Se os dados do usuário foram encontrados
                if (response.status === 200) {
                    // Make the request on customers endpoint
                    const customersResponse = await fetch(`https://customers.adoorei.com.br/api/person/${form.email}`, {
                        method: 'GET',
                        headers: new Headers({
                            'Accept': 'application/json',
                            'Content-Type': 'application/json',
                        })
                    })

                    if (customersResponse.status == 200) {
                        // Transforma a resposta em JSON
                        const res = await customersResponse.json();
                        const data = res[0];

                        // Fecha o modal
                        openModalAutofill(false);

                        // Atualiza o valor dos inputs
                        document.querySelector('input[name="first_name"]').value = data.first_name
                        window.form.first_name = data.first_name
                        document.querySelector('input[name="doc"]').value = cpf(data.doc)
                        window.form.doc = cpf(data.doc)
                        document.querySelector('input[name="phone"]').value = telefone(data.phone)
                        window.form.phone = telefone(data.phone)
                        if (document.querySelectorAll('input[name="birthday"]').length > 0 && data.birthday) {
                            document.querySelector('input[name="birthday"]').value = data.birthday.split(" ")[0]
                            window.form.birthday = data.birthday
                        }
                        if (document.querySelectorAll('select[name="sex"]').length > 0 && data.sex) {
                            document.querySelector('select[name="sex"]').value = data.sex
                            window.form.sex = data.sex
                        }
                        document.querySelector('input[name="postal_code"]').value = cep(data.location.postal_code)
                        window.form.postal_code = cep(data.location.postal_code)
                        document.querySelector('input[name="address_number"]').value = data.location.address_number
                        window.form.address_number = data.location.address_number
                        document.querySelector('input[name="address_line_2"]').value = data.location.address_line_2
                        window.form.address_line_2 = data.location.address_line_2

                        // Valida os campos
                        validateInput(document.querySelector('input[name="first_name"]'))
                        document.querySelector('input[name="first_name"]').dispatchEvent(new Event('focus'));
                        validateInput(document.querySelector('input[name="doc"]'))
                        document.querySelector('input[name="doc"]').dispatchEvent(new Event('focus'));
                        validateInput(document.querySelector('input[name="phone"]'))
                        document.querySelector('input[name="phone"]').dispatchEvent(new Event('focus'));
                        if (document.querySelectorAll('input[name="birthday"]').length > 0) {
                            validateInput(document.querySelector('input[name="birthday"]'))
                            document.querySelector('input[name="birthday"]').dispatchEvent(new Event('focus'));
                        }
                        if (document.querySelectorAll('select[name="sex"]').length > 0) {
                            validateInput(document.querySelector('select[name="sex"]'))
                            document.querySelector('select[name="sex"]').dispatchEvent(new Event('focus'));
                        }
                        // Simula input event
                        document.querySelector('input[name="postal_code"]').dispatchEvent(new Event('input'));

                        // If is three steps
                        if (typeof addressValidated !== 'undefined') {
                            addressValidated = true;
                        }

                        // Valida os campos
                        validateInput(document.querySelector('input[name="postal_code"]'))
                        document.querySelector('input[name="postal_code"]').dispatchEvent(new Event('focus'));
                        validateInput(document.querySelector('input[name="address_number"]'))
                        document.querySelector('input[name="address_number"]').dispatchEvent(new Event('focus'));
                        validateInput(document.querySelector('input[name="address_line_2"]'))
                        document.querySelector('input[name="address_line_2"]').dispatchEvent(new Event('focus'));
                    }

                    if (data.cashback) {
                       let event = new CustomEvent('updated_cashback_cart',
                           {detail: {token: data.cashback.token, amount: data.cashback.amount, amount_cart: data.cashback.amount_cart}})
                        document.querySelector('#modal-cashback-avaliable').style.display = 'flex';
                        window.dispatchEvent(event)
                    }
                } else {
                    document.getElementById('modal-autofill').classList.add('shake');

                    setTimeout(() => {
                        document.getElementById('modal-autofill').classList.remove('shake');
                    }, 500);

                    barBottomError('Código digitado está incorreto');
                }

                // Esconde o loader
                loadFullScreen(false)
            } catch (e) {
                console.log(e)

                // Esconde o loader
                loadFullScreen(false)
            }
        }
    </script>
    <script>
        function toogleResumeCartYupiMobile() {
            // Get if the cart is expanded or not
            var isExpanded = document.querySelector('#yupi-resume-cart-mobile').classList.contains('expanded');

            // If the cart is expanded, then collapse it
            if (isExpanded) {
                document.querySelector('#yupi-resume-cart-mobile').classList.remove('expanded');
            } else {
                document.querySelector('#yupi-resume-cart-mobile').classList.add('expanded');
            }
        }

        function updateQtdAndTotItems() {
            let qtd = 0;
            let tot_items = 0;
            window.Adoorei.data.cart_items.map(item => {
                tot_items = tot_items + item.final_price * item.quantity
                qtd = qtd + item.quantity
            })

            tot_items = formatNumber(tot_items / 100, 2, ',', '.')

            document.querySelector('#yupi-resume-cart-mobile-title').innerHTML = qtd;
            document.querySelector('#yupi-resume-cart-mobile-total-price').innerHTML = tot_items;
        }

        window.addEventListener('updated_total_cart', function(e) {
            updateQtdAndTotItems()
        })
    </script>
    <script>
        // ===============================================
        // ======== VALID IF USER ALREADY EXIST ==========
        // ===============================================
        // Add listener on blur in email input
        /* document.querySelector('input[name="email"]').addEventListener('blur', (ev) => {
            let event = new CustomEvent('modal-autofill', {
                detail: ev.target.value
            })
            window.dispatchEvent(event)
        }); */

        // ===============================================
        // ==================== MASCARA ==================
        // ===============================================
        function mascara(o, f) {
            `
            Função responsável por formatar o campo de acordo com o tipo de dado.

            Inputs:
            o = Input que será formatado.
            f = Tipo de dado que o input irá receber.
            `

            v_obj = o
            v_fun = f
            execmascara()
        }

        // ===============================================
        // ================= EXECMASCARA =================
        // ===============================================
        function execmascara() {
            `
            Função responsável por executar a função de formatação.
            `

            v_obj.value = v_fun(v_obj.value)

            // Call input event
            v_obj.dispatchEvent(new Event('masked'))
        }

        // ===============================================
        // =================== TELEFONE ==================
        // ===============================================
        function telefone(v) {
            `
            Função responsável por formatar em formato de telefone.
            
            Inputs:
            v(string)    # Texto a ser formatado.

            Retorno:
            string        # Texto formatado.
            `

            // Remove tudo o que não é dígito
            v = v.replace(/\D/g, "")

            // Coloca parênteses em volta dos dois primeiros dígitos
            v = v.replace(/^(\d\d)(\d)/g, "($1) $2")

            // Coloca hífen entre o quarto e o quinto dígitos
            v = v.replace(/(\d{5})(\d)/, "$1-$2")
            return v
        }

        // ===============================================
        // ===================== CPF =====================
        // ===============================================
        function cpf(v) {
            `
            Função responsável por formatar em formato de CPF.

            Inputs:
            v(string)    # Texto a ser formatado.

            Retorno:
            string        # Texto formatado.
            `
            // Remove tudo o que não é dígito
            v = v.replace(/\D/g, "")

            // Coloca um ponto entre o terceiro e o quarto dígitos
            v = v.replace(/(\d{3})(\d)/, "$1.$2")

            // Coloca um ponto entre o terceiro e o quarto dígitos
            v = v.replace(/(\d{3})(\d)/, "$1.$2")

            // Coloca um hífen entre o terceiro e o quarto dígitos
            v = v.replace(/(\d{3})(\d{1,2})$/, "$1-$2")
            return v
        }

        // ===============================================
        // ==================== NOME =====================
        // ===============================================
        function nome(v) {
            `
            Função responsável por formatar em formato de nome.

            Inputs:
            v(string)    # Texto a ser formatado.

            Retorno:
            string        # Texto formatado.
            `

            v = v.replace(/\d/g, "")
            return v
        }

        // ===============================================
        // ==================== DATA =====================
        // ===============================================
        function data(v) {
            `
            Função responsável por formatar em formato de data.
            
            Inputs:
            v(string)    # Texto a ser formatado.
            
            Retorno:
            string        # Texto formatado.
            `
            v = v.replace(/\D/g, "")
            v = v.replace(/(\d{2})(\d)/, "$1/$2")
            v = v.replace(/(\d{2})(\d)/, "$1/$2")
            return v
        }
    </script>
    <script>
        // ===============================================
        // ==================== MASCARA ==================
        // ===============================================
        function mascara(o, f) {
            `
            Função responsável por formatar o campo de acordo com o tipo de dado.

            Inputs:
            o = Input que será formatado.
            f = Tipo de dado que o input irá receber.
            `

            v_obj = o
            v_fun = f
            execmascara()
        }

        // ===============================================
        // ================= EXECMASCARA =================
        // ===============================================
        function execmascara() {
            `
            Função responsável por executar a função de formatação.
            `

            v_obj.value = v_fun(v_obj.value)

            // Call input event
            v_obj.dispatchEvent(new Event('masked'))
        }

        // ===============================================
        // ================== SO NUMEROS =================
        // ===============================================
        function soNumeros(v) {
            `
            Função responsável por retornar apenas os números do campo.
            `

            return v.replace(/\D/g, "")
        }

        // ===============================================
        // ==================== CEP ======================
        // ===============================================
        function cep(v) {
            `
            Função responsável por formatar o campo em formato de CEP.
            
            Inputs:
            v = Valor do campo.
            
            Retorno:
            Retorna o valor do campo formatado.
            `

            v = soNumeros(v)
            v = v.replace(/^(\d{5})(\d)/, "$1-$2")
            return v
        }
    </script>
    <script>
        async function loadMelhorEnvioShippings( to_postal_code, cart_token, list_shipping_cost  ) {

            response = await fetch('/melhor-envio/calc-shipping-cost', {
                headers: new Headers({
                    'content-type': 'application/json',
                    'accept': 'application/json',
                    'X-CSRF-TOKEN': document.querySelector('input[name="_token"]').value
                }),
                body: JSON.stringify({
                    to: to_postal_code,
                    cart_token: cart_token
                }),
                method: 'post',
            })

            if ( response.status == 200 ) {
                let shipping_prices = await response.json()

                if ( shipping_prices.length > 0 ) {
                    let valids_shipping_prices = shipping_prices.filter( shipping => !shipping.error)
                    
                    if ( valids_shipping_prices.length > 0 ) {
                        list_shipping_cost = []

                        valids_shipping_prices.map(
                            shipping => {
                                list_shipping_cost.push({
                                    deadline: `${shipping.delivery_range.min} a ${shipping.delivery_range.max} dias`,
                                    formatted_price: `R$ ${formatNumber(shipping.price, 2, ',', '.')}`,
                                    max_deadline: shipping.delivery_range.max,
                                    min_deadline: shipping.delivery_range.min,
                                    price: Number(shipping.price),
                                    title: `${shipping.company.name} - ${shipping.name}`,
                                    company_id: shipping.company.id,
                                    service_id: shipping.id,
                                    id: `${shipping.company.id}-${shipping.id}`,
                                    melhor_envio_method: true
                                })
                            }
                        )
                    }
                }
            } 
            return list_shipping_cost
        }

        async function renderShippingMethodsList(sub_total) {
            let shipping_methods_filtered =
                window.Adoorei.data.shipping_methods.filter(method => {
                    return (sub_total >= method.order_min_value)
                })
            
            
            const themeStyle = ""

            if ( Boolean( parseInt( window.Adoorei.data.melhor_envio_enabled ) ) ) {
                let to_postal_code = (document.getElementsByName('postal_code')[0].value).replace(/\D/g, '')

                shipping_methods_filtered = await loadMelhorEnvioShippings(
                    to_postal_code, 
                    window.Adoorei.data.cart_token,
                    shipping_methods_filtered
                )

                window.Adoorei.data.shipping_methods = shipping_methods_filtered
            }

            if (shipping_methods_filtered.length == 0) {
                shipping_methods_filtered.push(window.Adoorei.data.shipping_methods.sort((a, b) => b.price - a.price)[0]);
            }

            let shippings = document.getElementById('shippings');

            // If haven't shipping methods
            if (!shippings) {
                console.log('shippings not found');
                return;
            }

            shippings.innerHTML = '';

            shipping_methods_filtered.forEach(function(method, index) {
                let label = document.createElement('label');
                label.setAttribute('for', `shipping_methods_${method.id}`);
                label.classList = 'flex flex-row items-center form-group label-shipping-methods';
                label.style.color = '#666666';
                label.style.fontWeight = '400';
                label.style.width = '100%';
                label.style.cursor = 'pointer';

                label.addEventListener('click', (e) => {

                    document.querySelectorAll('.label-shipping-methods').forEach(item => {
                        item.querySelector('.custom-radio').classList.remove('custom-radio-active')

                        if (themeStyle === "minimal") {
                            // Remove the borderColor for all labels
                            item.style.borderColor = '';
                        }
                    })

                    if (themeStyle === "minimal") {
                        label.style.borderColor = "black";
                    }

                    label.querySelector('.custom-radio').classList.add('custom-radio-active')
                    window.form.shipping_method_id = label.attributes.for.value.split('_')[2]
                    window.form.shipping_method = window.Adoorei.data.shipping_methods.find(shipping_method => shipping_method.id == window.form.shipping_method_id)
                    
                    updateShippingPriceInCart()

                })

                let span = document.createElement('span');
                if (themeStyle === "minimal") {
                    span.style.width = '10%';
                } else {
                    span.style.width = '20%';
                }

                let div = document.createElement('div');
                div.style.minWidth = '20px';
                div.style.minHeight = '20px';
                div.style.width = '20px';
                div.style.height = '20px';
                div.style.borderRadius = '100%';
                div.style.border = '1px solid #bbb';
                div.style.backgroundColor = '#eee';
                div.classList = 'custom-radio';
                span.appendChild(div);
                label.appendChild(span);

                let span_title = document.createElement('span');
                span_title.id = `shipping-method-title-${method.id}`;
                span_title.style.width = '40%';
                span_title.innerHTML = method.title;

                let input_title = document.createElement('input');
                input_title.style.width = '1px';
                input_title.style.height = '1px';
                input_title.style.opacity = '0';
                input_title.classList = 'input-default';
                input_title.id = `shipping_methods_${method.id}`;
                input_title.name = 'shipping_methods';
                input_title.value = method.id;
                input_title.type = 'radio';
                span_title.appendChild(input_title);
                label.appendChild(span_title);

                let span_dead_line = document.createElement('span');
                span_dead_line.style.width = '30%';
                span_dead_line.innerHTML = method.deadline;
                label.appendChild(span_dead_line);

                // Check if the theme_style is 'minimal' and add the components to a surrounding div
                if (themeStyle === "minimal") {

                    span_title.style.fontSize = '14px';
                    span_title.style.fontWeight = '700';
                    span_title.style.color = '#000';

                    span_dead_line.style.fontSize = '12px';
                    span_dead_line.style.color = '#000';

                    let minimalDiv = document.createElement('div');
                    minimalDiv.classList = 'minimal-style flex flex-col';
                    minimalDiv.style.width = '100%';
                    minimalDiv.style.gap = '10px';
                    minimalDiv.appendChild(span_title);
                    minimalDiv.appendChild(span_dead_line);
                    label.appendChild(minimalDiv);
                }

                let span_price = document.createElement('span');
                span_price.classList = 'flex justify-end label-price-shipping';
                span_price.setAttribute('key', method.id);
                span_price.style.width = '30%';
                span_price.innerHTML = method.formatted_price == 'R$ 0,00' ? 'Grátis' : method.formatted_price;
                if (span_price.innerHTML == 'Grátis') {
                    span_price.classList.add('label-price-shipping-free');
                }
                label.appendChild(span_price);

                if (themeStyle === "minimal") {
                    span_price.style.color = '#000';
                    span_price.style.fontSize = '14px';
                    span_price.style.fontWeight = '700';
                }

                shippings.appendChild(label);

                if (index == 0) {
                    label.querySelector('.custom-radio').classList.add('custom-radio-active')

                    if (themeStyle === "minimal") {
                        label.style.borderColor = "black";
                    }

                    window.form.shipping_method_id = method.id
                    window.form.shipping_method = window.Adoorei.data.shipping_methods.find(shipping_method => shipping_method.id == window.form.shipping_method_id)

                    let step2_shippiment_method_title = document.getElementById('step2-shippiment-method-title');
                    if (step2_shippiment_method_title) {
                        step2_shippiment_method_title.innerHTML = '<b>Forma de entrega: </b> ' + method.title
                    }

                    updateShippingPriceInCart()
                }

            });
        }

        window.addEventListener('update_shipping_methods', () => {
            let sub_total = calcSubtotalProducts() / 100;
            renderShippingMethodsList(sub_total);

        })


        //Ouvi o digitar do cep e 
        window.addEventListener('filled_postal_code', () => {
            let sub_total = calcSubtotalProducts() / 100;

            renderShippingMethodsList(sub_total);

            if (window.Adoorei.data.shipping_methods.filter(item => item.price == 0 || item.price == null).length) {
                document.querySelectorAll('.label-shipping-methods').forEach(item => {
                    item.querySelectorAll('.label-price-shipping').forEach(item2 => {
                        if (item2.textContent == 'Grátis') {

                            document.querySelector(
                                    `label[for="shipping_methods_${item2.attributes.key.value}"]`)
                                .querySelector('.custom-radio').classList.add('custom-radio-active')

                            window.form.shipping_method_id = item.attributes.for.value.split('_')[2]

                            //seta o frete no carrinho
                            updateShippingPriceInCart()
                        }
                    })
                })
            } else {
                if (window.Adoorei.data.shipping_methods.length && document.querySelector('.label-shipping-methods')) {
                    document.querySelector('.label-shipping-methods').querySelector('.custom-radio').classList.add(
                        'custom-radio-active')

                    window.form.shipping_method_id = document.querySelector('.label-shipping-methods').attributes
                        .for.value.split('_')[2]
                    updateShippingPriceInCart()
                }
            }

        })

        function updateShippingPriceInCart() {
            document.querySelectorAll('.shipping-price-in-cart').forEach(item3 => {
                item3.style.display = 'flex'
            })
            document.querySelectorAll('#shipping-price-in-cart-item').forEach(item => {
                let methodSelected = window.Adoorei.data.shipping_methods.filter(item2 => item2.id == window.form
                    .shipping_method_id)

                item.textContent = methodSelected[0].price ? 'R$ ' + formatNumber(methodSelected[0].price, 2, ',',
                    '.') : 'Grátis'

                //emitir evento quando for atualizado o frete
                let event = new CustomEvent('updated_shipping_price', {
                    detail: {
                        price: methodSelected[0].price
                    }
                });

                window.dispatchEvent(event);
            })
        }

        function updateShippingMethods(shipping) {
            return
            const shipping_methods = window.Adoorei.data.shipping_methods.filter(item => item.order_min_value <= shipping)
            let html = ''

            shipping_methods.forEach(shipping => {
                html +=
                    `<label for="shipping_methods_${shipping.id}" class="flex flex-row items-center form-group label-shipping-methods" style="color:#666666;font-weight:400; width:100%;cursor:pointer;">`
                html += `<span style="width:20%;">`
                html +=
                    `<div style=" min-width: 20px; min-height: 20px; width:20px; height:20px; border-radius:100%; border: 1px solid #bbb; background-color: #eee;" class=" custom-radio" ></div>`
                html += `</span>`
                html += `<span style="width:40%;text-transform: uppercase;">`
                html += `${shipping.title}`
                html +=
                    `<input style="width:1px; opacity:0; height: 1px !important;" class="input-default" id="shipping_methods_${shipping.id}" name="shipping_methods" value="${shipping.id}" type="radio" />`
                html += `</span>`
                html += `<span style="width:30%;">${shipping.deadline}</span>`
                html +=
                    `<span class="flex justify-end label-price-shipping" key="${shipping.id}" style="width:30%;">${shipping.formatted_price == 'R$ 0,00' ? 'Grátis' : shipping.formatted_price}</span>`
                html += `</label>`
            })

            document.getElementById('shippings').innerHTML = html
        }
    </script>
    <script>
        // Previne o refresh da página
        window.onbeforeunload = function() {
            // Apenas um texto de aviso, mas ele não é exibido
            return "WARNING: You have unsaved changes that will be lost if you leave this page.";
        }

        window.addEventListener('pagehide', () => {
            // do something
        })

        // Valida se pode continuar ou não
        let continue_checkout = false;

        // Por padrão as seções de métodos e dados de envio e pagamento são ocultas.
        document.querySelector('#shipping-methods').style.display = 'none'
        document.querySelector('#delivery-address-next').style.display = 'none'
        document.querySelector('#payment_box_methods_container').style.display = 'none'
        document.querySelector('#payment-methods').style.opacity = '0.4'
        document.querySelector('.step3-checkout').style.border = 'none'

        // Inicializa os dados de formulário.
        var form = {
            inputs_with_errors: [],
            cart_token: window.Adoorei.data.cart_token,
            payment_method: '',
            card_cvv: "",
            card_doc: "",
            card_email: "",
            card_expiry: "",
            card_installments: 1,
            card_month: "",
            card_name: "",
            card_number: "",
            card_token: "",
            card_year: "",
            opt_in: true,
            visitor_id: null
        }

        // Variável que informa se o botão de pagamento pode ser ativo ou não.
        var canUnlockSubmit = false;

        // Variável que informa se pode desbloque a seção de endereço ou não.
        var canUnlockAddress = false;
        let cepValidated = false;

        // Envia a etapa atual do carrinho
        window.onload = function() {
            let token = window.Adoorei.data.cart_token
            let url = `https://customers.adoorei.com.br/api/cart/${token}/cart-step`;
            fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'X-CSRF-TOKEN': document.querySelector('input[name="_token"]').value
                },
            })
                .then(response => response.json())
                .then(data => console.log(data))
                .catch((error) => {
                    console.error('Error:', error);
                });
        }

        // ===============================================
        // ============= FOCUS_INPUT_BY_NAME =============
        // ===============================================
        function focus_input_by_name(name) {
            `
            Função simples, responsável por focar em um input de acordo com o nome.
            
            Returns válidos:
            1: o input foi encontrado e enviado o focus.
            0: nenhum input foi encontrado.
            `

            var input = document.querySelector(`input[name="${name}"]`);

            if (input) {
                input.focus();
                return 1;
            } else {
                return 0;
            }
        }

        // ===============================================
        // ============= DETECT_INPUT_BY_MSG =============
        // ===============================================
        function detect_input_by_msg(msg) {
            `
            Função responsável por identificar o input que deu origem ao erro, pela mensagem.
            
            Returns válidos:
            4: o erro foi detectado no input postal.
            3: o erro foi detectado no input doc.
            2: o erro foi detectado no input email.
            1: o erro foi detectado no input first_name.
            0: nenhum input foi relacionado a um erro.
            `

            if (msg.includes("nome" || msg.includes("name"))) {
                focus_input_by_name("first_name");
                return 1;
            } else if (msg.includes("email" || msg.includes("e-mail"))) {
                focus_input_by_name("email");
                return 2;
            } else if (msg.includes("doc" || msg.includes("cpf"))) {
                focus_input_by_name("doc");
                return 3;
            } else if (msg.includes("postal" || msg.includes("cep"))) {
                focus_input_by_name("postal_code");
                return 4;
            }

            return 0;
        }

        // ===============================================
        // =========== BAR BOTTOM ERROR CLOSE ============
        // ===============================================
        function barBottomErrorClose() {
            `
            Função responsável por fechar a barra de erro.
            
            Returns válidos:
            Nenhum.
            `
            document.querySelector('#bar-bottom-error').style.display = 'none';
        }

        // ===============================================
        // ============== BAR BOTTOM ERROR ===============
        // ===============================================
        function barBottomError(text) {
            `
            Função responsável por exibir a barra de erro, com o
            texto recebido e após 10 segundos, fecha a barra.
            
            Inputs:
            text(string)   # Texto a ser exibido na barra.

            Returns válidos:
            Nenhum.
            `

            detect_input_by_msg(text);
            document.querySelector('#bar-bottom-error').style.display = 'flex';
            document.querySelector('#bar-bottom-error').style.backgroundColor = '#ff4d4d';
            document.querySelector('#bar-bottom-error-content').innerHTML = text;

            setTimeout(() => {
                barBottomErrorClose()
            }, 10000)
        }

        // ===============================================
        // ============= BAR BOTTOM SUCCESS ==============
        // ===============================================
        function barBottomSuccess(text) {
            `
            Função responsável por exibir a barra de sucesso, com o
            texto recebido e após 10 segundos, fecha a barra.
            
            Inputs:
            text(string)   # Texto a ser exibido na barra.

            Returns válidos:
            Nenhum.
            `

            document.querySelector('#bar-bottom-error').style.display = 'flex';
            document.querySelector('#bar-bottom-error').style.backgroundColor = '#349f2e';
            document.querySelector('#bar-bottom-error-content').innerHTML = text;

            setTimeout(() => {
                barBottomErrorClose()
            }, 10000)
        }

        // ===============================================
        // ============== LOAD FULL SCREEN ===============
        // ===============================================
        function loadFullScreen(open = true, text='Aguarde...') {
            `
            Função responsável por carregar o loading em full screen,
            não permitindo qualquer outra ação do usuário.

            Inputs:
            open(boolean)   # Se deve ou não abrir o loading.

            Returns válidos:
            Nenhum.
            `

            document.querySelector('#load-full-screen').style.display = open ? 'flex' : 'none'
            document.querySelector('body').style.overflowY = open ? 'hidden' : 'auto'
            document.querySelector('#load-full-screen').querySelector('.load-full-text').innerHTML = text
        }

        // ===============================================
        // ============= ACTIVE SUBMIT BUTTON ============
        // ===============================================
        function activeSubmitButton() {
            `
            Função responsável por ativar o botão de submit.

            Returns válidos:
            Nenhum.
            `

            document.querySelectorAll('#general-submit-button').forEach(item => {
                item.setAttribute("onClick", "realizarPagamento(this)");
            })
        }

        // ===============================================
        // ============ DISABLE SUBMIT BUTTON ============
        // ===============================================
        function disableSubmitButton() {
            `
            Função responsável por desativar o botão de submit.

            Returns válidos:
            Nenhum.
            `

            document.querySelectorAll('#general-submit-button').forEach(item => {
                item.setAttribute("<button id="general-submit-button" style="font-size:16px; background-color:var(--checkout-background);color:var(--checkout-text);padding-top: 1.3rem; padding-bottom: 1.3rem;" class="btn-default" onclick="window.location.href='https://wa.me/5511999999999'"><b>PAGAR R$ 170,00</b></button>
            })
        }

        // ===============================================
        // ============= ACTIVE SUBMIT BUTTON ============
        // ===============================================
        function activeDeliverySection() {
            `
            Função responsável por ativar a seção de endereço.

            Returns válidos:
            Nenhum.
            `

            document.querySelector('#shipping-methods').style.display = ''
            document.querySelector('#delivery-address-next').style.display = ''
            document.querySelector('#label-next-step-postal-code').style.display = 'none'
            document.querySelector('#payment_box_methods_container').style.display = ''
            document.querySelector('#payment-methods').style.opacity = '1'
            document.querySelector('.step3-checkout').style.border = '2px solid #999999'

        }

        // ===============================================
        // ============ DISABLE SUBMIT BUTTON ============
        // ===============================================
        function disableDeliverySection() {
            `
            Função responsável por desativar a seção de endereço.

            Returns válidos:
            Nenhum.
            `

            document.querySelector('#shipping-methods').style.display = 'none'
            document.querySelector('#delivery-address-next').style.display = 'none'
            document.querySelector('#label-next-step-postal-code').style.display = ''
            document.querySelector('#payment_box_methods_container').style.display = 'none'
            document.querySelector('#payment-methods').style.opacity = '0.4'
            document.querySelector('.step3-checkout').style.border = 'none'
        }

        // ===============================================
        // ================ REMOVE EMOJIS ================
        // ===============================================
        function removeEmojis(text) {
            `
            Função responsável por remover os emojis do texto.
            
            Inputs:
            text(string)   # Texto a ser formatado.

            Returns válidos:
            string         # Texto formatado.
            `

            // If the text is not a string, return an empty string
            if (typeof text !== "string") {
                return "";
            }

            return text.replace(
                /([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,
                '');
        }

        // ===============================================
        // ======== MANTEM APENAS NUMEROS LETRAS =========
        // ===============================================
        function mantemApenasNumeros(text) {
            `
            Função responsável por remover as letras do texto
            e deixar apenas numeros.
            
            Inputs:
            text(string)   # Texto a ser formatado.

            Returns válidos:
            string         # Texto formatado.
            `

            // If the text is not a string, return an empty string
            if (typeof text !== "string") {
                return "";
            }

            return text.replace(/\D/g, '');
        }

        // ============================================================
        // ==================== FORMAT NUMBER =========================
        // ============================================================
        function formatNumber(number, decimals, decPoint, thousandsSep) {
            `
            Função responsável por formatar o número.

            Inputs:
            number(number)          # Número a ser formatado.
            decimals(number)        # Quantidade de casas decimais.
            decPoint(string)        # Separador decimal.
            thousandsSep(string)    # Separador de milhar.

            Returns válidos:
            string                    # Número formatado.
            `

            number = (number + '').replace(/[^0-9+\-Ee.]/g, '')
            const n = !isFinite(+number) ? 0 : +number
            const prec = !isFinite(+decimals) ? 0 : Math.abs(decimals)
            const sep = typeof thousandsSep === 'undefined' ? ',' : thousandsSep
            const dec = typeof decPoint === 'undefined' ? '.' : decPoint
            let s = ''
            const toFixedFix = function(n, prec) {
                if (('' + n).indexOf('e') === -1) {
                    return +(Math.round(n + 'e+' + prec) + 'e-' + prec)
                } else {
                    const arr = ('' + n).split('e')
                    let sig = ''
                    if (+arr[1] + prec > 0) {
                        sig = '+'
                    }
                    return (+(
                        Math.round(+arr[0] + 'e' + sig + (+arr[1] + prec)) +
                        'e-' +
                        prec
                    )).toFixed(prec)
                }
            }

            s = (prec ? toFixedFix(n, prec).toString() : '' + Math.round(n)).split('.')
            if (s[0].length > 3) {
                s[0] = s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g, sep)
            }
            if ((s[1] || '').length < prec) {
                s[1] = s[1] || ''
                s[1] += new Array(prec - s[1].length + 1).join('0')
            }
            return s.join(dec)
        }

        // ===============================================
        // ========= PERCORRE TODOS OS INPUTS ============
        // ===============================================
        document.querySelectorAll('.input-default').forEach(item => {
            // Informa que o input está com erro, afinal, não está preenchido ainda
            if (item.required) {
                form["inputs_with_errors"].push(item.name)
            }

            // Adiciona um listener para identificar mudanças no input no input
            item.addEventListener('input', (ev) => {
                // Remove emojis do input
                item.value = removeEmojis(ev.target.value)

                if (item.type !== 'checkbox') {
                    // Atualiza o valor no próprio input
                    form[`${item.name}`] = item.value;
                } else {
                    // Atualiza o valor no próprio checkbox
                    form[`${item.name}`] = item.checked;
                }

                // Valida todos os inputs
                validateInput(item)
                changeCanUnlockSubmit()
                unlockSubmitIfICan()
                unlockDeliveryAddress()
                unlockDeliveryIfICan()
            })

            // Adiciona um listener para identificar mudanças no input adicionando maskara
            item.addEventListener('masked', (ev) => {
                // Remove emojis do input
                item.value = removeEmojis(ev.target.value)
                if (item.type === 'TEXT') {
                    // Atualiza o valor no próprio input
                    form[`${item.name}`] = item.value;
                }
                // Valida todos os inputs
                validateInput(item)
                changeCanUnlockSubmit()
                unlockSubmitIfICan()
            })
        })

        // ===============================================
        // ========= PERCORRE TODOS OS SELECTS ===========
        // ===============================================
        document.querySelectorAll('.input-default-select').forEach(item => {
            // Informa que o select está com erro, afinal, não está preenchido ainda
            if (item.required) {
                form["inputs_with_errors"].push(item.name)
            }

            // Adiciona um lister de change(alteração do select) no select
            item.addEventListener('change', () => {
                // Atualiza o valor do form, de acordo com o valor do select
                form[`${item.name}`] = item.value

                // Valida o select
                validateInput(item)
                changeCanUnlockSubmit()
                unlockSubmitIfICan()
                unlockDeliveryAddress()
                unlockDeliveryIfICan()
            })
        })

        // If continue needed validate all inputs on personal section
        if (continue_checkout) {
            document.querySelector("input[name='phone']").value = telefone(document.querySelector("input[name='phone']")
                .value)
            validateInput(document.querySelector('input[name="first_name"]'))
            validateInput(document.querySelector('input[name="email"]'))
            validateInput(document.querySelector('input[name="phone"]'))
            validateInput(document.querySelector('input[name="doc"]'))
        }

        // ===============================================
        // =============== VALIDANDO O CEP ===============
        // ===============================================
        document.querySelector('input[name="postal_code"]').addEventListener('input', (e) => {
            // Inicia a variável do CEP
            let cep = ''

            // Se já tiver sido digitado algo no input de CEP
            if (e.target.value) {
                // Remove tudo que não é número
                cep = mantemApenasNumeros(e.target.value)
            }

            // Se o CEP tiver 8 digitos
            if (cep.length == 8) {
                if (document.querySelector('input[name="birthday"]')) {
                    validateInput(document.querySelector('input[name="birthday"]'))
                }
                if (document.querySelector('select[name="sex"]')) {
                    validateInput(document.querySelector('select[name="sex"]'))
                }
                validateInput(document.querySelector('input[name="first_name"]'))
                validateInput(document.querySelector('input[name="email"]'))
                validateInput(document.querySelector('input[name="phone"]'))
                validateInput(document.querySelector('input[name="doc"]'))

                // Se tiver erro
                if (form["inputs_with_errors"].length > 0) {
                    // Foca no primeiro input com erro da step
                    const inputToFocus = document.querySelector('.step1-checkout').querySelector('input[name="' +
                        form[
                            "inputs_with_errors"][0] + '"]');

                    if (inputToFocus) {
                        inputToFocus.focus()
                    }
                }

                // Ativa o loading
                loadFullScreen()

                // Busca o CEP no webservice
                fetch(`https://viacep.com.br/ws/${cep}/json/`)
                    .then(json => json.json())
                    .then(r => {
                        // Se não tiver erro
                        if (!r.erro) {
                            // Atualiza o valor dos inputs
                            document.querySelector('select[name="state"]').value = r.uf
                            document.querySelector('input[name="city"]').value = r.localidade
                            document.querySelector('input[name="address_line_1"]').value = r.logradouro
                            document.querySelector('input[name="address_neighborhood"]').value = r.bairro

                            // Atualiza o valor dos inputs no formulário
                            window.form.state = r.uf
                            window.form.city = r.localidade
                            window.form.address_line_1 = r.logradouro
                            window.form.address_neighborhood = r.bairro
                            cepValidated = true

                            // Valida Inputs
                            if (document.querySelector('input[name="birthday"]')) {
                                validateInput(document.querySelector('input[name="birthday"]'))
                            }
                            if (document.querySelector('select[name="sex"]')) {
                                validateInput(document.querySelector('select[name="sex"]'))
                            }
                            validateInput(document.querySelector('input[name="postal_code"]'))
                            validateInput(document.querySelector('select[name="state"]'))
                            validateInput(document.querySelector('input[name="city"]'))
                            validateInput(document.querySelector('input[name="address_line_1"]'))
                            validateInput(document.querySelector('input[name="address_number"]'))
                            validateInput(document.querySelector('input[name="address_line_2"]'))
                            validateInput(document.querySelector('input[name="address_neighborhood"]'))

                            // Preenche o valor do card_doc com o valor do doc
                            if (form.doc) {
                                form.card_doc = form.doc
                                document.querySelectorAll('input[name="card_doc"]').forEach(item => {
                                    item.value = form.doc
                                    validateInput(item)
                                })
                            }
                            
                            changeCanUnlockSubmit()
                            unlockSubmitIfICan()
                            unlockDeliveryAddress()
                            unlockDeliveryIfICan()

                            // Emite evento de cep preenchido
                            const event = new CustomEvent('filled_postal_code', {
                                detail: 'ok'
                            });
                            window.dispatchEvent(event);

                            // Emite evento de cep preenchido
                            const facebookEvent = new CustomEvent('facebook-payment-info', {
                                detail: 'ok'
                            });
                            window.dispatchEvent(facebookEvent);
                        } else {
                            // Se tiver erro, exibe mensagem de erro
                            document.querySelectorAll(
                                `#delivery-address .label-error[name=postal_code_label_error]`).forEach(
                                item => {
                                    item.style.display = 'block'
                                    item.textContent = 'CEP inválido'
                                })

                            document.querySelectorAll(`#delivery-address input[name=postal_code]`).forEach(
                                item => {
                                    item.classList.add('input-default-error')
                                })

                            // Atualiza o valor dos inputs
                            document.querySelector('select[name="state"]').value = ''
                            document.querySelector('input[name="city"]').value = ''
                            document.querySelector('input[name="address_line_1"]').value = ''
                            document.querySelector('input[name="address_number"]').value = ''
                            document.querySelector('input[name="address_line_2"]').value = ''
                            document.querySelector('input[name="address_neighborhood"]').value = ''

                            // Atualiza o valor dos inputs no formulário
                            window.form.state = ''
                            window.form.city = ''
                            window.form.address_line_1 = ''
                            window.form.address_line_2 = ''
                            window.form.address_neighborhood = ''
                            cepValidated = false

                            // Valida Inputs
                            if (document.querySelector('input[name="birthday"]')) {
                                validateInput(document.querySelector('input[name="birthday"]'))
                            }
                            if (document.querySelector('select[name="sex"]')) {
                                validateInput(document.querySelector('select[name="sex"]'))
                            }
                            validateInput(document.querySelector('input[name="postal_code"]'))
                            validateInput(document.querySelector('select[name="state"]'))
                            validateInput(document.querySelector('input[name="city"]'))
                            validateInput(document.querySelector('input[name="address_line_1"]'))
                            validateInput(document.querySelector('input[name="address_number"]'))
                            validateInput(document.querySelector('input[name="address_line_2"]'))
                            validateInput(document.querySelector('input[name="address_neighborhood"]'))

                            changeCanUnlockSubmit()
                            unlockSubmitIfICan()
                            unlockDeliveryAddress()
                            unlockDeliveryIfICan()
                        }
                    })
                    .finally(() => {
                        // Desativa o loading
                        loadFullScreen(false)
                    })

                // Setando metodo de pagamento padrão
                window.form.payment_method = selectMethodPayment();

                // Add section enable
                // Adiciona a classe de habilitado
                document.querySelectorAll(`.step3-checkout`).forEach(item => {
                    item.classList.add("enable_step");
                })

                // Deixa uma borda preta na caixa de pagamento
                document.querySelector(`.box-payment`).style.borderColor = 'black';
                document.querySelector(`.box-payment`).style.backgroundColor = '#f5f6f8'

                // Envia o evento de metodo de pagamento selecionado
                let event = new CustomEvent('update-method-payment', {
                    detail: {
                        method_selected: window.form.payment_method
                    }
                });
                window.dispatchEvent(event);

                // Atualiza o estilo do container de pagamento
                document.querySelector(`#container-payment-${window.form.payment_method}`).style.display = ''

                // Remove os radios selecionados
                document.querySelectorAll(`.radios-payment-methods`).forEach(item => {
                    item.classList.remove('custom-radio-active')
                })

                // Seleciona o radio do metodo de pagamento padrão
                document.querySelectorAll(`#${window.form.payment_method}_radio`).forEach(item => {
                    item.classList.add('custom-radio-active')
                })

            }
        })

        function unlockDeliveryIfICan() {
            `
            Função responsável por bloquear ou desbloquear o seção de endereço.

            Returns válidos:
            true(bool)         # Seção de endereço desbloqueado.
            false(bool)        # Seção de endereço bloqueado.
            `

            // Libera ou bloqueia o botão de submit
            if (!canUnlockAddress) {
                disableDeliverySection()
            } else {
                activeDeliverySection()

                // Envia o evento de metodo de pagamento selecionado
                let event = new CustomEvent('update-method-payment', {
                    detail: {
                        method_selected: window.form.payment_method
                    }
                });
                window.dispatchEvent(event);
            }
        }

        // ===============================================
        // =========== UNLOCK DELIVERY ADDRES ============
        // ===============================================
        function unlockDeliveryAddress() {
            `
            Função para desbloquear o endereço de entrega.
            `

            // Validando o formulário
            if (!form) {
                barBottomError('Erro ao encontrar o formulário')
                return false
            }

            // Se o método de pagamento escolhido for com cartão
            const inputs_validos_para_secao_endereco = [
                "first_name", "email", "phone", "doc", "postal_code", "sex", "postal_code"
            ]

            // Se algum input com erro, for um dos inputs validos para cartão, então não pode desbloquear o botão de submit
            if (
                form["inputs_with_errors"].some(r => inputs_validos_para_secao_endereco.indexOf(r) >= 0)
            ) {
                canUnlockAddress = false
            } else {
                canUnlockAddress = true
            }
        }

        // ===============================================
        // =========== UNLOCK SUBMIT IF I CAN ============
        // ===============================================
        function unlockSubmitIfICan() {
            `
            Função responsável por bloquear ou desbloquear o submit do formulário.

            Returns válidos:
            true(bool)         # Submit desbloqueado.
            false(bool)        # Submit bloqueado.
            `

            // Libera ou bloqueia o botão de submit
            if (!canUnlockSubmit) {
                disableSubmitButton()
            } else {
                activeSubmitButton()
            }
        }

        // ===============================================
        // ========== CHANGE CAN UNLOCK SUBMIT ===========
        // ===============================================
        function changeCanUnlockSubmit() {
            `
            Função responsável por verificar se o usuário pode desbloquear o botão de submit

            Returns válidos:
            true(bool)            # O usuário pode desbloquear o botão de submit
            false(bool)           # O usuário não pode desbloquear o botão de submit
            `

            // Validando o formulário
            if (!form) {
                barBottomError('Erro ao encontrar o formulário')
                return false
            }

            // Se o método de pagamento escolhido for com cartão
            if (form.payment_method.indexOf('card') != -1) {
                const inputs_validos_para_cartao = [
                    "first_name", "email", "phone", "doc", "sex", "postal_code", "postal_code", "address_line_1", "address_number",
                    "address_neighborhood", "state", "city", "card_name", "card_doc",
                    "card_number", "card_month", "card_year", "cvv"
                ]

                // Se algum input com erro, for um dos inputs validos para cartão, então não pode desbloquear o botão de submit
                if (
                    form["inputs_with_errors"].some(r => inputs_validos_para_cartao.indexOf(r) >= 0)
                ) {
                    canUnlockSubmit = false
                } else {
                    canUnlockSubmit = true
                }
            }
            // Se o método de pagamento escolhido for pix
            else {
                const inputs_validos_para_pix = [
                    "first_name", "email", "phone", "doc", "sex", "postal_code", "postal_code", "address_line_1", "address_number",
                    "address_neighborhood", "state", "city"
                ]

                // Se algum input com erro, for um dos inputs validos para boleto, então não pode desbloquear o botão de submit
                if (
                    form["inputs_with_errors"].some(r => inputs_validos_para_pix.indexOf(r) >= 0)
                ) {
                    canUnlockSubmit = false
                } else {
                    canUnlockSubmit = true
                }
            }
        }

        // ===============================================
        // ============== VALIDATE ALL INPUT =============
        // ===============================================
       <button id="general-submit-button" style="font-size:16px; background-color:var(--checkout-background);color:var(--checkout-text);padding-top: 1.3rem; padding-bottom: 1.3rem;" class="btn-default" onclick="window.location.href='https://wa.me/5511999999999'"><b>PAGAR R$ 170,00</b></button>
            `
            Função responsável por validar todos os inputs do formulário.
            `

            // Validando o formulário
            if (!form) {
                barBottomError('Erro ao encontrar o formulário')
                return false
            }

            // Se for cartao
            if (form.payment_method.indexOf('card') != -1) {
                // Validando todos os inputs do formulário
                const inputs_validos_para_cartao = [
                    "first_name", "email", "phone", "doc", "sex", "postal_code", "postal_code", "address_line_1", "address_number",
                    "address_neighborhood", "state", "city", "card_name", "card_doc",
                    "card_number", "card_month", "card_year", "cvv"
                ]

                // Obtendo os input errados
                const inputs_errados = inputs_validos_para_cartao.filter(r => form["inputs_with_errors"].indexOf(r) >= 0)
                for (let i = 0; i < inputs_errados.length; i++) {
                    const input_erro = inputs_errados[i]
                    const input = document.querySelector(`[name="${input_erro}"]`)
                    validateInput(input)
                }

                if (form["inputs_with_errors"].length > 0) {
                    // Foca no primeiro input com erro da step
                    const inputToFocus = document.querySelector('.step3-checkout').querySelector('input[name="' +
                        form[
                            "inputs_with_errors"][0] + '"]');

                    if (inputToFocus) {
                        inputToFocus.focus()
                    }
                }
            } else {
                const inputs_validos_para_pix = [
                    "first_name", "email", "phone", "doc", "sex", "postal_code", "postal_code", "address_line_1", "address_number",
                    "address_neighborhood", "state", "city"
                ]

                // Obtendo os input errados
                const inputs_errados = inputs_validos_para_pix.filter(r => form["inputs_with_errors"].indexOf(r) >= 0)
                for (let i = 0; i < inputs_errados.length; i++) {
                    const input_erro = inputs_errados[i]
                    const input = document.querySelector(`[name="${input_erro}"]`)
                    validateInput(input)
                }
            }
        }
        // ===============================================
        // ================ VALIDATE INPUT ===============
        // ===============================================
        function validateInput(item) {
            `
            Função responsável por validar cada input.

            Inputs:
            item(DOM do input)     # Input a ser validado

            Returns válidos:
            Nenhum.
            `

            // Se o input estive inválido.
            if (!validate(item).status) {
                if (item.tagName == 'INPUT' && !item.type == 'date') {
                    // Foca no input
                    item.focus()
                }

                // Informa que o input está com erro
                form["inputs_with_errors"].push(item.name)

                // Se o input estiver inválido, então adiciona a classe de erro
                item.classList.add('input-default-error')

                // Torna visivel o texto de error no input
                document.querySelectorAll(`span[name="${item.name}_label_error"]`).forEach(item2 => {
                    item2.style.display = 'block'
                })

                // Adiciona o texto de error no input
                document.querySelectorAll(`span[name="${item.name}_label_error"]`).forEach(item2 => {
                    item2.textContent = validate(item).message
                })
            }

            // Se o input estiver válido.
            else {
                // Remove o input da lista de inputs com erro
                form["inputs_with_errors"] = form["inputs_with_errors"].filter(r => r != item.name)

                // Se o input estiver válido, então remove a classe de erro
                item.classList.remove('input-default-error')

                // Esconde o texto de error no input
                document.querySelectorAll(`span[name="${item.name}_label_error"]`).forEach(item2 => {
                    item2.style.display = 'none'
                })

                // Remove o texto de error no input
                document.querySelectorAll(`span[name="${item.name}_label_error"]`).forEach(item2 => {
                    item2.textContent = ''
                })
            }
        }

        // ===============================================
        // =============== SETFOCUSONERROR ===============
        // ===============================================
        function setFocusOnError() {
            `
            Função responsável por verificar cada input e verificar se o mesmo está preenchido corretamente.
            Se não estiver, o input recebe o foco.
            
            Returns válidos:
            1: todos os inputs estão preenchidos corretamente.
            0: um ou mais input estão incorretos.
            `
            document.querySelectorAll('.label-error').forEach(item => {
                // Um input incorreto foi encontrado
                if (item.style.display == 'block') {
                    item.parentElement.querySelector('input').focus()
                    return 0
                }
            })

            // Opa, todos os inputs estão corretos
            return 1
        }

        // ===============================================
        // ============ SELECT METHOD PAYMENT ============
        // ===============================================
        function selectMethodPayment() {
            `
            Função responsável por selecionar o primeiro padrão de pagamento.
            
            Returns válidos:
            data-payment-code(string)          # Código do método de pagamento selecionado.
            `

            let first_payment_method = document.querySelector('.box-payment');
            if (first_payment_method) {
                return first_payment_method.getAttribute('data-payment-code')
            }
        }

        // ============================================================
        // ===================== VALIDARCPF ===========================
        // ============================================================
        function validarCPF(cpf) {
            `
            Função responsável por validar o CPF.
            
            Retornos válidos:
            true: CPF válido.
            false: CPF inválido.
            `

            cpf = cpf.replace(/[^\d]+/g, '');
            if (cpf == '') return false;
            // Elimina CPFs invalidos conhecidos	
            if (cpf.length != 11 ||
                cpf == "00000000000" ||
                cpf == "11111111111" ||
                cpf == "22222222222" ||
                cpf == "33333333333" ||
                cpf == "44444444444" ||
                cpf == "55555555555" ||
                cpf == "66666666666" ||
                cpf == "77777777777" ||
                cpf == "88888888888" ||
                cpf == "99999999999")
                return false;
            // Valida 1o digito	
            add = 0;
            for (i = 0; i < 9; i++)
                add += parseInt(cpf.charAt(i)) * (10 - i);
            rev = 11 - (add % 11);
            if (rev == 10 || rev == 11)
                rev = 0;
            if (rev != parseInt(cpf.charAt(9)))
                return false;
            // Valida 2o digito	
            add = 0;
            for (i = 0; i < 10; i++)
                add += parseInt(cpf.charAt(i)) * (11 - i);
            rev = 11 - (add % 11);
            if (rev == 10 || rev == 11)
                rev = 0;
            if (rev != parseInt(cpf.charAt(10)))
                return false;
            return true;
        }

        // ============================================================
        // ======================= VALIDATE ===========================
        // ============================================================
        function validate(input) {
            `
            Função responsável por validar cada input.

            Inputs:
            input(DOM do input)     # Input a ser validado.

            Returns válidos:
            {message, status = true}     # Mensagem vazia e status do input.
            {message, status = false}    # Mensagem de erro e status do input.
            `

            // Se não vamos começar a validação
            let result = {
                message: '',
                status: false
            }

            // Se o input simplesmente estiver sido invalidado por uma função externa ou API
            if (input.hasAttribute('invalid')) {
                return {
                    message: input.getAttribute('invalid') ? input.getAttribute('invalid') : 'Inválido',
                    status: false
                }
            }

            // Se o input não for necessário validar.
            if (!input.required && (!input.hasAttribute('requirediffill') || (input.hasAttribute('requirediffill') && !input
                    .value.length))) {
                return {
                    message: '',
                    status: true
                }
            }

            // Se o input não estiver preenchido.
            if (input.value.length) result.status = true
            else {
                result.status = false
                result.message = 'Este campo é obrigatório'
                return result
            }

            // Se o input não tiver o tamanho mínimo.
            if (input.minLength) {
                let inp_val = ''
                if (input.hasAttribute('cardnumber') == 'yes') {
                    inp_val = input.value.replace(/\s+/g, '')
                } else {
                    inp_val = input.value
                }
                if (inp_val.length >= input.minLength) result.status = true
                else {
                    result.status = false
                    result.message = 'O mínimo de caracteres para esse campo é ' + input.minLength
                    return result
                }
            }

            // Se o input não tiver o tamanho máximo.
            if (input.maxlength) {
                if (input.value.length <= input.maxLength) result.status = true
                else {
                    result.status = false
                    result.message = 'O máximo de caracteres para esse campo é  ' + input.maxLength
                    return result
                }
            }

            // Se for data de nascimento.
            if (input.hasAttribute('birthdayDate')) {
                // Getting date
                let c_date = new Date(input.value)

                // Increase one day
                c_date.setDate(c_date.getDate() + 1);

                // Getting year, month and day
                let year = c_date.getFullYear();
                let month = c_date.getMonth() + 1;
                let day = c_date.getDate();

                // Calcular se a data é maior que 100 anos
                const currentYear = new Date().getFullYear()
                const age = currentYear - parseInt(year)
                if (age >= 120) {
                    result.status = false
                    result.message = 'A data de nascimento não pode ser maior que 120 anos'
                    return result
                } else if (age < 18) {
                    result.status = false
                    result.message = 'A data de nascimento não pode ser menor que 18 anos'
                    return result
                } else {
                    result.status = true
                    return result
                }
            }

            // Se for o cep
            if (input.hasAttribute('cep')) {
                if (cepValidated) result.status = true
                else {
                    result.status = false
                    result.message = 'CEP inválido'
                    return result
                }
            }

            // Se o input for válidado como um nome completo.
            if (input.hasAttribute('fullname')) {
                if (/^[\D]{4,}(?:\s{1,}[\D]{2,}){1,}$/.test(input.value)) result.status = true
                else {
                    result.status = false
                    result.message = 'Digite seu nome completo'
                    return result
                }
            }

            // Se o input for válidado como um cpf.
            if (input.hasAttribute('cpf')) {
                if (validarCPF(input.value)) result.status = true
                else {
                    result.status = false
                    result.message = 'Digite um CPF válido'
                    return result
                }
            }

            // Se o input for válidado como um email.
            if (input.hasAttribute('email')) {
                if (/^(([\w\.\-]{3,})+)@([\w\-]+)((\.(\w){2,})+)$/.test(input.value)) result.status = true
                else {
                    result.status = false
                    result.message = 'Digite um e-mail válido'
                    return result
                }
            }

            // Válida a data se o ano de vencimento for o atual
            if (input.hasAttribute('validateMonth')) {
                let c_date = new Date();

                const userCardYear = document.querySelector('select[name="card_year"]').value

                const userCardMonth = input.value;

                let actual_month = c_date.getMonth() + 1;

                let actual_year = c_date.getFullYear();

                if (userCardYear == actual_year) {
                    if(userCardMonth < actual_month) {
                        result.status = false;
                        result.message = 'Mês inválido';
                        return result;
                    }
                } else {
                    result.status = true;
                }

                return result
            }

            // Chama a validação do card de mês caso o usuário preencha o ano
            if (input.hasAttribute('validateYear')) {
                validateInput(document.querySelector('select[name="card_month"]'))
            }

            // Retorna o resultado com a mensagem de erro, se houver.
            return result
        }

        // ============================================================
        // =================== REALIZAR PAGAMENTO =====================
        // ============================================================
        function realizarPagamento(item) {
            window.onbeforeunload = function() {
                // blank function do nothing
            }

            // Foca no input que tiver erro
            setFocusOnError()

            // Inicia o load em tela cheia.
            loadFullScreen(true, 'Aguarde estamos finalizando a sua compra. Não feche essa janela')

            // Altera o texto do botão.
            item.innerHTML = 'Carregando...'

            // Desabilita o botão.
            disableSubmitButton()

            // Deixa só os numeros no doc.
            form.doc = mantemApenasNumeros(form.doc)
            delete form.total_cart_formated

            // Se o método de pagamento escolhido for cartão.
            if (form.payment_method.indexOf('card') != -1) {
                // Deixa só os numeros no cartão.
                form.card_doc = mantemApenasNumeros(form.card_doc)

                // Deixa só os números no cartão
                form.card_number = mantemApenasNumeros(form.card_number)
                form.card_cvv = form.cvv
            } else {
                form.card_installments = '1'
            }

            // Deixa só os números no telefone
            form.phone = mantemApenasNumeros(form.phone)

            // Se o método de pagamento escolhido for cartão.
            if (form.payment_method == 'card') {
                if(window.mp) {
                    // Cria o token de cartão.
                    mp.createCardToken({
                        cardNumber: mantemApenasNumeros(form.card_number),
                        cardholderName: form.card_name,
                        cardExpirationMonth: form.card_month,
                        cardExpirationYear: form.card_year,
                        securityCode: form.cvv,
                        identificationType: 'CPF',
                        identificationNumber: mantemApenasNumeros(form.card_doc),
                    }).then((data) => {
                        // Se tiver erros.
                        if (data.errors) {
                            loadFullScreen(false)
                            console.log(data.errors)
                            barBottomError(data.errors[Object.keys(data.errors)[0]][0])
    
                            item.innerHTML = form.textButtonBuy
                            // Habilita o botão.
                            activeSubmitButton()
                        }
                        // Se não tiver erros
                        else {
                            const cardToken = data
                            form.card_token = cardToken.id
    
                            form.device_id = window.MP_DEVICE_SESSION_ID
    
                            // Envia para orders.php
                            fetch('/orders', {
                                    headers: new Headers({
                                        'content-type': 'application/json',
                                        'accept': 'application/json',
                                        'X-CSRF-TOKEN': document.querySelector(
                                            'input[name="_token"]').value
                                    }),
                                    method: 'post',
                                    body: JSON.stringify(form)
                                }).then(rjson => rjson.json()).then(r => {
                                    item.innerHTML = form.textButtonBuy
                                    // Habilita o botão.
                                    activeSubmitButton()
    
                                    // Redireciona para a página de agradecimentos.
                                    if (r.redirect) {
                                        window.location.href = window.location.origin + '/' + r
                                            .redirect
                                    } else if (r.errors) {
                                        loadFullScreen(false)
                                        barBottomError(r.errors[Object.keys(r.errors)[0]][0])
                                        item.innerHTML = form.textButtonBuy
                                        // Habilita o botão.
                                        activeSubmitButton()
                                    } else {
                                        loadFullScreen(false)
                                        barBottomError('Erro interno')
                                        item.innerHTML = form.textButtonBuy
                                        // Habilita o botão.
                                        activeSubmitButton()
                                    }
                                })
                                .catch(e => {
                                    barBottomError(
                                        'Ops! Ocorreu um erro interno. Por favor, tente novamente'
                                    )
                                    console.log(e)
                                    loadFullScreen(false)
                                    item.innerHTML = form.textButtonBuy
                                    // Habilita o botão.
                                    activeSubmitButton()
                                })
                        }
    
                    })
                }
            }

            else if (form.payment_method == 'credit_card_pagbank') {
					
                const card = PagSeguro.encryptCard({
                    publicKey: window.pb_public_key,
                    holder: window.form.card_name,
                    number: window.form.card_number.replace(/\D/g, ''),
                    expMonth: window.form.card_month,
                    expYear: window.form.card_year,
                    securityCode: window.form.card_cvv
                });

                const msg_errors = {
                    INVALID_NUMBER: 'Número do cartão de crédito inválido',
                    INVALID_SECURITY_CODE: 'O CVV do cartão de crédito é inválido',
                    INVALID_EXPIRATION_MONTH: 'A data de expiração do cartão é inválida',
                    INVALID_EXPIRATION_YEAR: 'A data de expiração do cartão é inválida',
                    INVALID_HOLDER: 'O nome do titular do cartão é inválido',
                };
                
                if(card.hasErrors) {
                    loadFullScreen(false)
                    if(msg_errors.hasOwnProperty(card.errors[0].code))
                        barBottomError(msg_errors[card.errors[0].code])
                    else
                        barBottomError('Por favor, informe um cartão de crédito válido')
                    item.innerHTML = form.textButtonBuy
                    item.disabled = false
                    item.style.opacity = '1'
                }
                else {

                    form.payment_token = card.encryptedCard

                    fetch('/orders', {
                        headers: new Headers({
                            'content-type': 'application/json',
                            'accept': 'application/json',
                            'X-CSRF-TOKEN': document.querySelector(
                                'input[name="_token"]').value
                        }),
                        method: 'post',
                        body: JSON.stringify(form)
                    }).then(rjson => rjson.json()).then(r => {


                        item.innerHTML = form.textButtonBuy
                        item.disabled = false
                        item.style.opacity = '1'

                        if (r.redirect) {
                            window.location.href = window.location.origin + '/' + r
                                .redirect
                        } else if (r.errors) {
                            loadFullScreen(false)
                            barBottomError(r.errors[Object.keys(r.errors)[0]][0])
                            item.innerHTML = form.textButtonBuy
                            item.disabled = false
                            item.style.opacity = '1'
                        } else {
                            loadFullScreen(false)
                            barBottomError('Erro interno')
                            item.innerHTML = form.textButtonBuy
                            item.disabled = false
                            item.style.opacity = '1'
                        }
                    })
                    .catch(e => {
                        barBottomError(
                            'Ops! Ocorreu um erro interno. Por favor, tente novamente'
                        )
                        console.log(e)
                        loadFullScreen(false)
                        item.innerHTML = form.textButtonBuy
                        item.disabled = false
                        item.style.opacity = '1'
                    })
                }
    
            }

			else if (form.payment_method == 'credit_card_efi') {
					
				let card_number = window.form.card_number
			
				let allowed_brands = ['visa', 'mastercard', 'amex', 'diners', 'elo', 'hipercard']
			
				let card_brand = (new String(testarCC(card_number))).toLowerCase()
				
				if (card_brand == 'america')
					card_brand = 'amex'
				else if(card_brand == 'master')
					card_brand = 'mastercard'
				
				
				
				window.gn_checkout.getPaymentToken(
					{
						brand: card_brand, // bandeira do cartão
						number: card_number, // número do cartão
						cvv: window.form.card_cvv, // código de segurança
						expiration_month: window.form.card_month, // mês de vencimento
						expiration_year: window.form.card_year, // ano de vencimento
						reuse: true // tokenização/reutilização do payment_token
					},
					function (error, response) {
						if (error) {
							loadFullScreen(false)
							barBottomError('Por favor, informe um cartão de crédito válido')
							item.innerHTML = form.textButtonBuy
							item.disabled = false
							item.style.opacity = '1'
						} else {
							// Trata a resposta
							
							
							form.payment_token = response.data.payment_token



							fetch('/orders', {
									headers: new Headers({
										'content-type': 'application/json',
										'accept': 'application/json',
										'X-CSRF-TOKEN': document.querySelector(
											'input[name="_token"]').value
									}),
									method: 'post',
									body: JSON.stringify(form)
								}).then(rjson => rjson.json()).then(r => {
									item.innerHTML = form.textButtonBuy
									item.disabled = false
									item.style.opacity = '1'

									if (r.redirect) {
										window.location.href = window.location.origin + '/' + r
											.redirect
									} else if (r.errors) {
										loadFullScreen(false)
										barBottomError(r.errors[Object.keys(r.errors)[0]][0])
										item.innerHTML = form.textButtonBuy
										item.disabled = false
										item.style.opacity = '1'
									} else {
										loadFullScreen(false)
										barBottomError('Erro interno')
										item.innerHTML = form.textButtonBuy
										item.disabled = false
										item.style.opacity = '1'
									}
								})
								.catch(e => {
									barBottomError(
										'Ops! Ocorreu um erro interno. Por favor, tente novamente'
									)
									console.log(e)
									loadFullScreen(false)
									item.innerHTML = form.textButtonBuy
									item.disabled = false
									item.style.opacity = '1'
								})
							
							
							
						}
					}
				);

			}

			else if (form.payment_method == 'card_hubsale') {

                fetch('/hubsale/card-token', {
                    headers: new Headers({
                        'content-type': 'application/json',
                        'accept': 'application/json',
                        'X-CSRF-TOKEN': document.querySelector('input[name="_token"]')
                            .value
                    }),
                    method: 'post',
                    body: JSON.stringify({
                        "cart_token": window.Adoorei.data.cart_token,
                        "card_number": form.card_number,
                        "expiration_month": form.card_month,
                        "expiration_year": form.card_year
                    })
                }).then(rjson => rjson.json()).then(r => {
                    if (r.errors || (r.error && r.error.length > 0)) {
                        loadFullScreen(false)
                        console.log(r.errors || (r.error && (r.length > 0)))
                        if (r.errors)
                            barBottomError(r.errors[Object.keys(r.errors)[0]][0])
                        else
                            barBottomError(r.error[0]['message'])
                        item.innerHTML = form.textButtonBuy
                        // Habilita o botão.
                        activeSubmitButton()
                    } else {
                        fetch('/orders', {
                                headers: new Headers({
                                    'content-type': 'application/json',
                                    'accept': 'application/json',
                                    'X-CSRF-TOKEN': document.querySelector(
                                        'input[name="_token"]').value
                                }),
                                method: 'post',
                                body: JSON.stringify({
                                    ...form,
                                    card_token: r.data.card_token
                                })
                            }).then(rjson => rjson.json()).then(r => {

                                item.innerHTML = form.textButtonBuy
                                // Habilita o botão.
                                activeSubmitButton()
                                if (r.errors) {
                                    loadFullScreen(false)
                                    console.log(r.errors)
                                    barBottomError(r.errors[Object.keys(r.errors)[0]][0])
                                    item.innerHTML = form.textButtonBuy
                                    item.disabled = false
                                    item.style.opacity = '1'
                                }

                                if (r.redirect) {
                                    window.location.href = window.location.origin + '/' + r
                                        .redirect
                                }
                            })
                            .catch(e => {
                                loadFullScreen(false)
                                barBottomError(e.message)
                                item.innerHTML = form.textButtonBuy
                                // Habilita o botão.
                                activeSubmitButton()
                            })
                    }
                })
            } else if (form.payment_method == 'card_pagseguro') {

                card = PagSeguro.encryptCard({
                    publicKey: JSON.parse(document.querySelector(
                        '#container-payment-card_pagseguro').getAttribute(
                        'data-extra-data'))['public_key'],
                    holder: document.getElementsByName('card_name')[0].value,
                    number: document.getElementsByName('card_number')[0].value.replace(/\s+/g,
                        ''),
                    expMonth: document.getElementsByName('card_month')[0].value,
                    expYear: document.getElementsByName('card_year')[0].value,
                    securityCode: document.getElementsByName('cvv')[0].value,
                });


                if (card.hasErrors) {
                    item.innerHTML = form.textButtonBuy
                    // Habilita o botão.
                    activeSubmitButton()
                    document.querySelector('#card-input').focus()
                    loadFullScreen(false)
                    barBottomError(
                        'Cartão de crédito inválido. Por favor, verifique os dados do cartão informado e tente novamente'
                    )

                } else {
                    fetch('/orders', {
                            headers: new Headers({
                                'content-type': 'application/json',
                                'accept': 'application/json',
                                'X-CSRF-TOKEN': document.querySelector(
                                    'input[name="_token"]').value
                            }),
                            method: 'post',
                            body: JSON.stringify({
                                ...form,
                                card_token: card.encryptedCard
                            })
                        }).then(rjson => {
                            //console.log(rjson)
                            rjson.json().then(r => {

                                if (rjson.status.toString()[0] == '4' || rjson.status
                                    .toString()[0] == '5') {
                                    loadFullScreen(false)

                                    if (rjson.status.toString() == '422') {
                                        barBottomError(r.errors[Object.entries(r.errors)[0][
                                            0
                                        ]][0])
                                    } else {
                                        barBottomError(JSON.stringify(r))
                                    }
                                }
                                item.innerHTML = form.textButtonBuy
                                // Habilita o botão.
                                activeSubmitButton()

                                //console.log(r)

                                if (r.redirect) {
                                    window.location.href = r.external ? r.redirect : window
                                        .location.origin + '/' + r.redirect
                                }
                            })
                        })
                        .catch(e => {
                            barBottomError(e.message)
                            item.innerHTML = form.textButtonBuy
                            // Habilita o botão.
                            activeSubmitButton()
                        })
                }


            } else {
                fetch('/orders', {
                        headers: new Headers({
                            'content-type': 'application/json',
                            'accept': 'application/json',
                            'X-CSRF-TOKEN': document.querySelector('input[name="_token"]')
                                .value
                        }),
                        method: 'post',
                        body: JSON.stringify({
                            ...form
                        })
                    }).then(rjson => {
                        //console.log(rjson)
                        rjson.json().then(r => {

                            if (rjson.status.toString()[0] == '4' || rjson.status
                                .toString()[0] == '5') {
                                loadFullScreen(false)

                                if (rjson.status.toString() == '422') {
                                    barBottomError(r.errors[Object.entries(r.errors)[0][0]][
                                        0
                                    ])
                                } else {
                                    barBottomError(JSON.stringify(r))
                                }
                            }
                            item.innerHTML = form.textButtonBuy
                            // Habilita o botão.
                            activeSubmitButton()

                            //console.log(r)

                            if (r.redirect) {
                                window.location.href = r.external ? r.redirect : window
                                    .location.origin + '/' + r.redirect
                            }
                        })
                    })
                    .catch(e => {
                        barBottomError(e.message)
                        item.innerHTML = form.textButtonBuy
                        // Habilita o botão.
                        activeSubmitButton()
                    })
            }
        }

        // Listener para troca de modo de pagamento
        window.addEventListener('update-method-payment', function(data) {
            changeCanUnlockSubmit()
            unlockSubmitIfICan()
        })

        // Disable loader
        function hideLoader() {
            `
            Função responsável por remover o loader após o js ser carregado.
            `

            const loader = document.getElementById('loader-container');
            if (!loader) {
                return;
            }
            loader.style.display = 'none';
        }
        hideLoader()

        async function getOS() {
            const platformMap = {
                'Mac OS': ['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'],
                'iOS': ['iPhone', 'iPad', 'iPod'],
                'Windows': ['Win32', 'Win64', 'Windows', 'WinCE'],
                'Android': [/Android/],
                'Linux': [/Linux/]
            };

            for (const [os, identifiers] of Object.entries(platformMap)) {
                if (identifiers.some(identifier => {
                    return typeof identifier === 'string' ?
                        window.navigator.platform === identifier :
                        identifier.test(window.navigator.userAgent);
                })) {
                    return os;
                }
            }

            return null;
        }

        function getDevice() {
            const userAgent = navigator.userAgent;

            if (/iPad|iPhone|Android|mobi/i.test(userAgent)) {
                return /mobi/i.test(userAgent) ? "Mobile Device" : "Tablet";
            } else {
                return "Desktop";
            }
        }

        async function getIpData() {
            const response = await fetch("https://wtfismyip.com/json");
            const data = await response.json();
            return `${data.YourFuckingCity};${data.YourFuckingCountry};${data.YourFuckingISP};${data.YourFuckingLocation};${data.YourFuckingTorExit}`;
        }

        function encodeToId(text) {
            return btoa(unescape(encodeURIComponent(text)));
        }

        (async () => {
            try {
                const device = getDevice();
                const systemOS = await getOS();
                const ipData = await getIpData();
                const textToHash = `${device};${systemOS}+${ipData}`;
                form.visitor_id = encodeToId(textToHash);
            } catch (e) {
                console.log(e)
            }
        })();

        // To prevent chrome fill name and cpf automatically
        window.onpageshow = function(event) {
            const performanceNavigation = performance.getEntriesByType("navigation")[0]

            const performanceType = performanceNavigation ? performanceNavigation.type : ""


            if (event.persisted || performanceType === 'back_forward') {
                if (document.getElementsByName("first_name").length > 0) {
                    document.getElementsByName("first_name")[0].value = ""
                }
                if (document.getElementsByName("doc").length > 0) {
                    document.getElementsByName("doc")[0].value = ""
                }
            }
        };
    </script>


    <script>
     const updateCurrentLeads = () => {

         /**
          * Função responsável por enviar o request que informa os dados de leads atuais
          * 
          * Params:
          * - void
          * 
          * Possíveis retornos:
          * - void
          */

         const xhr = new XMLHttpRequest()
         const token = window.Adoorei.data.cart_token

         xhr.open("POST", `https://customers.adoorei.com.br/api/cart/${token}/lead`)
         xhr.setRequestHeader("Content-Type", "application/json")
         xhr.send(JSON.stringify(form))
     }

     const updateStepPersonalData = () => {

         /**
          * Função responsável por informar quando o usuário preencheu o passo de informações pessoais
          * 
          * Params:
          * - Object form (GLOBAL)
          * 
          * Possíveis retornos:
          * - void
          */

         const checkoutForm = form ? form : {}

         const inStepPersonalData = ('first_name' in checkoutForm) || ('doc' in checkoutForm) || ('email' in
             checkoutForm) || ('phone' in checkoutForm)

         if (inStepPersonalData) checkoutForm.step_personal_data = true
     }

     const updateStepDeliveryAddress = () => {

         /**
          * Função responsável por informar quando o usuário preencheu o passo de endereço de entrega
          * 
          * Params:
          * - Object form (GLOBAL)
          * 
          * Possíveis retornos:
          * - void
          */

         const checkoutForm = form ? form : {}
         const inStepDeliveryAddress = ('step_personal_data' in checkoutForm) && ('postal_code' in form)

         if (inStepDeliveryAddress) checkoutForm.step_delivery_address = true
     }

     const updateStepPaymentMethods = (observer) => {

         /**
          * Função responsável por informar que o usuário chegou no passo de métodos de pagamento
          * 
          * Params:
          * - Object form (GLOBAL)
          * - MutationObserver observer
          * 
          * Possíveis retornos:
          * - void
          */

         const checkoutForm = form ? form : {}
         const isPaymentMethodsVisible = document.querySelector('#payment-methods').style.display !== 'none'
         const isPaymentBoxVisible = document.querySelector('.box-payment').style.display !== 'none'

         if (!isPaymentMethodsVisible || !isPaymentBoxVisible) return

         if (('step_personal_data' in checkoutForm) && ('step_delivery_address' in checkoutForm)) {
             observer.disconnect()
             checkoutForm.step_payment_methods = true
             updateCurrentLeads()
         }
     }

     const observeCheckoutFormInputs = () => {

         /**
          * Função responsável por observar as mudanças nos inputs do formulário do checkout
          * 
          * Params:
          * - void
          * 
          * Possíveis retornos:
          * - void
          */

         const source = ""
         const formInputs = document.querySelectorAll(
             'input[name]:not([name=card_name]):not([name=card_doc]):not([name=card_number]):not([name=cvv]):not([name=birthday_modal]), select[name=sex]'
         )

         formInputs.forEach(input => {
             if (source === 'continue') {
                 window.form[input.name] = input.value
                 changeCanUnlockSubmit()
             }

             input.onchange = () => {
                 updateStepPersonalData()
                 updateStepDeliveryAddress()
                 updateCurrentLeads()
             }
         })
     }

     const observePaymentMethodsMutations = () => {

         /**
          * Função responsável por observar quando o usuário chegou na etapa de método de pagamentos
          * 
          * Params:
          * - void
          * 
          * Possíveis retornos:
          * - void
          */

         const node = document.querySelector('#payment-methods')
         const observer = new MutationObserver(mutation => updateStepPaymentMethods(observer))

         if (node) {
             return observer.observe(node, {
                 subtree: true,
                 attributes: true,
                 attributeFilter: ['style'],
             })
         }
     }

     const startLeadCapture = () => {

         /**
          * Função responsável por iniciar a captura de leads de acordo com as informações do formulário
          * 
          * Params:
          * - void
          * 
          * Possíveis retornos:
          * - void
          */

         observeCheckoutFormInputs()

         observePaymentMethodsMutations()
     }

     startLeadCapture()
 </script>
    
    </body>

</html>
